var xx=Object.defineProperty;var bx=(t,e,n)=>e in t?xx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var A=(t,e,n)=>bx(t,typeof e!="symbol"?e+"":e,n);function wx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Zm={exports:{}},yl={},eg={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ua=Symbol.for("react.element"),Sx=Symbol.for("react.portal"),jx=Symbol.for("react.fragment"),Px=Symbol.for("react.strict_mode"),Ex=Symbol.for("react.profiler"),Cx=Symbol.for("react.provider"),Nx=Symbol.for("react.context"),Tx=Symbol.for("react.forward_ref"),Ox=Symbol.for("react.suspense"),Mx=Symbol.for("react.memo"),Dx=Symbol.for("react.lazy"),Gh=Symbol.iterator;function Lx(t){return t===null||typeof t!="object"?null:(t=Gh&&t[Gh]||t["@@iterator"],typeof t=="function"?t:null)}var tg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ng=Object.assign,rg={};function Os(t,e,n){this.props=t,this.context=e,this.refs=rg,this.updater=n||tg}Os.prototype.isReactComponent={};Os.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Os.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sg(){}sg.prototype=Os.prototype;function yd(t,e,n){this.props=t,this.context=e,this.refs=rg,this.updater=n||tg}var vd=yd.prototype=new sg;vd.constructor=yd;ng(vd,Os.prototype);vd.isPureReactComponent=!0;var Xh=Array.isArray,ig=Object.prototype.hasOwnProperty,xd={current:null},ag={key:!0,ref:!0,__self:!0,__source:!0};function og(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)ig.call(e,r)&&!ag.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:ua,type:t,key:i,ref:a,props:s,_owner:xd.current}}function Rx(t,e){return{$$typeof:ua,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bd(t){return typeof t=="object"&&t!==null&&t.$$typeof===ua}function Ax(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qh=/\/+/g;function Gl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ax(""+t.key):e.toString(36)}function co(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ua:case Sx:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Gl(a,0):r,Xh(s)?(n="",t!=null&&(n=t.replace(Qh,"$&/")+"/"),co(s,e,n,"",function(c){return c})):s!=null&&(bd(s)&&(s=Rx(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Qh,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Xh(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+Gl(i,o);a+=co(i,e,n,l,s)}else if(l=Lx(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+Gl(i,o++),a+=co(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Sa(t,e,n){if(t==null)return t;var r=[],s=0;return co(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $x(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qe={current:null},uo={transition:null},Ix={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:uo,ReactCurrentOwner:xd};function lg(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Sa,forEach:function(t,e,n){Sa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sa(t,function(){e++}),e},toArray:function(t){return Sa(t,function(e){return e})||[]},only:function(t){if(!bd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};q.Component=Os;q.Fragment=jx;q.Profiler=Ex;q.PureComponent=yd;q.StrictMode=Px;q.Suspense=Ox;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ix;q.act=lg;q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ng({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=xd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)ig.call(e,l)&&!ag.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:ua,type:t.type,key:s,ref:i,props:r,_owner:a}};q.createContext=function(t){return t={$$typeof:Nx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cx,_context:t},t.Consumer=t};q.createElement=og;q.createFactory=function(t){var e=og.bind(null,t);return e.type=t,e};q.createRef=function(){return{current:null}};q.forwardRef=function(t){return{$$typeof:Tx,render:t}};q.isValidElement=bd;q.lazy=function(t){return{$$typeof:Dx,_payload:{_status:-1,_result:t},_init:$x}};q.memo=function(t,e){return{$$typeof:Mx,type:t,compare:e===void 0?null:e}};q.startTransition=function(t){var e=uo.transition;uo.transition={};try{t()}finally{uo.transition=e}};q.unstable_act=lg;q.useCallback=function(t,e){return qe.current.useCallback(t,e)};q.useContext=function(t){return qe.current.useContext(t)};q.useDebugValue=function(){};q.useDeferredValue=function(t){return qe.current.useDeferredValue(t)};q.useEffect=function(t,e){return qe.current.useEffect(t,e)};q.useId=function(){return qe.current.useId()};q.useImperativeHandle=function(t,e,n){return qe.current.useImperativeHandle(t,e,n)};q.useInsertionEffect=function(t,e){return qe.current.useInsertionEffect(t,e)};q.useLayoutEffect=function(t,e){return qe.current.useLayoutEffect(t,e)};q.useMemo=function(t,e){return qe.current.useMemo(t,e)};q.useReducer=function(t,e,n){return qe.current.useReducer(t,e,n)};q.useRef=function(t){return qe.current.useRef(t)};q.useState=function(t){return qe.current.useState(t)};q.useSyncExternalStore=function(t,e,n){return qe.current.useSyncExternalStore(t,e,n)};q.useTransition=function(){return qe.current.useTransition()};q.version="18.3.1";eg.exports=q;var w=eg.exports;const be=_x(w),Fx=wx({__proto__:null,default:be},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx=w,Ux=Symbol.for("react.element"),Bx=Symbol.for("react.fragment"),Wx=Object.prototype.hasOwnProperty,Hx=zx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vx={key:!0,ref:!0,__self:!0,__source:!0};function cg(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Wx.call(e,r)&&!Vx.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Ux,type:t,key:i,ref:a,props:s,_owner:Hx.current}}yl.Fragment=Bx;yl.jsx=cg;yl.jsxs=cg;Zm.exports=yl;var h=Zm.exports,Yc={},ug={exports:{}},ct={},dg={exports:{}},hg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,R){var T=M.length;M.push(R);e:for(;0<T;){var $=T-1>>>1,B=M[$];if(0<s(B,R))M[$]=R,M[T]=B,T=$;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var R=M[0],T=M.pop();if(T!==R){M[0]=T;e:for(var $=0,B=M.length,le=B>>>1;$<le;){var pe=2*($+1)-1,_t=M[pe],Ue=pe+1,ka=M[Ue];if(0>s(_t,T))Ue<B&&0>s(ka,_t)?(M[$]=ka,M[Ue]=T,$=Ue):(M[$]=_t,M[pe]=T,$=pe);else if(Ue<B&&0>s(ka,T))M[$]=ka,M[Ue]=T,$=Ue;else break e}}return R}function s(M,R){var T=M.sortIndex-R.sortIndex;return T!==0?T:M.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,f=3,p=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=M)r(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(c)}}function _(M){if(y=!1,b(M),!m)if(n(l)!==null)m=!0,z(k);else{var R=n(c);R!==null&&U(_,R.startTime-M)}}function k(M,R){m=!1,y&&(y=!1,g(P),P=-1),p=!0;var T=f;try{for(b(R),d=n(l);d!==null&&(!(d.expirationTime>R)||M&&!C());){var $=d.callback;if(typeof $=="function"){d.callback=null,f=d.priorityLevel;var B=$(d.expirationTime<=R);R=t.unstable_now(),typeof B=="function"?d.callback=B:d===n(l)&&r(l),b(R)}else r(l);d=n(l)}if(d!==null)var le=!0;else{var pe=n(c);pe!==null&&U(_,pe.startTime-R),le=!1}return le}finally{d=null,f=T,p=!1}}var S=!1,j=null,P=-1,O=5,E=-1;function C(){return!(t.unstable_now()-E<O)}function L(){if(j!==null){var M=t.unstable_now();E=M;var R=!0;try{R=j(!0,M)}finally{R?H():(S=!1,j=null)}}else S=!1}var H;if(typeof v=="function")H=function(){v(L)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,F=te.port2;te.port1.onmessage=L,H=function(){F.postMessage(null)}}else H=function(){x(L,0)};function z(M){j=M,S||(S=!0,H())}function U(M,R){P=x(function(){M(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,z(k))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var T=f;f=R;try{return M()}finally{f=T}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,R){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var T=f;f=M;try{return R()}finally{f=T}},t.unstable_scheduleCallback=function(M,R,T){var $=t.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?$+T:$):T=$,M){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=T+B,M={id:u++,callback:R,priorityLevel:M,startTime:T,expirationTime:B,sortIndex:-1},T>$?(M.sortIndex=T,e(c,M),n(l)===null&&M===n(c)&&(y?(g(P),P=-1):y=!0,U(_,T-$))):(M.sortIndex=B,e(l,M),m||p||(m=!0,z(k))),M},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(M){var R=f;return function(){var T=f;f=R;try{return M.apply(this,arguments)}finally{f=T}}}})(hg);dg.exports=hg;var qx=dg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx=w,lt=qx;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fg=new Set,Li={};function Or(t,e){ys(t,e),ys(t+"Capture",e)}function ys(t,e){for(Li[t]=e,t=0;t<e.length;t++)fg.add(e[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kc=Object.prototype.hasOwnProperty,Kx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jh={},Zh={};function Gx(t){return Kc.call(Zh,t)?!0:Kc.call(Jh,t)?!1:Kx.test(t)?Zh[t]=!0:(Jh[t]=!0,!1)}function Xx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qx(t,e,n,r){if(e===null||typeof e>"u"||Xx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ye(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){De[t]=new Ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];De[e]=new Ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){De[t]=new Ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){De[t]=new Ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){De[t]=new Ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){De[t]=new Ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){De[t]=new Ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){De[t]=new Ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){De[t]=new Ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var wd=/[\-:]([a-z])/g;function _d(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wd,_d);De[e]=new Ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wd,_d);De[e]=new Ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wd,_d);De[e]=new Ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){De[t]=new Ye(t,1,!1,t.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){De[t]=new Ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function kd(t,e,n,r){var s=De.hasOwnProperty(e)?De[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qx(e,n,s,r)&&(n=null),r||s===null?Gx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var un=Yx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),Kr=Symbol.for("react.portal"),Gr=Symbol.for("react.fragment"),Sd=Symbol.for("react.strict_mode"),Gc=Symbol.for("react.profiler"),pg=Symbol.for("react.provider"),mg=Symbol.for("react.context"),jd=Symbol.for("react.forward_ref"),Xc=Symbol.for("react.suspense"),Qc=Symbol.for("react.suspense_list"),Pd=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),gg=Symbol.for("react.offscreen"),ef=Symbol.iterator;function Us(t){return t===null||typeof t!="object"?null:(t=ef&&t[ef]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Object.assign,Xl;function ri(t){if(Xl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xl=e&&e[1]||""}return`
`+Xl+t}var Ql=!1;function Jl(t,e){if(!t||Ql)return"";Ql=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ql=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ri(t):""}function Jx(t){switch(t.tag){case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 2:case 15:return t=Jl(t.type,!1),t;case 11:return t=Jl(t.type.render,!1),t;case 1:return t=Jl(t.type,!0),t;default:return""}}function Jc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gr:return"Fragment";case Kr:return"Portal";case Gc:return"Profiler";case Sd:return"StrictMode";case Xc:return"Suspense";case Qc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mg:return(t.displayName||"Context")+".Consumer";case pg:return(t._context.displayName||"Context")+".Provider";case jd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pd:return e=t.displayName||null,e!==null?e:Jc(t.type)||"Memo";case wn:e=t._payload,t=t._init;try{return Jc(t(e))}catch{}}return null}function Zx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jc(e);case 8:return e===Sd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eb(t){var e=yg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pa(t){t._valueTracker||(t._valueTracker=eb(t))}function vg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function No(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zc(t,e){var n=e.checked;return fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xg(t,e){e=e.checked,e!=null&&kd(t,"checked",e,!1)}function eu(t,e){xg(t,e);var n=Vn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tu(t,e.type,n):e.hasOwnProperty("defaultValue")&&tu(t,e.type,Vn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tu(t,e,n){(e!=="number"||No(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var si=Array.isArray;function os(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function nu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(si(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vn(n)}}function bg(t,e){var n=Vn(e.value),r=Vn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ru(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ea,_g=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ea=Ea||document.createElement("div"),Ea.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ea.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ri(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tb=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(t){tb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gi[e]=gi[t]})});function kg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gi.hasOwnProperty(t)&&gi[t]?(""+e).trim():e+"px"}function Sg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var nb=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function su(t,e){if(e){if(nb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function iu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=null;function Ed(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ou=null,ls=null,cs=null;function af(t){if(t=fa(t)){if(typeof ou!="function")throw Error(N(280));var e=t.stateNode;e&&(e=_l(e),ou(t.stateNode,t.type,e))}}function jg(t){ls?cs?cs.push(t):cs=[t]:ls=t}function Pg(){if(ls){var t=ls,e=cs;if(cs=ls=null,af(t),e)for(t=0;t<e.length;t++)af(e[t])}}function Eg(t,e){return t(e)}function Cg(){}var Zl=!1;function Ng(t,e,n){if(Zl)return t(e,n);Zl=!0;try{return Eg(t,e,n)}finally{Zl=!1,(ls!==null||cs!==null)&&(Cg(),Pg())}}function Ai(t,e){var n=t.stateNode;if(n===null)return null;var r=_l(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var lu=!1;if(sn)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){lu=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{lu=!1}function rb(t,e,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var yi=!1,To=null,Oo=!1,cu=null,sb={onError:function(t){yi=!0,To=t}};function ib(t,e,n,r,s,i,a,o,l){yi=!1,To=null,rb.apply(sb,arguments)}function ab(t,e,n,r,s,i,a,o,l){if(ib.apply(this,arguments),yi){if(yi){var c=To;yi=!1,To=null}else throw Error(N(198));Oo||(Oo=!0,cu=c)}}function Mr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function of(t){if(Mr(t)!==t)throw Error(N(188))}function ob(t){var e=t.alternate;if(!e){if(e=Mr(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return of(s),t;if(i===r)return of(s),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Og(t){return t=ob(t),t!==null?Mg(t):null}function Mg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mg(t);if(e!==null)return e;t=t.sibling}return null}var Dg=lt.unstable_scheduleCallback,lf=lt.unstable_cancelCallback,lb=lt.unstable_shouldYield,cb=lt.unstable_requestPaint,ve=lt.unstable_now,ub=lt.unstable_getCurrentPriorityLevel,Cd=lt.unstable_ImmediatePriority,Lg=lt.unstable_UserBlockingPriority,Mo=lt.unstable_NormalPriority,db=lt.unstable_LowPriority,Rg=lt.unstable_IdlePriority,vl=null,Bt=null;function hb(t){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(vl,t,void 0,(t.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:mb,fb=Math.log,pb=Math.LN2;function mb(t){return t>>>=0,t===0?32:31-(fb(t)/pb|0)|0}var Ca=64,Na=4194304;function ii(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Do(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=ii(o):(i&=a,i!==0&&(r=ii(i)))}else a=n&~s,a!==0?r=ii(a):i!==0&&(r=ii(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tt(e),s=1<<n,r|=t[n],e&=~s;return r}function gb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Tt(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=gb(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function uu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ag(){var t=Ca;return Ca<<=1,!(Ca&4194240)&&(Ca=64),t}function ec(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function da(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tt(e),t[e]=n}function vb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Tt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Nd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ee=0;function $g(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ig,Td,Fg,zg,Ug,du=!1,Ta=[],Ln=null,Rn=null,An=null,$i=new Map,Ii=new Map,Sn=[],xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cf(t,e){switch(t){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":$i.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(e.pointerId)}}function Ws(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=fa(e),e!==null&&Td(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bb(t,e,n,r,s){switch(e){case"focusin":return Ln=Ws(Ln,t,e,n,r,s),!0;case"dragenter":return Rn=Ws(Rn,t,e,n,r,s),!0;case"mouseover":return An=Ws(An,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return $i.set(i,Ws($i.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ii.set(i,Ws(Ii.get(i)||null,t,e,n,r,s)),!0}return!1}function Bg(t){var e=dr(t.target);if(e!==null){var n=Mr(e);if(n!==null){if(e=n.tag,e===13){if(e=Tg(n),e!==null){t.blockedOn=e,Ug(t.priority,function(){Fg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ho(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);au=r,n.target.dispatchEvent(r),au=null}else return e=fa(n),e!==null&&Td(e),t.blockedOn=n,!1;e.shift()}return!0}function uf(t,e,n){ho(t)&&n.delete(e)}function wb(){du=!1,Ln!==null&&ho(Ln)&&(Ln=null),Rn!==null&&ho(Rn)&&(Rn=null),An!==null&&ho(An)&&(An=null),$i.forEach(uf),Ii.forEach(uf)}function Hs(t,e){t.blockedOn===e&&(t.blockedOn=null,du||(du=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,wb)))}function Fi(t){function e(s){return Hs(s,t)}if(0<Ta.length){Hs(Ta[0],t);for(var n=1;n<Ta.length;n++){var r=Ta[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ln!==null&&Hs(Ln,t),Rn!==null&&Hs(Rn,t),An!==null&&Hs(An,t),$i.forEach(e),Ii.forEach(e),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)Bg(n),n.blockedOn===null&&Sn.shift()}var us=un.ReactCurrentBatchConfig,Lo=!0;function _b(t,e,n,r){var s=ee,i=us.transition;us.transition=null;try{ee=1,Od(t,e,n,r)}finally{ee=s,us.transition=i}}function kb(t,e,n,r){var s=ee,i=us.transition;us.transition=null;try{ee=4,Od(t,e,n,r)}finally{ee=s,us.transition=i}}function Od(t,e,n,r){if(Lo){var s=hu(t,e,n,r);if(s===null)uc(t,e,r,Ro,n),cf(t,r);else if(bb(s,t,e,n,r))r.stopPropagation();else if(cf(t,r),e&4&&-1<xb.indexOf(t)){for(;s!==null;){var i=fa(s);if(i!==null&&Ig(i),i=hu(t,e,n,r),i===null&&uc(t,e,r,Ro,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else uc(t,e,r,null,n)}}var Ro=null;function hu(t,e,n,r){if(Ro=null,t=Ed(r),t=dr(t),t!==null)if(e=Mr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Tg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ro=t,null}function Wg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ub()){case Cd:return 1;case Lg:return 4;case Mo:case db:return 16;case Rg:return 536870912;default:return 16}default:return 16}}var Cn=null,Md=null,fo=null;function Hg(){if(fo)return fo;var t,e=Md,n=e.length,r,s="value"in Cn?Cn.value:Cn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return fo=s.slice(t,1<r?1-r:void 0)}function po(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oa(){return!0}function df(){return!1}function ut(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oa:df,this.isPropagationStopped=df,this}return fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),e}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dd=ut(Ms),ha=fe({},Ms,{view:0,detail:0}),Sb=ut(ha),tc,nc,Vs,xl=fe({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vs&&(Vs&&t.type==="mousemove"?(tc=t.screenX-Vs.screenX,nc=t.screenY-Vs.screenY):nc=tc=0,Vs=t),tc)},movementY:function(t){return"movementY"in t?t.movementY:nc}}),hf=ut(xl),jb=fe({},xl,{dataTransfer:0}),Pb=ut(jb),Eb=fe({},ha,{relatedTarget:0}),rc=ut(Eb),Cb=fe({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Nb=ut(Cb),Tb=fe({},Ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ob=ut(Tb),Mb=fe({},Ms,{data:0}),ff=ut(Mb),Db={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ab(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Rb[t])?!!e[t]:!1}function Ld(){return Ab}var $b=fe({},ha,{key:function(t){if(t.key){var e=Db[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=po(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(t){return t.type==="keypress"?po(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?po(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ib=ut($b),Fb=fe({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pf=ut(Fb),zb=fe({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),Ub=ut(zb),Bb=fe({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wb=ut(Bb),Hb=fe({},xl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vb=ut(Hb),qb=[9,13,27,32],Rd=sn&&"CompositionEvent"in window,vi=null;sn&&"documentMode"in document&&(vi=document.documentMode);var Yb=sn&&"TextEvent"in window&&!vi,Vg=sn&&(!Rd||vi&&8<vi&&11>=vi),mf=" ",gf=!1;function qg(t,e){switch(t){case"keyup":return qb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xr=!1;function Kb(t,e){switch(t){case"compositionend":return Yg(e);case"keypress":return e.which!==32?null:(gf=!0,mf);case"textInput":return t=e.data,t===mf&&gf?null:t;default:return null}}function Gb(t,e){if(Xr)return t==="compositionend"||!Rd&&qg(t,e)?(t=Hg(),fo=Md=Cn=null,Xr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vg&&e.locale!=="ko"?null:e.data;default:return null}}var Xb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xb[t.type]:e==="textarea"}function Kg(t,e,n,r){jg(r),e=Ao(e,"onChange"),0<e.length&&(n=new Dd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xi=null,zi=null;function Qb(t){i0(t,0)}function bl(t){var e=Zr(t);if(vg(e))return t}function Jb(t,e){if(t==="change")return e}var Gg=!1;if(sn){var sc;if(sn){var ic="oninput"in document;if(!ic){var vf=document.createElement("div");vf.setAttribute("oninput","return;"),ic=typeof vf.oninput=="function"}sc=ic}else sc=!1;Gg=sc&&(!document.documentMode||9<document.documentMode)}function xf(){xi&&(xi.detachEvent("onpropertychange",Xg),zi=xi=null)}function Xg(t){if(t.propertyName==="value"&&bl(zi)){var e=[];Kg(e,zi,t,Ed(t)),Ng(Qb,e)}}function Zb(t,e,n){t==="focusin"?(xf(),xi=e,zi=n,xi.attachEvent("onpropertychange",Xg)):t==="focusout"&&xf()}function ew(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bl(zi)}function tw(t,e){if(t==="click")return bl(e)}function nw(t,e){if(t==="input"||t==="change")return bl(e)}function rw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mt=typeof Object.is=="function"?Object.is:rw;function Ui(t,e){if(Mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Kc.call(e,s)||!Mt(t[s],e[s]))return!1}return!0}function bf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wf(t,e){var n=bf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bf(n)}}function Qg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jg(){for(var t=window,e=No();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=No(t.document)}return e}function Ad(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sw(t){var e=Jg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Qg(n.ownerDocument.documentElement,n)){if(r!==null&&Ad(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=wf(n,i);var a=wf(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iw=sn&&"documentMode"in document&&11>=document.documentMode,Qr=null,fu=null,bi=null,pu=!1;function _f(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pu||Qr==null||Qr!==No(r)||(r=Qr,"selectionStart"in r&&Ad(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bi&&Ui(bi,r)||(bi=r,r=Ao(fu,"onSelect"),0<r.length&&(e=new Dd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qr)))}function Ma(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Jr={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},ac={},Zg={};sn&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function wl(t){if(ac[t])return ac[t];if(!Jr[t])return t;var e=Jr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zg)return ac[t]=e[n];return t}var e0=wl("animationend"),t0=wl("animationiteration"),n0=wl("animationstart"),r0=wl("transitionend"),s0=new Map,kf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(t,e){s0.set(t,e),Or(e,[t])}for(var oc=0;oc<kf.length;oc++){var lc=kf[oc],aw=lc.toLowerCase(),ow=lc[0].toUpperCase()+lc.slice(1);Kn(aw,"on"+ow)}Kn(e0,"onAnimationEnd");Kn(t0,"onAnimationIteration");Kn(n0,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(r0,"onTransitionEnd");ys("onMouseEnter",["mouseout","mouseover"]);ys("onMouseLeave",["mouseout","mouseover"]);ys("onPointerEnter",["pointerout","pointerover"]);ys("onPointerLeave",["pointerout","pointerover"]);Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Or("onBeforeInput",["compositionend","keypress","textInput","paste"]);Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ai));function Sf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ab(r,e,void 0,t),t.currentTarget=null}function i0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Sf(s,o,c),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Sf(s,o,c),i=l}}}if(Oo)throw t=cu,Oo=!1,cu=null,t}function ie(t,e){var n=e[xu];n===void 0&&(n=e[xu]=new Set);var r=t+"__bubble";n.has(r)||(a0(e,t,2,!1),n.add(r))}function cc(t,e,n){var r=0;e&&(r|=4),a0(n,t,r,e)}var Da="_reactListening"+Math.random().toString(36).slice(2);function Bi(t){if(!t[Da]){t[Da]=!0,fg.forEach(function(n){n!=="selectionchange"&&(lw.has(n)||cc(n,!1,t),cc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Da]||(e[Da]=!0,cc("selectionchange",!1,e))}}function a0(t,e,n,r){switch(Wg(e)){case 1:var s=_b;break;case 4:s=kb;break;default:s=Od}n=s.bind(null,e,n,t),s=void 0,!lu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function uc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=dr(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Ng(function(){var c=i,u=Ed(n),d=[];e:{var f=s0.get(t);if(f!==void 0){var p=Dd,m=t;switch(t){case"keypress":if(po(n)===0)break e;case"keydown":case"keyup":p=Ib;break;case"focusin":m="focus",p=rc;break;case"focusout":m="blur",p=rc;break;case"beforeblur":case"afterblur":p=rc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=hf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Pb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ub;break;case e0:case t0:case n0:p=Nb;break;case r0:p=Wb;break;case"scroll":p=Sb;break;case"wheel":p=Vb;break;case"copy":case"cut":case"paste":p=Ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=pf}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,b;v!==null;){b=v;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,g!==null&&(_=Ai(v,g),_!=null&&y.push(Wi(v,_,b)))),x)break;v=v.return}0<y.length&&(f=new p(f,m,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==au&&(m=n.relatedTarget||n.fromElement)&&(dr(m)||m[an]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?dr(m):null,m!==null&&(x=Mr(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=hf,_="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=pf,_="onPointerLeave",g="onPointerEnter",v="pointer"),x=p==null?f:Zr(p),b=m==null?f:Zr(m),f=new y(_,v+"leave",p,n,u),f.target=x,f.relatedTarget=b,_=null,dr(u)===c&&(y=new y(g,v+"enter",m,n,u),y.target=b,y.relatedTarget=x,_=y),x=_,p&&m)t:{for(y=p,g=m,v=0,b=y;b;b=$r(b))v++;for(b=0,_=g;_;_=$r(_))b++;for(;0<v-b;)y=$r(y),v--;for(;0<b-v;)g=$r(g),b--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=$r(y),g=$r(g)}y=null}else y=null;p!==null&&jf(d,f,p,y,!1),m!==null&&x!==null&&jf(d,x,m,y,!0)}}e:{if(f=c?Zr(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=Jb;else if(yf(f))if(Gg)k=nw;else{k=ew;var S=Zb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=tw);if(k&&(k=k(t,c))){Kg(d,k,n,u);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&tu(f,"number",f.value)}switch(S=c?Zr(c):window,t){case"focusin":(yf(S)||S.contentEditable==="true")&&(Qr=S,fu=c,bi=null);break;case"focusout":bi=fu=Qr=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,_f(d,n,u);break;case"selectionchange":if(iw)break;case"keydown":case"keyup":_f(d,n,u)}var j;if(Rd)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Xr?qg(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Vg&&n.locale!=="ko"&&(Xr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Xr&&(j=Hg()):(Cn=u,Md="value"in Cn?Cn.value:Cn.textContent,Xr=!0)),S=Ao(c,P),0<S.length&&(P=new ff(P,t,null,n,u),d.push({event:P,listeners:S}),j?P.data=j:(j=Yg(n),j!==null&&(P.data=j)))),(j=Yb?Kb(t,n):Gb(t,n))&&(c=Ao(c,"onBeforeInput"),0<c.length&&(u=new ff("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=j))}i0(d,e)})}function Wi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ao(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ai(t,n),i!=null&&r.unshift(Wi(t,i,s)),i=Ai(t,e),i!=null&&r.push(Wi(t,i,s))),t=t.return}return r}function $r(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jf(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,s?(l=Ai(n,i),l!=null&&a.unshift(Wi(n,l,o))):s||(l=Ai(n,i),l!=null&&a.push(Wi(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var cw=/\r\n?/g,uw=/\u0000|\uFFFD/g;function Pf(t){return(typeof t=="string"?t:""+t).replace(cw,`
`).replace(uw,"")}function La(t,e,n){if(e=Pf(e),Pf(t)!==e&&n)throw Error(N(425))}function $o(){}var mu=null,gu=null;function yu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vu=typeof setTimeout=="function"?setTimeout:void 0,dw=typeof clearTimeout=="function"?clearTimeout:void 0,Ef=typeof Promise=="function"?Promise:void 0,hw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ef<"u"?function(t){return Ef.resolve(null).then(t).catch(fw)}:vu;function fw(t){setTimeout(function(){throw t})}function dc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Fi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fi(e)}function $n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ds=Math.random().toString(36).slice(2),zt="__reactFiber$"+Ds,Hi="__reactProps$"+Ds,an="__reactContainer$"+Ds,xu="__reactEvents$"+Ds,pw="__reactListeners$"+Ds,mw="__reactHandles$"+Ds;function dr(t){var e=t[zt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[an]||n[zt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cf(t);t!==null;){if(n=t[zt])return n;t=Cf(t)}return e}t=n,n=t.parentNode}return null}function fa(t){return t=t[zt]||t[an],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function _l(t){return t[Hi]||null}var bu=[],es=-1;function Gn(t){return{current:t}}function oe(t){0>es||(t.current=bu[es],bu[es]=null,es--)}function se(t,e){es++,bu[es]=t.current,t.current=e}var qn={},ze=Gn(qn),nt=Gn(!1),_r=qn;function vs(t,e){var n=t.type.contextTypes;if(!n)return qn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function rt(t){return t=t.childContextTypes,t!=null}function Io(){oe(nt),oe(ze)}function Nf(t,e,n){if(ze.current!==qn)throw Error(N(168));se(ze,e),se(nt,n)}function o0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(N(108,Zx(t)||"Unknown",s));return fe({},n,r)}function Fo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qn,_r=ze.current,se(ze,t),se(nt,nt.current),!0}function Tf(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=o0(t,e,_r),r.__reactInternalMemoizedMergedChildContext=t,oe(nt),oe(ze),se(ze,t)):oe(nt),se(nt,n)}var Jt=null,kl=!1,hc=!1;function l0(t){Jt===null?Jt=[t]:Jt.push(t)}function gw(t){kl=!0,l0(t)}function Xn(){if(!hc&&Jt!==null){hc=!0;var t=0,e=ee;try{var n=Jt;for(ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jt=null,kl=!1}catch(s){throw Jt!==null&&(Jt=Jt.slice(t+1)),Dg(Cd,Xn),s}finally{ee=e,hc=!1}}return null}var ts=[],ns=0,zo=null,Uo=0,ht=[],ft=0,kr=null,en=1,tn="";function sr(t,e){ts[ns++]=Uo,ts[ns++]=zo,zo=t,Uo=e}function c0(t,e,n){ht[ft++]=en,ht[ft++]=tn,ht[ft++]=kr,kr=t;var r=en;t=tn;var s=32-Tt(r)-1;r&=~(1<<s),n+=1;var i=32-Tt(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,en=1<<32-Tt(e)+s|n<<s|r,tn=i+t}else en=1<<i|n<<s|r,tn=t}function $d(t){t.return!==null&&(sr(t,1),c0(t,1,0))}function Id(t){for(;t===zo;)zo=ts[--ns],ts[ns]=null,Uo=ts[--ns],ts[ns]=null;for(;t===kr;)kr=ht[--ft],ht[ft]=null,tn=ht[--ft],ht[ft]=null,en=ht[--ft],ht[ft]=null}var ot=null,at=null,ce=!1,Nt=null;function u0(t,e){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Of(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ot=t,at=$n(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ot=t,at=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=kr!==null?{id:en,overflow:tn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ot=t,at=null,!0):!1;default:return!1}}function wu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _u(t){if(ce){var e=at;if(e){var n=e;if(!Of(t,e)){if(wu(t))throw Error(N(418));e=$n(n.nextSibling);var r=ot;e&&Of(t,e)?u0(r,n):(t.flags=t.flags&-4097|2,ce=!1,ot=t)}}else{if(wu(t))throw Error(N(418));t.flags=t.flags&-4097|2,ce=!1,ot=t}}}function Mf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ot=t}function Ra(t){if(t!==ot)return!1;if(!ce)return Mf(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yu(t.type,t.memoizedProps)),e&&(e=at)){if(wu(t))throw d0(),Error(N(418));for(;e;)u0(t,e),e=$n(e.nextSibling)}if(Mf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){at=$n(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}at=null}}else at=ot?$n(t.stateNode.nextSibling):null;return!0}function d0(){for(var t=at;t;)t=$n(t.nextSibling)}function xs(){at=ot=null,ce=!1}function Fd(t){Nt===null?Nt=[t]:Nt.push(t)}var yw=un.ReactCurrentBatchConfig;function qs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Aa(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Df(t){var e=t._init;return e(t._payload)}function h0(t){function e(g,v){if(t){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=Un(g,v),g.index=0,g.sibling=null,g}function i(g,v,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,b,_){return v===null||v.tag!==6?(v=xc(b,g.mode,_),v.return=g,v):(v=s(v,b),v.return=g,v)}function l(g,v,b,_){var k=b.type;return k===Gr?u(g,v,b.props.children,_,b.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===wn&&Df(k)===v.type)?(_=s(v,b.props),_.ref=qs(g,v,b),_.return=g,_):(_=wo(b.type,b.key,b.props,null,g.mode,_),_.ref=qs(g,v,b),_.return=g,_)}function c(g,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=bc(b,g.mode,_),v.return=g,v):(v=s(v,b.children||[]),v.return=g,v)}function u(g,v,b,_,k){return v===null||v.tag!==7?(v=vr(b,g.mode,_,k),v.return=g,v):(v=s(v,b),v.return=g,v)}function d(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=xc(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ja:return b=wo(v.type,v.key,v.props,null,g.mode,b),b.ref=qs(g,null,v),b.return=g,b;case Kr:return v=bc(v,g.mode,b),v.return=g,v;case wn:var _=v._init;return d(g,_(v._payload),b)}if(si(v)||Us(v))return v=vr(v,g.mode,b,null),v.return=g,v;Aa(g,v)}return null}function f(g,v,b,_){var k=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:o(g,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ja:return b.key===k?l(g,v,b,_):null;case Kr:return b.key===k?c(g,v,b,_):null;case wn:return k=b._init,f(g,v,k(b._payload),_)}if(si(b)||Us(b))return k!==null?null:u(g,v,b,_,null);Aa(g,b)}return null}function p(g,v,b,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(b)||null,o(v,g,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ja:return g=g.get(_.key===null?b:_.key)||null,l(v,g,_,k);case Kr:return g=g.get(_.key===null?b:_.key)||null,c(v,g,_,k);case wn:var S=_._init;return p(g,v,b,S(_._payload),k)}if(si(_)||Us(_))return g=g.get(b)||null,u(v,g,_,k,null);Aa(v,_)}return null}function m(g,v,b,_){for(var k=null,S=null,j=v,P=v=0,O=null;j!==null&&P<b.length;P++){j.index>P?(O=j,j=null):O=j.sibling;var E=f(g,j,b[P],_);if(E===null){j===null&&(j=O);break}t&&j&&E.alternate===null&&e(g,j),v=i(E,v,P),S===null?k=E:S.sibling=E,S=E,j=O}if(P===b.length)return n(g,j),ce&&sr(g,P),k;if(j===null){for(;P<b.length;P++)j=d(g,b[P],_),j!==null&&(v=i(j,v,P),S===null?k=j:S.sibling=j,S=j);return ce&&sr(g,P),k}for(j=r(g,j);P<b.length;P++)O=p(j,g,P,b[P],_),O!==null&&(t&&O.alternate!==null&&j.delete(O.key===null?P:O.key),v=i(O,v,P),S===null?k=O:S.sibling=O,S=O);return t&&j.forEach(function(C){return e(g,C)}),ce&&sr(g,P),k}function y(g,v,b,_){var k=Us(b);if(typeof k!="function")throw Error(N(150));if(b=k.call(b),b==null)throw Error(N(151));for(var S=k=null,j=v,P=v=0,O=null,E=b.next();j!==null&&!E.done;P++,E=b.next()){j.index>P?(O=j,j=null):O=j.sibling;var C=f(g,j,E.value,_);if(C===null){j===null&&(j=O);break}t&&j&&C.alternate===null&&e(g,j),v=i(C,v,P),S===null?k=C:S.sibling=C,S=C,j=O}if(E.done)return n(g,j),ce&&sr(g,P),k;if(j===null){for(;!E.done;P++,E=b.next())E=d(g,E.value,_),E!==null&&(v=i(E,v,P),S===null?k=E:S.sibling=E,S=E);return ce&&sr(g,P),k}for(j=r(g,j);!E.done;P++,E=b.next())E=p(j,g,P,E.value,_),E!==null&&(t&&E.alternate!==null&&j.delete(E.key===null?P:E.key),v=i(E,v,P),S===null?k=E:S.sibling=E,S=E);return t&&j.forEach(function(L){return e(g,L)}),ce&&sr(g,P),k}function x(g,v,b,_){if(typeof b=="object"&&b!==null&&b.type===Gr&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ja:e:{for(var k=b.key,S=v;S!==null;){if(S.key===k){if(k=b.type,k===Gr){if(S.tag===7){n(g,S.sibling),v=s(S,b.props.children),v.return=g,g=v;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===wn&&Df(k)===S.type){n(g,S.sibling),v=s(S,b.props),v.ref=qs(g,S,b),v.return=g,g=v;break e}n(g,S);break}else e(g,S);S=S.sibling}b.type===Gr?(v=vr(b.props.children,g.mode,_,b.key),v.return=g,g=v):(_=wo(b.type,b.key,b.props,null,g.mode,_),_.ref=qs(g,v,b),_.return=g,g=_)}return a(g);case Kr:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(g,v.sibling),v=s(v,b.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=bc(b,g.mode,_),v.return=g,g=v}return a(g);case wn:return S=b._init,x(g,v,S(b._payload),_)}if(si(b))return m(g,v,b,_);if(Us(b))return y(g,v,b,_);Aa(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,b),v.return=g,g=v):(n(g,v),v=xc(b,g.mode,_),v.return=g,g=v),a(g)):n(g,v)}return x}var bs=h0(!0),f0=h0(!1),Bo=Gn(null),Wo=null,rs=null,zd=null;function Ud(){zd=rs=Wo=null}function Bd(t){var e=Bo.current;oe(Bo),t._currentValue=e}function ku(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ds(t,e){Wo=t,zd=rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tt=!0),t.firstContext=null)}function vt(t){var e=t._currentValue;if(zd!==t)if(t={context:t,memoizedValue:e,next:null},rs===null){if(Wo===null)throw Error(N(308));rs=t,Wo.dependencies={lanes:0,firstContext:t}}else rs=rs.next=t;return e}var hr=null;function Wd(t){hr===null?hr=[t]:hr.push(t)}function p0(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Wd(e)):(n.next=s.next,s.next=n),e.interleaved=n,on(t,r)}function on(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _n=!1;function Hd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function In(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,on(t,n)}return s=r.interleaved,s===null?(e.next=e,Wd(r)):(e.next=s.next,s.next=e),r.interleaved=e,on(t,n)}function mo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nd(t,n)}}function Lf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ho(t,e,n,r){var s=t.updateQueue;_n=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,u=c=l=null,o=i;do{var f=o.lane,p=o.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=fe({},d,f);break e;case 2:_n=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);jr|=a,t.lanes=a,t.memoizedState=d}}function Rf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var pa={},Wt=Gn(pa),Vi=Gn(pa),qi=Gn(pa);function fr(t){if(t===pa)throw Error(N(174));return t}function Vd(t,e){switch(se(qi,e),se(Vi,t),se(Wt,pa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ru(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ru(e,t)}oe(Wt),se(Wt,e)}function ws(){oe(Wt),oe(Vi),oe(qi)}function g0(t){fr(qi.current);var e=fr(Wt.current),n=ru(e,t.type);e!==n&&(se(Vi,t),se(Wt,n))}function qd(t){Vi.current===t&&(oe(Wt),oe(Vi))}var ue=Gn(0);function Vo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fc=[];function Yd(){for(var t=0;t<fc.length;t++)fc[t]._workInProgressVersionPrimary=null;fc.length=0}var go=un.ReactCurrentDispatcher,pc=un.ReactCurrentBatchConfig,Sr=0,de=null,Se=null,Ne=null,qo=!1,wi=!1,Yi=0,vw=0;function Le(){throw Error(N(321))}function Kd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mt(t[n],e[n]))return!1;return!0}function Gd(t,e,n,r,s,i){if(Sr=i,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,go.current=t===null||t.memoizedState===null?_w:kw,t=n(r,s),wi){i=0;do{if(wi=!1,Yi=0,25<=i)throw Error(N(301));i+=1,Ne=Se=null,e.updateQueue=null,go.current=Sw,t=n(r,s)}while(wi)}if(go.current=Yo,e=Se!==null&&Se.next!==null,Sr=0,Ne=Se=de=null,qo=!1,e)throw Error(N(300));return t}function Xd(){var t=Yi!==0;return Yi=0,t}function It(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?de.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function xt(){if(Se===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=Ne===null?de.memoizedState:Ne.next;if(e!==null)Ne=e,Se=t;else{if(t===null)throw Error(N(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ne===null?de.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function Ki(t,e){return typeof e=="function"?e(t):e}function mc(t){var e=xt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Se,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,c=i;do{var u=c.lane;if((Sr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,de.lanes|=u,jr|=u}c=c.next}while(c!==null&&c!==i);l===null?a=r:l.next=o,Mt(r,e.memoizedState)||(tt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,de.lanes|=i,jr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gc(t){var e=xt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Mt(i,e.memoizedState)||(tt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function y0(){}function v0(t,e){var n=de,r=xt(),s=e(),i=!Mt(r.memoizedState,s);if(i&&(r.memoizedState=s,tt=!0),r=r.queue,Qd(w0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,Gi(9,b0.bind(null,n,r,s,e),void 0,null),Te===null)throw Error(N(349));Sr&30||x0(n,e,s)}return s}function x0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function b0(t,e,n,r){e.value=n,e.getSnapshot=r,_0(e)&&k0(t)}function w0(t,e,n){return n(function(){_0(e)&&k0(t)})}function _0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mt(t,n)}catch{return!0}}function k0(t){var e=on(t,1);e!==null&&Ot(e,t,1,-1)}function Af(t){var e=It();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},e.queue=t,t=t.dispatch=ww.bind(null,de,t),[e.memoizedState,t]}function Gi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function S0(){return xt().memoizedState}function yo(t,e,n,r){var s=It();de.flags|=t,s.memoizedState=Gi(1|e,n,void 0,r===void 0?null:r)}function Sl(t,e,n,r){var s=xt();r=r===void 0?null:r;var i=void 0;if(Se!==null){var a=Se.memoizedState;if(i=a.destroy,r!==null&&Kd(r,a.deps)){s.memoizedState=Gi(e,n,i,r);return}}de.flags|=t,s.memoizedState=Gi(1|e,n,i,r)}function $f(t,e){return yo(8390656,8,t,e)}function Qd(t,e){return Sl(2048,8,t,e)}function j0(t,e){return Sl(4,2,t,e)}function P0(t,e){return Sl(4,4,t,e)}function E0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function C0(t,e,n){return n=n!=null?n.concat([t]):null,Sl(4,4,E0.bind(null,e,t),n)}function Jd(){}function N0(t,e){var n=xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function T0(t,e){var n=xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function O0(t,e,n){return Sr&21?(Mt(n,e)||(n=Ag(),de.lanes|=n,jr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tt=!0),t.memoizedState=n)}function xw(t,e){var n=ee;ee=n!==0&&4>n?n:4,t(!0);var r=pc.transition;pc.transition={};try{t(!1),e()}finally{ee=n,pc.transition=r}}function M0(){return xt().memoizedState}function bw(t,e,n){var r=zn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},D0(t))L0(e,n);else if(n=p0(t,e,n,r),n!==null){var s=Ve();Ot(n,t,r,s),R0(n,e,r)}}function ww(t,e,n){var r=zn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(D0(t))L0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Mt(o,a)){var l=e.interleaved;l===null?(s.next=s,Wd(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=p0(t,e,s,r),n!==null&&(s=Ve(),Ot(n,t,r,s),R0(n,e,r))}}function D0(t){var e=t.alternate;return t===de||e!==null&&e===de}function L0(t,e){wi=qo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function R0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nd(t,n)}}var Yo={readContext:vt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},_w={readContext:vt,useCallback:function(t,e){return It().memoizedState=[t,e===void 0?null:e],t},useContext:vt,useEffect:$f,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yo(4194308,4,E0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yo(4194308,4,t,e)},useInsertionEffect:function(t,e){return yo(4,2,t,e)},useMemo:function(t,e){var n=It();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=It();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bw.bind(null,de,t),[r.memoizedState,t]},useRef:function(t){var e=It();return t={current:t},e.memoizedState=t},useState:Af,useDebugValue:Jd,useDeferredValue:function(t){return It().memoizedState=t},useTransition:function(){var t=Af(!1),e=t[0];return t=xw.bind(null,t[1]),It().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=de,s=It();if(ce){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Te===null)throw Error(N(349));Sr&30||x0(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,$f(w0.bind(null,r,i,t),[t]),r.flags|=2048,Gi(9,b0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=It(),e=Te.identifierPrefix;if(ce){var n=tn,r=en;n=(r&~(1<<32-Tt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kw={readContext:vt,useCallback:N0,useContext:vt,useEffect:Qd,useImperativeHandle:C0,useInsertionEffect:j0,useLayoutEffect:P0,useMemo:T0,useReducer:mc,useRef:S0,useState:function(){return mc(Ki)},useDebugValue:Jd,useDeferredValue:function(t){var e=xt();return O0(e,Se.memoizedState,t)},useTransition:function(){var t=mc(Ki)[0],e=xt().memoizedState;return[t,e]},useMutableSource:y0,useSyncExternalStore:v0,useId:M0,unstable_isNewReconciler:!1},Sw={readContext:vt,useCallback:N0,useContext:vt,useEffect:Qd,useImperativeHandle:C0,useInsertionEffect:j0,useLayoutEffect:P0,useMemo:T0,useReducer:gc,useRef:S0,useState:function(){return gc(Ki)},useDebugValue:Jd,useDeferredValue:function(t){var e=xt();return Se===null?e.memoizedState=t:O0(e,Se.memoizedState,t)},useTransition:function(){var t=gc(Ki)[0],e=xt().memoizedState;return[t,e]},useMutableSource:y0,useSyncExternalStore:v0,useId:M0,unstable_isNewReconciler:!1};function Pt(t,e){if(t&&t.defaultProps){e=fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Su(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jl={isMounted:function(t){return(t=t._reactInternals)?Mr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ve(),s=zn(t),i=rn(r,s);i.payload=e,n!=null&&(i.callback=n),e=In(t,i,s),e!==null&&(Ot(e,t,s,r),mo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ve(),s=zn(t),i=rn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=In(t,i,s),e!==null&&(Ot(e,t,s,r),mo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ve(),r=zn(t),s=rn(n,r);s.tag=2,e!=null&&(s.callback=e),e=In(t,s,r),e!==null&&(Ot(e,t,r,n),mo(e,t,r))}};function If(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ui(n,r)||!Ui(s,i):!0}function A0(t,e,n){var r=!1,s=qn,i=e.contextType;return typeof i=="object"&&i!==null?i=vt(i):(s=rt(e)?_r:ze.current,r=e.contextTypes,i=(r=r!=null)?vs(t,s):qn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ff(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&jl.enqueueReplaceState(e,e.state,null)}function ju(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Hd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=vt(i):(i=rt(e)?_r:ze.current,s.context=vs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Su(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&jl.enqueueReplaceState(s,s.state,null),Ho(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function _s(t,e){try{var n="",r=e;do n+=Jx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jw=typeof WeakMap=="function"?WeakMap:Map;function $0(t,e,n){n=rn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Go||(Go=!0,Au=r),Pu(t,e)},n}function I0(t,e,n){n=rn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Pu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Pu(t,e),typeof r!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function zf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jw;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Fw.bind(null,t,e,n),e.then(t,t))}function Uf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rn(-1,1),e.tag=2,In(n,e,1))),n.lanes|=1),t)}var Pw=un.ReactCurrentOwner,tt=!1;function We(t,e,n,r){e.child=t===null?f0(e,null,n,r):bs(e,t.child,n,r)}function Wf(t,e,n,r,s){n=n.render;var i=e.ref;return ds(e,s),r=Gd(t,e,n,r,i,s),n=Xd(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ln(t,e,s)):(ce&&n&&$d(e),e.flags|=1,We(t,e,r,s),e.child)}function Hf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ah(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,F0(t,e,i,r,s)):(t=wo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ui,n(a,r)&&t.ref===e.ref)return ln(t,e,s)}return e.flags|=1,t=Un(i,r),t.ref=e.ref,t.return=e,e.child=t}function F0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ui(i,r)&&t.ref===e.ref)if(tt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(tt=!0);else return e.lanes=t.lanes,ln(t,e,s)}return Eu(t,e,n,r,s)}function z0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(is,it),it|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,se(is,it),it|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,se(is,it),it|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,se(is,it),it|=r;return We(t,e,s,n),e.child}function U0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Eu(t,e,n,r,s){var i=rt(n)?_r:ze.current;return i=vs(e,i),ds(e,s),n=Gd(t,e,n,r,i,s),r=Xd(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ln(t,e,s)):(ce&&r&&$d(e),e.flags|=1,We(t,e,n,s),e.child)}function Vf(t,e,n,r,s){if(rt(n)){var i=!0;Fo(e)}else i=!1;if(ds(e,s),e.stateNode===null)vo(t,e),A0(e,n,r),ju(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=vt(c):(c=rt(n)?_r:ze.current,c=vs(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&Ff(e,a,r,c),_n=!1;var f=e.memoizedState;a.state=f,Ho(e,r,a,s),l=e.memoizedState,o!==r||f!==l||nt.current||_n?(typeof u=="function"&&(Su(e,n,u,r),l=e.memoizedState),(o=_n||If(e,n,o,r,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,m0(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Pt(e.type,o),a.props=c,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=vt(l):(l=rt(n)?_r:ze.current,l=vs(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&Ff(e,a,r,l),_n=!1,f=e.memoizedState,a.state=f,Ho(e,r,a,s);var m=e.memoizedState;o!==d||f!==m||nt.current||_n?(typeof p=="function"&&(Su(e,n,p,r),m=e.memoizedState),(c=_n||If(e,n,c,r,f,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Cu(t,e,n,r,i,s)}function Cu(t,e,n,r,s,i){U0(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Tf(e,n,!1),ln(t,e,i);r=e.stateNode,Pw.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=bs(e,t.child,null,i),e.child=bs(e,null,o,i)):We(t,e,o,i),e.memoizedState=r.state,s&&Tf(e,n,!0),e.child}function B0(t){var e=t.stateNode;e.pendingContext?Nf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nf(t,e.context,!1),Vd(t,e.containerInfo)}function qf(t,e,n,r,s){return xs(),Fd(s),e.flags|=256,We(t,e,n,r),e.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Tu(t){return{baseLanes:t,cachePool:null,transitions:null}}function W0(t,e,n){var r=e.pendingProps,s=ue.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),se(ue,s&1),t===null)return _u(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Cl(a,r,0,null),t=vr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Tu(n),e.memoizedState=Nu,t):Zd(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Ew(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Un(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Un(o,i):(i=vr(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Tu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Nu,r}return i=t.child,t=i.sibling,r=Un(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zd(t,e){return e=Cl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $a(t,e,n,r){return r!==null&&Fd(r),bs(e,t.child,null,n),t=Zd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ew(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=yc(Error(N(422))),$a(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Cl({mode:"visible",children:r.children},s,0,null),i=vr(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&bs(e,t.child,null,a),e.child.memoizedState=Tu(a),e.memoizedState=Nu,i);if(!(e.mode&1))return $a(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(N(419)),r=yc(i,r,void 0),$a(t,e,a,r)}if(o=(a&t.childLanes)!==0,tt||o){if(r=Te,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,on(t,s),Ot(r,t,s,-1))}return ih(),r=yc(Error(N(421))),$a(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=zw.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,at=$n(s.nextSibling),ot=e,ce=!0,Nt=null,t!==null&&(ht[ft++]=en,ht[ft++]=tn,ht[ft++]=kr,en=t.id,tn=t.overflow,kr=e),e=Zd(e,r.children),e.flags|=4096,e)}function Yf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ku(t.return,e,n)}function vc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function H0(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(We(t,e,r.children,n),r=ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yf(t,n,e);else if(t.tag===19)Yf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(se(ue,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Vo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Vo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vc(e,!0,n,null,i);break;case"together":vc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ln(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),jr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Un(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Un(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cw(t,e,n){switch(e.tag){case 3:B0(e),xs();break;case 5:g0(e);break;case 1:rt(e.type)&&Fo(e);break;case 4:Vd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;se(Bo,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(se(ue,ue.current&1),e.flags|=128,null):n&e.child.childLanes?W0(t,e,n):(se(ue,ue.current&1),t=ln(t,e,n),t!==null?t.sibling:null);se(ue,ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return H0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(ue,ue.current),r)break;return null;case 22:case 23:return e.lanes=0,z0(t,e,n)}return ln(t,e,n)}var V0,Ou,q0,Y0;V0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ou=function(){};q0=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,fr(Wt.current);var i=null;switch(n){case"input":s=Zc(t,s),r=Zc(t,r),i=[];break;case"select":s=fe({},s,{value:void 0}),r=fe({},r,{value:void 0}),i=[];break;case"textarea":s=nu(t,s),r=nu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$o)}su(n,r);var a;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Li.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(o=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Li.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ie("scroll",t),i||o===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Y0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ys(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Re(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Nw(t,e,n){var r=e.pendingProps;switch(Id(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(e),null;case 1:return rt(e.type)&&Io(),Re(e),null;case 3:return r=e.stateNode,ws(),oe(nt),oe(ze),Yd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ra(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nt!==null&&(Fu(Nt),Nt=null))),Ou(t,e),Re(e),null;case 5:qd(e);var s=fr(qi.current);if(n=e.type,t!==null&&e.stateNode!=null)q0(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return Re(e),null}if(t=fr(Wt.current),Ra(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[zt]=e,r[Hi]=i,t=(e.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(s=0;s<ai.length;s++)ie(ai[s],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":tf(r,i),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ie("invalid",r);break;case"textarea":rf(r,i),ie("invalid",r)}su(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&La(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&La(r.textContent,o,t),s=["children",""+o]):Li.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ie("scroll",r)}switch(n){case"input":Pa(r),nf(r,i,!0);break;case"textarea":Pa(r),sf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=$o)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[zt]=e,t[Hi]=r,V0(t,e,!1,!1),e.stateNode=t;e:{switch(a=iu(n,r),n){case"dialog":ie("cancel",t),ie("close",t),s=r;break;case"iframe":case"object":case"embed":ie("load",t),s=r;break;case"video":case"audio":for(s=0;s<ai.length;s++)ie(ai[s],t);s=r;break;case"source":ie("error",t),s=r;break;case"img":case"image":case"link":ie("error",t),ie("load",t),s=r;break;case"details":ie("toggle",t),s=r;break;case"input":tf(t,r),s=Zc(t,r),ie("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=fe({},r,{value:void 0}),ie("invalid",t);break;case"textarea":rf(t,r),s=nu(t,r),ie("invalid",t);break;default:s=r}su(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Sg(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_g(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ri(t,l):typeof l=="number"&&Ri(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Li.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ie("scroll",t):l!=null&&kd(t,i,l,a))}switch(n){case"input":Pa(t),nf(t,r,!1);break;case"textarea":Pa(t),sf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?os(t,!!r.multiple,i,!1):r.defaultValue!=null&&os(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$o)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Re(e),null;case 6:if(t&&e.stateNode!=null)Y0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=fr(qi.current),fr(Wt.current),Ra(e)){if(r=e.stateNode,n=e.memoizedProps,r[zt]=e,(i=r.nodeValue!==n)&&(t=ot,t!==null))switch(t.tag){case 3:La(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&La(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=e,e.stateNode=r}return Re(e),null;case 13:if(oe(ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&at!==null&&e.mode&1&&!(e.flags&128))d0(),xs(),e.flags|=98560,i=!1;else if(i=Ra(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[zt]=e}else xs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Re(e),i=!1}else Nt!==null&&(Fu(Nt),Nt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ue.current&1?Pe===0&&(Pe=3):ih())),e.updateQueue!==null&&(e.flags|=4),Re(e),null);case 4:return ws(),Ou(t,e),t===null&&Bi(e.stateNode.containerInfo),Re(e),null;case 10:return Bd(e.type._context),Re(e),null;case 17:return rt(e.type)&&Io(),Re(e),null;case 19:if(oe(ue),i=e.memoizedState,i===null)return Re(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Ys(i,!1);else{if(Pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Vo(t),a!==null){for(e.flags|=128,Ys(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return se(ue,ue.current&1|2),e.child}t=t.sibling}i.tail!==null&&ve()>ks&&(e.flags|=128,r=!0,Ys(i,!1),e.lanes=4194304)}else{if(!r)if(t=Vo(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ys(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ce)return Re(e),null}else 2*ve()-i.renderingStartTime>ks&&n!==1073741824&&(e.flags|=128,r=!0,Ys(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ve(),e.sibling=null,n=ue.current,se(ue,r?n&1|2:n&1),e):(Re(e),null);case 22:case 23:return sh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?it&1073741824&&(Re(e),e.subtreeFlags&6&&(e.flags|=8192)):Re(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Tw(t,e){switch(Id(e),e.tag){case 1:return rt(e.type)&&Io(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ws(),oe(nt),oe(ze),Yd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qd(e),null;case 13:if(oe(ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));xs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return oe(ue),null;case 4:return ws(),null;case 10:return Bd(e.type._context),null;case 22:case 23:return sh(),null;case 24:return null;default:return null}}var Ia=!1,$e=!1,Ow=typeof WeakSet=="function"?WeakSet:Set,D=null;function ss(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function Mu(t,e,n){try{n()}catch(r){me(t,e,r)}}var Kf=!1;function Mw(t,e){if(mu=Lo,t=Jg(),Ad(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===s&&(o=a),f===i&&++u===r&&(l=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gu={focusedElem:t,selectionRange:n},Lo=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Pt(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(_){me(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return m=Kf,Kf=!1,m}function _i(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Mu(e,n,i)}s=s.next}while(s!==r)}}function Pl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Du(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function K0(t){var e=t.alternate;e!==null&&(t.alternate=null,K0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zt],delete e[Hi],delete e[xu],delete e[pw],delete e[mw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function G0(t){return t.tag===5||t.tag===3||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||G0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$o));else if(r!==4&&(t=t.child,t!==null))for(Lu(t,e,n),t=t.sibling;t!==null;)Lu(t,e,n),t=t.sibling}function Ru(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ru(t,e,n),t=t.sibling;t!==null;)Ru(t,e,n),t=t.sibling}var Oe=null,Et=!1;function pn(t,e,n){for(n=n.child;n!==null;)X0(t,e,n),n=n.sibling}function X0(t,e,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(vl,n)}catch{}switch(n.tag){case 5:$e||ss(n,e);case 6:var r=Oe,s=Et;Oe=null,pn(t,e,n),Oe=r,Et=s,Oe!==null&&(Et?(t=Oe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(Et?(t=Oe,n=n.stateNode,t.nodeType===8?dc(t.parentNode,n):t.nodeType===1&&dc(t,n),Fi(t)):dc(Oe,n.stateNode));break;case 4:r=Oe,s=Et,Oe=n.stateNode.containerInfo,Et=!0,pn(t,e,n),Oe=r,Et=s;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Mu(n,e,a),s=s.next}while(s!==r)}pn(t,e,n);break;case 1:if(!$e&&(ss(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){me(n,e,o)}pn(t,e,n);break;case 21:pn(t,e,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,pn(t,e,n),$e=r):pn(t,e,n);break;default:pn(t,e,n)}}function Xf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ow),e.forEach(function(r){var s=Uw.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function kt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Oe=o.stateNode,Et=!1;break e;case 3:Oe=o.stateNode.containerInfo,Et=!0;break e;case 4:Oe=o.stateNode.containerInfo,Et=!0;break e}o=o.return}if(Oe===null)throw Error(N(160));X0(i,a,s),Oe=null,Et=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){me(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Q0(e,t),e=e.sibling}function Q0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kt(e,t),Lt(t),r&4){try{_i(3,t,t.return),Pl(3,t)}catch(y){me(t,t.return,y)}try{_i(5,t,t.return)}catch(y){me(t,t.return,y)}}break;case 1:kt(e,t),Lt(t),r&512&&n!==null&&ss(n,n.return);break;case 5:if(kt(e,t),Lt(t),r&512&&n!==null&&ss(n,n.return),t.flags&32){var s=t.stateNode;try{Ri(s,"")}catch(y){me(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&xg(s,i),iu(o,a);var c=iu(o,i);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?Sg(s,d):u==="dangerouslySetInnerHTML"?_g(s,d):u==="children"?Ri(s,d):kd(s,u,d,c)}switch(o){case"input":eu(s,i);break;case"textarea":bg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?os(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?os(s,!!i.multiple,i.defaultValue,!0):os(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hi]=i}catch(y){me(t,t.return,y)}}break;case 6:if(kt(e,t),Lt(t),r&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){me(t,t.return,y)}}break;case 3:if(kt(e,t),Lt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fi(e.containerInfo)}catch(y){me(t,t.return,y)}break;case 4:kt(e,t),Lt(t);break;case 13:kt(e,t),Lt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nh=ve())),r&4&&Xf(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?($e=(c=$e)||u,kt(e,t),$e=c):kt(e,t),Lt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(D=t,u=t.child;u!==null;){for(d=D=u;D!==null;){switch(f=D,p=f.child,f.tag){case 0:case 11:case 14:case 15:_i(4,f,f.return);break;case 1:ss(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){me(r,n,y)}}break;case 5:ss(f,f.return);break;case 22:if(f.memoizedState!==null){Jf(d);continue}}p!==null?(p.return=f,D=p):Jf(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=kg("display",a))}catch(y){me(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){me(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kt(e,t),Lt(t),r&4&&Xf(t);break;case 21:break;default:kt(e,t),Lt(t)}}function Lt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(G0(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ri(s,""),r.flags&=-33);var i=Gf(t);Ru(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Gf(t);Lu(t,o,a);break;default:throw Error(N(161))}}catch(l){me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dw(t,e,n){D=t,J0(t)}function J0(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Ia;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||$e;o=Ia;var c=$e;if(Ia=a,($e=l)&&!c)for(D=s;D!==null;)a=D,l=a.child,a.tag===22&&a.memoizedState!==null?Zf(s):l!==null?(l.return=a,D=l):Zf(s);for(;i!==null;)D=i,J0(i),i=i.sibling;D=s,Ia=o,$e=c}Qf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Qf(t)}}function Qf(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$e||Pl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$e)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Pt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Rf(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Rf(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Fi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}$e||e.flags&512&&Du(e)}catch(f){me(e,e.return,f)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function Jf(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function Zf(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pl(4,e)}catch(l){me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){me(e,s,l)}}var i=e.return;try{Du(e)}catch(l){me(e,i,l)}break;case 5:var a=e.return;try{Du(e)}catch(l){me(e,a,l)}}}catch(l){me(e,e.return,l)}if(e===t){D=null;break}var o=e.sibling;if(o!==null){o.return=e.return,D=o;break}D=e.return}}var Lw=Math.ceil,Ko=un.ReactCurrentDispatcher,eh=un.ReactCurrentOwner,gt=un.ReactCurrentBatchConfig,G=0,Te=null,ke=null,Me=0,it=0,is=Gn(0),Pe=0,Xi=null,jr=0,El=0,th=0,ki=null,Je=null,nh=0,ks=1/0,Xt=null,Go=!1,Au=null,Fn=null,Fa=!1,Nn=null,Xo=0,Si=0,$u=null,xo=-1,bo=0;function Ve(){return G&6?ve():xo!==-1?xo:xo=ve()}function zn(t){return t.mode&1?G&2&&Me!==0?Me&-Me:yw.transition!==null?(bo===0&&(bo=Ag()),bo):(t=ee,t!==0||(t=window.event,t=t===void 0?16:Wg(t.type)),t):1}function Ot(t,e,n,r){if(50<Si)throw Si=0,$u=null,Error(N(185));da(t,n,r),(!(G&2)||t!==Te)&&(t===Te&&(!(G&2)&&(El|=n),Pe===4&&jn(t,Me)),st(t,r),n===1&&G===0&&!(e.mode&1)&&(ks=ve()+500,kl&&Xn()))}function st(t,e){var n=t.callbackNode;yb(t,e);var r=Do(t,t===Te?Me:0);if(r===0)n!==null&&lf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lf(n),e===1)t.tag===0?gw(ep.bind(null,t)):l0(ep.bind(null,t)),hw(function(){!(G&6)&&Xn()}),n=null;else{switch($g(r)){case 1:n=Cd;break;case 4:n=Lg;break;case 16:n=Mo;break;case 536870912:n=Rg;break;default:n=Mo}n=ay(n,Z0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Z0(t,e){if(xo=-1,bo=0,G&6)throw Error(N(327));var n=t.callbackNode;if(hs()&&t.callbackNode!==n)return null;var r=Do(t,t===Te?Me:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qo(t,r);else{e=r;var s=G;G|=2;var i=ty();(Te!==t||Me!==e)&&(Xt=null,ks=ve()+500,yr(t,e));do try{$w();break}catch(o){ey(t,o)}while(!0);Ud(),Ko.current=i,G=s,ke!==null?e=0:(Te=null,Me=0,e=Pe)}if(e!==0){if(e===2&&(s=uu(t),s!==0&&(r=s,e=Iu(t,s))),e===1)throw n=Xi,yr(t,0),jn(t,r),st(t,ve()),n;if(e===6)jn(t,r);else{if(s=t.current.alternate,!(r&30)&&!Rw(s)&&(e=Qo(t,r),e===2&&(i=uu(t),i!==0&&(r=i,e=Iu(t,i))),e===1))throw n=Xi,yr(t,0),jn(t,r),st(t,ve()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:ir(t,Je,Xt);break;case 3:if(jn(t,r),(r&130023424)===r&&(e=nh+500-ve(),10<e)){if(Do(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ve(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=vu(ir.bind(null,t,Je,Xt),e);break}ir(t,Je,Xt);break;case 4:if(jn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Tt(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lw(r/1960))-r,10<r){t.timeoutHandle=vu(ir.bind(null,t,Je,Xt),r);break}ir(t,Je,Xt);break;case 5:ir(t,Je,Xt);break;default:throw Error(N(329))}}}return st(t,ve()),t.callbackNode===n?Z0.bind(null,t):null}function Iu(t,e){var n=ki;return t.current.memoizedState.isDehydrated&&(yr(t,e).flags|=256),t=Qo(t,e),t!==2&&(e=Je,Je=n,e!==null&&Fu(e)),t}function Fu(t){Je===null?Je=t:Je.push.apply(Je,t)}function Rw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Mt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jn(t,e){for(e&=~th,e&=~El,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tt(e),r=1<<n;t[n]=-1,e&=~r}}function ep(t){if(G&6)throw Error(N(327));hs();var e=Do(t,0);if(!(e&1))return st(t,ve()),null;var n=Qo(t,e);if(t.tag!==0&&n===2){var r=uu(t);r!==0&&(e=r,n=Iu(t,r))}if(n===1)throw n=Xi,yr(t,0),jn(t,e),st(t,ve()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ir(t,Je,Xt),st(t,ve()),null}function rh(t,e){var n=G;G|=1;try{return t(e)}finally{G=n,G===0&&(ks=ve()+500,kl&&Xn())}}function Pr(t){Nn!==null&&Nn.tag===0&&!(G&6)&&hs();var e=G;G|=1;var n=gt.transition,r=ee;try{if(gt.transition=null,ee=1,t)return t()}finally{ee=r,gt.transition=n,G=e,!(G&6)&&Xn()}}function sh(){it=is.current,oe(is)}function yr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dw(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(Id(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Io();break;case 3:ws(),oe(nt),oe(ze),Yd();break;case 5:qd(r);break;case 4:ws();break;case 13:oe(ue);break;case 19:oe(ue);break;case 10:Bd(r.type._context);break;case 22:case 23:sh()}n=n.return}if(Te=t,ke=t=Un(t.current,null),Me=it=e,Pe=0,Xi=null,th=El=jr=0,Je=ki=null,hr!==null){for(e=0;e<hr.length;e++)if(n=hr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}hr=null}return t}function ey(t,e){do{var n=ke;try{if(Ud(),go.current=Yo,qo){for(var r=de.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}qo=!1}if(Sr=0,Ne=Se=de=null,wi=!1,Yi=0,eh.current=null,n===null||n.return===null){Pe=1,Xi=e,ke=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=Me,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Uf(a);if(p!==null){p.flags&=-257,Bf(p,a,o,i,e),p.mode&1&&zf(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){zf(i,c,e),ih();break e}l=Error(N(426))}}else if(ce&&o.mode&1){var x=Uf(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Bf(x,a,o,i,e),Fd(_s(l,o));break e}}i=l=_s(l,o),Pe!==4&&(Pe=2),ki===null?ki=[i]:ki.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=$0(i,l,e);Lf(i,g);break e;case 1:o=l;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Fn===null||!Fn.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=I0(i,o,e);Lf(i,_);break e}}i=i.return}while(i!==null)}ry(n)}catch(k){e=k,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function ty(){var t=Ko.current;return Ko.current=Yo,t===null?Yo:t}function ih(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Te===null||!(jr&268435455)&&!(El&268435455)||jn(Te,Me)}function Qo(t,e){var n=G;G|=2;var r=ty();(Te!==t||Me!==e)&&(Xt=null,yr(t,e));do try{Aw();break}catch(s){ey(t,s)}while(!0);if(Ud(),G=n,Ko.current=r,ke!==null)throw Error(N(261));return Te=null,Me=0,Pe}function Aw(){for(;ke!==null;)ny(ke)}function $w(){for(;ke!==null&&!lb();)ny(ke)}function ny(t){var e=iy(t.alternate,t,it);t.memoizedProps=t.pendingProps,e===null?ry(t):ke=e,eh.current=null}function ry(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Tw(n,e),n!==null){n.flags&=32767,ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pe=6,ke=null;return}}else if(n=Nw(n,e,it),n!==null){ke=n;return}if(e=e.sibling,e!==null){ke=e;return}ke=e=t}while(e!==null);Pe===0&&(Pe=5)}function ir(t,e,n){var r=ee,s=gt.transition;try{gt.transition=null,ee=1,Iw(t,e,n,r)}finally{gt.transition=s,ee=r}return null}function Iw(t,e,n,r){do hs();while(Nn!==null);if(G&6)throw Error(N(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(vb(t,i),t===Te&&(ke=Te=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fa||(Fa=!0,ay(Mo,function(){return hs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gt.transition,gt.transition=null;var a=ee;ee=1;var o=G;G|=4,eh.current=null,Mw(t,n),Q0(n,t),sw(gu),Lo=!!mu,gu=mu=null,t.current=n,Dw(n),cb(),G=o,ee=a,gt.transition=i}else t.current=n;if(Fa&&(Fa=!1,Nn=t,Xo=s),i=t.pendingLanes,i===0&&(Fn=null),hb(n.stateNode),st(t,ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Go)throw Go=!1,t=Au,Au=null,t;return Xo&1&&t.tag!==0&&hs(),i=t.pendingLanes,i&1?t===$u?Si++:(Si=0,$u=t):Si=0,Xn(),null}function hs(){if(Nn!==null){var t=$g(Xo),e=gt.transition,n=ee;try{if(gt.transition=null,ee=16>t?16:t,Nn===null)var r=!1;else{if(t=Nn,Nn=null,Xo=0,G&6)throw Error(N(331));var s=G;for(G|=4,D=t.current;D!==null;){var i=D,a=i.child;if(D.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(D=c;D!==null;){var u=D;switch(u.tag){case 0:case 11:case 15:_i(8,u,i)}var d=u.child;if(d!==null)d.return=u,D=d;else for(;D!==null;){u=D;var f=u.sibling,p=u.return;if(K0(u),u===c){D=null;break}if(f!==null){f.return=p,D=f;break}D=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}D=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,D=a;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_i(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,D=g;break e}D=i.return}}var v=t.current;for(D=v;D!==null;){a=D;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,D=b;else e:for(a=v;D!==null;){if(o=D,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Pl(9,o)}}catch(k){me(o,o.return,k)}if(o===a){D=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,D=_;break e}D=o.return}}if(G=s,Xn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(vl,t)}catch{}r=!0}return r}finally{ee=n,gt.transition=e}}return!1}function tp(t,e,n){e=_s(n,e),e=$0(t,e,1),t=In(t,e,1),e=Ve(),t!==null&&(da(t,1,e),st(t,e))}function me(t,e,n){if(t.tag===3)tp(t,t,n);else for(;e!==null;){if(e.tag===3){tp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fn===null||!Fn.has(r))){t=_s(n,t),t=I0(e,t,1),e=In(e,t,1),t=Ve(),e!==null&&(da(e,1,t),st(e,t));break}}e=e.return}}function Fw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ve(),t.pingedLanes|=t.suspendedLanes&n,Te===t&&(Me&n)===n&&(Pe===4||Pe===3&&(Me&130023424)===Me&&500>ve()-nh?yr(t,0):th|=n),st(t,e)}function sy(t,e){e===0&&(t.mode&1?(e=Na,Na<<=1,!(Na&130023424)&&(Na=4194304)):e=1);var n=Ve();t=on(t,e),t!==null&&(da(t,e,n),st(t,n))}function zw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sy(t,n)}function Uw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),sy(t,n)}var iy;iy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nt.current)tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tt=!1,Cw(t,e,n);tt=!!(t.flags&131072)}else tt=!1,ce&&e.flags&1048576&&c0(e,Uo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vo(t,e),t=e.pendingProps;var s=vs(e,ze.current);ds(e,n),s=Gd(null,e,r,t,s,n);var i=Xd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rt(r)?(i=!0,Fo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hd(e),s.updater=jl,e.stateNode=s,s._reactInternals=e,ju(e,r,t,n),e=Cu(null,e,r,!0,i,n)):(e.tag=0,ce&&i&&$d(e),We(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vo(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Ww(r),t=Pt(r,t),s){case 0:e=Eu(null,e,r,t,n);break e;case 1:e=Vf(null,e,r,t,n);break e;case 11:e=Wf(null,e,r,t,n);break e;case 14:e=Hf(null,e,r,Pt(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pt(r,s),Eu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pt(r,s),Vf(t,e,r,s,n);case 3:e:{if(B0(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,s=i.element,m0(t,e),Ho(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=_s(Error(N(423)),e),e=qf(t,e,r,n,s);break e}else if(r!==s){s=_s(Error(N(424)),e),e=qf(t,e,r,n,s);break e}else for(at=$n(e.stateNode.containerInfo.firstChild),ot=e,ce=!0,Nt=null,n=f0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xs(),r===s){e=ln(t,e,n);break e}We(t,e,r,n)}e=e.child}return e;case 5:return g0(e),t===null&&_u(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,yu(r,s)?a=null:i!==null&&yu(r,i)&&(e.flags|=32),U0(t,e),We(t,e,a,n),e.child;case 6:return t===null&&_u(e),null;case 13:return W0(t,e,n);case 4:return Vd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bs(e,null,r,n):We(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pt(r,s),Wf(t,e,r,s,n);case 7:return We(t,e,e.pendingProps,n),e.child;case 8:return We(t,e,e.pendingProps.children,n),e.child;case 12:return We(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,se(Bo,r._currentValue),r._currentValue=a,i!==null)if(Mt(i.value,a)){if(i.children===s.children&&!nt.current){e=ln(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=rn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ku(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),ku(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}We(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ds(e,n),s=vt(s),r=r(s),e.flags|=1,We(t,e,r,n),e.child;case 14:return r=e.type,s=Pt(r,e.pendingProps),s=Pt(r.type,s),Hf(t,e,r,s,n);case 15:return F0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pt(r,s),vo(t,e),e.tag=1,rt(r)?(t=!0,Fo(e)):t=!1,ds(e,n),A0(e,r,s),ju(e,r,s,n),Cu(null,e,r,!0,t,n);case 19:return H0(t,e,n);case 22:return z0(t,e,n)}throw Error(N(156,e.tag))};function ay(t,e){return Dg(t,e)}function Bw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(t,e,n,r){return new Bw(t,e,n,r)}function ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ww(t){if(typeof t=="function")return ah(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jd)return 11;if(t===Pd)return 14}return 2}function Un(t,e){var n=t.alternate;return n===null?(n=pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wo(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")ah(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Gr:return vr(n.children,s,i,e);case Sd:a=8,s|=8;break;case Gc:return t=pt(12,n,e,s|2),t.elementType=Gc,t.lanes=i,t;case Xc:return t=pt(13,n,e,s),t.elementType=Xc,t.lanes=i,t;case Qc:return t=pt(19,n,e,s),t.elementType=Qc,t.lanes=i,t;case gg:return Cl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pg:a=10;break e;case mg:a=9;break e;case jd:a=11;break e;case Pd:a=14;break e;case wn:a=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=pt(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function vr(t,e,n,r){return t=pt(7,t,r,e),t.lanes=n,t}function Cl(t,e,n,r){return t=pt(22,t,r,e),t.elementType=gg,t.lanes=n,t.stateNode={isHidden:!1},t}function xc(t,e,n){return t=pt(6,t,null,e),t.lanes=n,t}function bc(t,e,n){return e=pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hw(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function oh(t,e,n,r,s,i,a,o,l){return t=new Hw(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=pt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(i),t}function Vw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oy(t){if(!t)return qn;t=t._reactInternals;e:{if(Mr(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(rt(n))return o0(t,n,e)}return e}function ly(t,e,n,r,s,i,a,o,l){return t=oh(n,r,!0,t,s,i,a,o,l),t.context=oy(null),n=t.current,r=Ve(),s=zn(n),i=rn(r,s),i.callback=e??null,In(n,i,s),t.current.lanes=s,da(t,s,r),st(t,r),t}function Nl(t,e,n,r){var s=e.current,i=Ve(),a=zn(s);return n=oy(n),e.context===null?e.context=n:e.pendingContext=n,e=rn(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=In(s,e,a),t!==null&&(Ot(t,s,a,i),mo(t,s,a)),a}function Jo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function np(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lh(t,e){np(t,e),(t=t.alternate)&&np(t,e)}function qw(){return null}var cy=typeof reportError=="function"?reportError:function(t){console.error(t)};function ch(t){this._internalRoot=t}Tl.prototype.render=ch.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Nl(t,e,null,null)};Tl.prototype.unmount=ch.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pr(function(){Nl(null,t,null,null)}),e[an]=null}};function Tl(t){this._internalRoot=t}Tl.prototype.unstable_scheduleHydration=function(t){if(t){var e=zg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sn.length&&e!==0&&e<Sn[n].priority;n++);Sn.splice(n,0,t),n===0&&Bg(t)}};function uh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ol(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rp(){}function Yw(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Jo(a);i.call(c)}}var a=ly(e,r,t,0,null,!1,!1,"",rp);return t._reactRootContainer=a,t[an]=a.current,Bi(t.nodeType===8?t.parentNode:t),Pr(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var c=Jo(l);o.call(c)}}var l=oh(t,0,!1,null,null,!1,!1,"",rp);return t._reactRootContainer=l,t[an]=l.current,Bi(t.nodeType===8?t.parentNode:t),Pr(function(){Nl(e,l,n,r)}),l}function Ml(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Jo(a);o.call(l)}}Nl(e,a,t,s)}else a=Yw(n,e,t,s,r);return Jo(a)}Ig=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ii(e.pendingLanes);n!==0&&(Nd(e,n|1),st(e,ve()),!(G&6)&&(ks=ve()+500,Xn()))}break;case 13:Pr(function(){var r=on(t,1);if(r!==null){var s=Ve();Ot(r,t,1,s)}}),lh(t,1)}};Td=function(t){if(t.tag===13){var e=on(t,134217728);if(e!==null){var n=Ve();Ot(e,t,134217728,n)}lh(t,134217728)}};Fg=function(t){if(t.tag===13){var e=zn(t),n=on(t,e);if(n!==null){var r=Ve();Ot(n,t,e,r)}lh(t,e)}};zg=function(){return ee};Ug=function(t,e){var n=ee;try{return ee=t,e()}finally{ee=n}};ou=function(t,e,n){switch(e){case"input":if(eu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=_l(r);if(!s)throw Error(N(90));vg(r),eu(r,s)}}}break;case"textarea":bg(t,n);break;case"select":e=n.value,e!=null&&os(t,!!n.multiple,e,!1)}};Eg=rh;Cg=Pr;var Kw={usingClientEntryPoint:!1,Events:[fa,Zr,_l,jg,Pg,rh]},Ks={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gw={bundleType:Ks.bundleType,version:Ks.version,rendererPackageName:Ks.rendererPackageName,rendererConfig:Ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:un.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Og(t),t===null?null:t.stateNode},findFiberByHostInstance:Ks.findFiberByHostInstance||qw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!za.isDisabled&&za.supportsFiber)try{vl=za.inject(Gw),Bt=za}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kw;ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(e))throw Error(N(200));return Vw(t,e,null,n)};ct.createRoot=function(t,e){if(!uh(t))throw Error(N(299));var n=!1,r="",s=cy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=oh(t,1,!1,null,null,n,!1,r,s),t[an]=e.current,Bi(t.nodeType===8?t.parentNode:t),new ch(e)};ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Og(e),t=t===null?null:t.stateNode,t};ct.flushSync=function(t){return Pr(t)};ct.hydrate=function(t,e,n){if(!Ol(e))throw Error(N(200));return Ml(null,t,e,!0,n)};ct.hydrateRoot=function(t,e,n){if(!uh(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=cy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=ly(e,null,t,1,n??null,s,!1,i,a),t[an]=e.current,Bi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Tl(e)};ct.render=function(t,e,n){if(!Ol(e))throw Error(N(200));return Ml(null,t,e,!1,n)};ct.unmountComponentAtNode=function(t){if(!Ol(t))throw Error(N(40));return t._reactRootContainer?(Pr(function(){Ml(null,null,t,!1,function(){t._reactRootContainer=null,t[an]=null})}),!0):!1};ct.unstable_batchedUpdates=rh;ct.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ol(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Ml(t,e,n,!1,r)};ct.version="18.3.1-next-f1338f8080-20240426";function uy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uy)}catch(t){console.error(t)}}uy(),ug.exports=ct;var Xw=ug.exports,sp=Xw;Yc.createRoot=sp.createRoot,Yc.hydrateRoot=sp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qi(){return Qi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qi.apply(this,arguments)}var Tn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tn||(Tn={}));const ip="popstate";function Qw(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return zu("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Zo(s)}return Zw(e,n,null,t)}function he(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jw(){return Math.random().toString(36).substr(2,8)}function ap(t,e){return{usr:t.state,key:t.key,idx:e}}function zu(t,e,n,r){return n===void 0&&(n=null),Qi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ls(e):e,{state:n,key:e&&e.key||r||Jw()})}function Zo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ls(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Zw(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=Tn.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Qi({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=Tn.Pop;let x=u(),g=x==null?null:x-c;c=x,l&&l({action:o,location:y.location,delta:g})}function f(x,g){o=Tn.Push;let v=zu(y.location,x,g);c=u()+1;let b=ap(v,c),_=y.createHref(v);try{a.pushState(b,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}i&&l&&l({action:o,location:y.location,delta:1})}function p(x,g){o=Tn.Replace;let v=zu(y.location,x,g);c=u();let b=ap(v,c),_=y.createHref(v);a.replaceState(b,"",_),i&&l&&l({action:o,location:y.location,delta:0})}function m(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:Zo(x);return v=v.replace(/ $/,"%20"),he(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ip,d),l=x,()=>{s.removeEventListener(ip,d),l=null}},createHref(x){return e(s,x)},createURL:m,encodeLocation(x){let g=m(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return a.go(x)}};return y}var op;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(op||(op={}));function e1(t,e,n){return n===void 0&&(n="/"),t1(t,e,n)}function t1(t,e,n,r){let s=typeof e=="string"?Ls(e):e,i=Ss(s.pathname||"/",n);if(i==null)return null;let a=hy(t);n1(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=f1(i);o=d1(a[l],c)}return o}function hy(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(he(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Bn([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(he(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hy(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:c1(c,i.index),routesMeta:u})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of fy(i.path))s(i,a,l)}),e}function fy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=fy(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function n1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:u1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const r1=/^:[\w-]+$/,s1=3,i1=2,a1=1,o1=10,l1=-2,lp=t=>t==="*";function c1(t,e){let n=t.split("/"),r=n.length;return n.some(lp)&&(r+=l1),e&&(r+=i1),n.filter(s=>!lp(s)).reduce((s,i)=>s+(r1.test(i)?s1:i===""?a1:o1),r)}function u1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function d1(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Uu({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Bn([i,d.pathname]),pathnameBase:y1(Bn([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Bn([i,d.pathnameBase]))}return a}function Uu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=h1(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=o[d]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[d];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function h1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function f1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ss(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function p1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ls(t):t;return{pathname:n?n.startsWith("/")?n:m1(n,e):e,search:v1(r),hash:x1(s)}}function m1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dh(t,e){let n=g1(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hh(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ls(t):(s=Qi({},t),he(!s.pathname||!s.pathname.includes("?"),wc("?","pathname","search",s)),he(!s.pathname||!s.pathname.includes("#"),wc("#","pathname","hash",s)),he(!s.search||!s.search.includes("#"),wc("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=p1(s,o),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Bn=t=>t.join("/").replace(/\/\/+/g,"/"),y1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),v1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,x1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function b1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const py=["post","put","patch","delete"];new Set(py);const w1=["get",...py];new Set(w1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ji(){return Ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ji.apply(this,arguments)}const Dl=w.createContext(null),my=w.createContext(null),dn=w.createContext(null),Ll=w.createContext(null),hn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),gy=w.createContext(null);function _1(t,e){let{relative:n}=e===void 0?{}:e;Rs()||he(!1);let{basename:r,navigator:s}=w.useContext(dn),{hash:i,pathname:a,search:o}=Rl(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Bn([r,a])),s.createHref({pathname:l,search:o,hash:i})}function Rs(){return w.useContext(Ll)!=null}function Dr(){return Rs()||he(!1),w.useContext(Ll).location}function yy(t){w.useContext(dn).static||w.useLayoutEffect(t)}function ma(){let{isDataRoute:t}=w.useContext(hn);return t?$1():k1()}function k1(){Rs()||he(!1);let t=w.useContext(Dl),{basename:e,future:n,navigator:r}=w.useContext(dn),{matches:s}=w.useContext(hn),{pathname:i}=Dr(),a=JSON.stringify(dh(s,n.v7_relativeSplatPath)),o=w.useRef(!1);return yy(()=>{o.current=!0}),w.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=hh(c,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Bn([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,a,i,t])}const S1=w.createContext(null);function j1(t){let e=w.useContext(hn).outlet;return e&&w.createElement(S1.Provider,{value:t},e)}function Rl(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(dn),{matches:s}=w.useContext(hn),{pathname:i}=Dr(),a=JSON.stringify(dh(s,r.v7_relativeSplatPath));return w.useMemo(()=>hh(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function P1(t,e){return E1(t,e)}function E1(t,e,n,r){Rs()||he(!1);let{navigator:s}=w.useContext(dn),{matches:i}=w.useContext(hn),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Dr(),u;if(e){var d;let x=typeof e=="string"?Ls(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||he(!1),u=x}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=e1(t,{pathname:p}),y=M1(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Bn([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Bn([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&y?w.createElement(Ll.Provider,{value:{location:Ji({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Tn.Pop}},y):y}function C1(){let t=A1(),e=b1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,null)}const N1=w.createElement(C1,null);class T1 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(hn.Provider,{value:this.props.routeContext},w.createElement(gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O1(t){let{routeContext:e,match:n,children:r}=t,s=w.useContext(Dl);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(hn.Provider,{value:e},r)}function M1(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||he(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let p,m=!1,y=null,x=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||N1,l&&(c<0&&f===0?(I1("route-fallback"),m=!0,x=null):c===f&&(m=!0,x=d.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let b;return p?b=y:m?b=x:d.route.Component?b=w.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,w.createElement(O1,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?w.createElement(T1,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var vy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vy||{}),xy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xy||{});function D1(t){let e=w.useContext(Dl);return e||he(!1),e}function L1(t){let e=w.useContext(my);return e||he(!1),e}function R1(t){let e=w.useContext(hn);return e||he(!1),e}function by(t){let e=R1(),n=e.matches[e.matches.length-1];return n.route.id||he(!1),n.route.id}function A1(){var t;let e=w.useContext(gy),n=L1(),r=by();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $1(){let{router:t}=D1(vy.UseNavigateStable),e=by(xy.UseNavigateStable),n=w.useRef(!1);return yy(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ji({fromRouteId:e},i)))},[t,e])}const cp={};function I1(t,e,n){cp[t]||(cp[t]=!0)}function F1(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wy(t){let{to:e,replace:n,state:r,relative:s}=t;Rs()||he(!1);let{future:i,static:a}=w.useContext(dn),{matches:o}=w.useContext(hn),{pathname:l}=Dr(),c=ma(),u=hh(e,dh(o,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return w.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function up(t){return j1(t.context)}function Qe(t){he(!1)}function z1(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Tn.Pop,navigator:i,static:a=!1,future:o}=t;Rs()&&he(!1);let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:i,static:a,future:Ji({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=Ls(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:m="default"}=r,y=w.useMemo(()=>{let x=Ss(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:p,key:m},navigationType:s}},[l,u,d,f,p,m,s]);return y==null?null:w.createElement(dn.Provider,{value:c},w.createElement(Ll.Provider,{children:n,value:y}))}function U1(t){let{children:e,location:n}=t;return P1(Bu(e),n)}new Promise(()=>{});function Bu(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,Bu(r.props.children,i));return}r.type!==Qe&&he(!1),!r.props.index||!r.props.children||he(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Bu(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},el.apply(this,arguments)}function _y(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function B1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W1(t,e){return t.button===0&&(!e||e==="_self")&&!B1(t)}const H1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],q1="6";try{window.__reactRouterVersion=q1}catch{}const Y1=w.createContext({isTransitioning:!1}),K1="startTransition",dp=Fx[K1];function G1(t){let{basename:e,children:n,future:r,window:s}=t,i=w.useRef();i.current==null&&(i.current=Qw({window:s,v5Compat:!0}));let a=i.current,[o,l]=w.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=w.useCallback(d=>{c&&dp?dp(()=>l(d)):l(d)},[l,c]);return w.useLayoutEffect(()=>a.listen(u),[a,u]),w.useEffect(()=>F1(r),[r]),w.createElement(z1,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const X1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K=w.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=_y(e,H1),{basename:p}=w.useContext(dn),m,y=!1;if(typeof c=="string"&&Q1.test(c)&&(m=c,X1))try{let b=new URL(window.location.href),_=c.startsWith("//")?new URL(b.protocol+c):new URL(c),k=Ss(_.pathname,p);_.origin===b.origin&&k!=null?c=k+_.search+_.hash:y=!0}catch{}let x=_1(c,{relative:s}),g=e_(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:s,viewTransition:d});function v(b){r&&r(b),b.defaultPrevented||g(b)}return w.createElement("a",el({},f,{href:m||x,onClick:y||i?r:v,ref:n,target:l}))}),J1=w.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:l,viewTransition:c,children:u}=e,d=_y(e,V1),f=Rl(l,{relative:d.relative}),p=Dr(),m=w.useContext(my),{navigator:y,basename:x}=w.useContext(dn),g=m!=null&&t_(f)&&c===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,b=p.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(b=b.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&x&&(_=Ss(_,x)||_);const k=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=b===v||!a&&b.startsWith(v)&&b.charAt(k)==="/",j=_!=null&&(_===v||!a&&_.startsWith(v)&&_.charAt(v.length)==="/"),P={isActive:S,isPending:j,isTransitioning:g},O=S?r:void 0,E;typeof i=="function"?E=i(P):E=[i,S?"active":null,j?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(P):o;return w.createElement(K,el({},d,{"aria-current":O,className:E,ref:n,style:C,to:l,viewTransition:c}),typeof u=="function"?u(P):u)});var Wu;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wu||(Wu={}));var hp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hp||(hp={}));function Z1(t){let e=w.useContext(Dl);return e||he(!1),e}function e_(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=ma(),c=Dr(),u=Rl(t,{relative:a});return w.useCallback(d=>{if(W1(d,n)){d.preventDefault();let f=r!==void 0?r:Zo(c)===Zo(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,u,r,s,n,t,i,a,o])}function t_(t,e){e===void 0&&(e={});let n=w.useContext(Y1);n==null&&he(!1);let{basename:r}=Z1(Wu.useViewTransitionState),s=Rl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Ss(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ss(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Uu(s.pathname,a)!=null||Uu(s.pathname,i)!=null}const n_="modulepreload",r_=function(t){return"/"+t},fp={},ga=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=r_(l),l in fp)return;fp[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":n_,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},s_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ga(async()=>{const{default:r}=await Promise.resolve().then(()=>As);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class fh extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class i_ extends fh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class a_ extends fh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o_ extends fh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Hu||(Hu={}));var l_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class c_{constructor(e,{headers:n={},customFetch:r,region:s=Hu.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=s_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return l_(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let o={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:c}).catch(m=>{throw new i_(m)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new a_(u);if(!u.ok)throw new o_(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Ze={},ph={},Al={},ya={},$l={},Il={},u_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},js=u_();const d_=js.fetch,ky=js.fetch.bind(js),Sy=js.Headers,h_=js.Request,f_=js.Response,As=Object.freeze(Object.defineProperty({__proto__:null,Headers:Sy,Request:h_,Response:f_,default:ky,fetch:d_},Symbol.toStringTag,{value:"Module"})),p_=kx(As);var Fl={};Object.defineProperty(Fl,"__esModule",{value:!0});let m_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Fl.default=m_;var jy=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Il,"__esModule",{value:!0});const g_=jy(p_),y_=jy(Fl);let v_=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=g_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let c=null,u=null,d=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");y&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(u=[],c=null,f=200,p="OK")}catch{i.status===404&&y===""?(f=204,p="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new y_.default(c)}return{error:c,data:u,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Il.default=v_;var x_=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($l,"__esModule",{value:!0});const b_=x_(Il);let w_=class extends b_.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};$l.default=w_;var __=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ya,"__esModule",{value:!0});const k_=__($l);let S_=class extends k_.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ya.default=S_;var j_=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Al,"__esModule",{value:!0});const Gs=j_(ya);let P_=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Gs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Gs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Gs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Gs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Gs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Al.default=P_;var zl={},Ul={};Object.defineProperty(Ul,"__esModule",{value:!0});Ul.version=void 0;Ul.version="0.0.0-automated";Object.defineProperty(zl,"__esModule",{value:!0});zl.DEFAULT_HEADERS=void 0;const E_=Ul;zl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${E_.version}`};var Py=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ph,"__esModule",{value:!0});const C_=Py(Al),N_=Py(ya),T_=zl;let O_=class Ey{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},T_.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new C_.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ey(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{o.searchParams.append(u,d)})):(a="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new N_.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ph.default=O_;var $s=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const Cy=$s(ph);Ze.PostgrestClient=Cy.default;const Ny=$s(Al);Ze.PostgrestQueryBuilder=Ny.default;const Ty=$s(ya);Ze.PostgrestFilterBuilder=Ty.default;const Oy=$s($l);Ze.PostgrestTransformBuilder=Oy.default;const My=$s(Il);Ze.PostgrestBuilder=My.default;const Dy=$s(Fl);Ze.PostgrestError=Dy.default;var M_=Ze.default={PostgrestClient:Cy.default,PostgrestQueryBuilder:Ny.default,PostgrestFilterBuilder:Ty.default,PostgrestTransformBuilder:Oy.default,PostgrestBuilder:My.default,PostgrestError:Dy.default};const{PostgrestClient:D_,PostgrestQueryBuilder:nM,PostgrestFilterBuilder:rM,PostgrestTransformBuilder:sM,PostgrestBuilder:iM,PostgrestError:aM}=M_;let Vu;typeof window>"u"?Vu=require("ws"):Vu=window.WebSocket;const L_="2.11.10",R_={"X-Client-Info":`realtime-js/${L_}`},A_="1.0.0",Ly=1e4,$_=1e3;var fs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(fs||(fs={}));var Be;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Be||(Be={}));var Ct;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ct||(Ct={}));var qu;(function(t){t.websocket="websocket"})(qu||(qu={}));var ur;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ur||(ur={}));class I_{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(e.slice(a,a+s));a=a+s;const l=r.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Ry{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(re||(re={}));const pp=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,a)=>(i[a]=F_(a,t,e,s),i),{})},F_=(t,e,n,r)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?Ay(i,a):Yu(a)},Ay=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return W_(e,n)}switch(t){case re.bool:return z_(e);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return U_(e);case re.json:case re.jsonb:return B_(e);case re.timestamp:return H_(e);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Yu(e);default:return Yu(e)}},Yu=t=>t,z_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},U_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},B_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},W_=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Ay(e,o))}return t},H_=t=>typeof t=="string"?t.replace(" ","T"):t,$y=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class _c{constructor(e,n,r={},s=Ly){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mp||(mp={}));class ji{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ji.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=ji.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ji.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(i,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=i[c];if(d){const f=u.map(x=>x.presence_ref),p=d.map(x=>x.presence_ref),m=u.filter(x=>p.indexOf(x.presence_ref)<0),y=d.filter(x=>f.indexOf(x.presence_ref)<0);m.length>0&&(o[c]=m),y.length>0&&(l[c]=y)}else o[c]=u}),this.syncDiff(i,{joins:o,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);e[o].unshift(...f)}r(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,s(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gp;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(gp||(gp={}));var yp;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(yp||(yp={}));var Qt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Qt||(Qt={}));class mh{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _c(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new Ry(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ji(this),this.broadcastEndpointURL=$y(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(u=>e==null?void 0:e(Qt.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Qt.CLOSED));const l={},c={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Qt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,m=[];for(let y=0;y<p;y++){const x=f[y],{filter:{event:g,schema:v,table:b,filter:_}}=x,k=u&&u[y];if(k&&k.event===g&&k.schema===v&&k.table===b&&k.filter===_)m.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),this.state=Be.errored,e==null||e(Qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Qt.SUBSCRIBED);return}}).receive("error",u=>{this.state=Be.errored,e==null||e(Qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Be.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new _c(this,Ct.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _c(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Ct;if(r&&[o,l,c,u].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var m,y,x;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(y=p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(p=>p.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var m,y,x,g,v,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,k=(m=p.filter)===null||m===void 0?void 0:m.event;return _&&((y=n.ids)===null||y===void 0?void 0:y.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(v=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:y,table:x,commit_timestamp:g,type:v,errors:b}=m;f=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:g,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(f,r)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&mh.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ct.close,{},e)}_onError(e){this._on(Ct.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=pp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=pp(e.columns,e.old_record)),n}}const vp=()=>{},V_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class q_{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=R_,this.params={},this.timeout=Ly,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vp,this.ref=0,this.logger=vp,this.conn=null,this.sendBuffer=[],this.serializer=new I_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>ga(async()=>{const{default:l}=await Promise.resolve().then(()=>As);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${qu.websocket}`,this.httpEndpoint=$y(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ry(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Vu),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Y_(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:A_}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fs.connecting:return ur.Connecting;case fs.open:return ur.Open;case fs.closing:return ur.Closing;default:return ur.Closed}}isConnected(){return this.connectionState()===ur.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new mh(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Ct.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close($_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ct.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([V_],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Y_{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fs.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class gh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ce(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class K_ extends gh{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ku extends gh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var G_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Iy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ga(async()=>{const{default:r}=await Promise.resolve().then(()=>As);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},X_=()=>G_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ga(()=>Promise.resolve().then(()=>As),void 0)).Response:Response}),Gu=t=>{if(Array.isArray(t))return t.map(n=>Gu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Gu(r)}),e};var Lr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const kc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Q_=(t,e,n)=>Lr(void 0,void 0,void 0,function*(){const r=yield X_();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new K_(kc(s),t.status||500))}).catch(s=>{e(new Ku(kc(s),s))}):e(new Ku(kc(t),t))}),J_=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function va(t,e,n,r,s,i){return Lr(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,J_(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Q_(l,o,r))})})}function tl(t,e,n,r){return Lr(this,void 0,void 0,function*(){return va(t,"GET",e,n,r)})}function kn(t,e,n,r,s){return Lr(this,void 0,void 0,function*(){return va(t,"POST",e,r,s,n)})}function Z_(t,e,n,r,s){return Lr(this,void 0,void 0,function*(){return va(t,"PUT",e,r,s,n)})}function ek(t,e,n,r){return Lr(this,void 0,void 0,function*(){return va(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Fy(t,e,n,r,s){return Lr(this,void 0,void 0,function*(){return va(t,"DELETE",e,r,s,n)})}var Ge=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const tk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nk{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Iy(s)}uploadOrUpdate(e,n,r,s){return Ge(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},xp),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:xp.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ce(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield kn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new gh("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ge(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield kn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ge(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield kn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ge(this,void 0,void 0,function*(){try{const s=yield kn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}download(e,n){return Ge(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield tl(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ce(o))return{data:null,error:o};throw o}})}info(e){return Ge(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield tl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Gu(r),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}exists(e){return Ge(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield ek(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ce(r)&&r instanceof Ku){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}remove(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield Fy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ge(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tk),n),{prefix:e||""});return{data:yield kn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const rk="2.7.1",sk={"X-Client-Info":`storage-js/${rk}`};var Ir=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class ik{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},sk),n),this.fetch=Iy(r)}listBuckets(){return Ir(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ce(e))return{data:null,error:e};throw e}})}getBucket(e){return Ir(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ir(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ir(this,void 0,void 0,function*(){try{return{data:yield Z_(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ir(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ir(this,void 0,void 0,function*(){try{return{data:yield Fy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}}class ak extends ik{constructor(e,n={},r){super(e,n,r)}from(e){return new nk(this.url,this.headers,e,this.fetch)}}const ok="2.49.10";let oi="";typeof Deno<"u"?oi="deno":typeof document<"u"?oi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oi="react-native":oi="node";const lk={"X-Client-Info":`supabase-js-${oi}/${ok}`},ck={headers:lk},uk={schema:"public"},dk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hk={};var fk=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const pk=t=>{let e;return t?e=t:typeof fetch>"u"?e=ky:e=fetch,(...n)=>e(...n)},mk=()=>typeof Headers>"u"?Sy:Headers,gk=(t,e,n)=>{const r=pk(n),s=mk();return(i,a)=>fk(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},a),{headers:c}))})};var yk=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};function vk(t){return t.endsWith("/")?t:t+"/"}function xk(t,e){var n,r;const{db:s,auth:i,realtime:a,global:o}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),a),global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>yk(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const zy="2.69.1",Yr=30*1e3,Xu=3,Sc=Xu*Yr,bk="http://localhost:9999",wk="supabase.auth.token",_k={"X-Client-Info":`gotrue-js/${zy}`},Qu="X-Supabase-Api-Version",Uy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Sk=6e5;class yh extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class jk extends yh{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Pk(t){return I(t)&&t.name==="AuthApiError"}class By extends yh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Qn extends yh{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class vn extends Qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ek(t){return I(t)&&t.name==="AuthSessionMissingError"}class jc extends Qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ua extends Qn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ba extends Qn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ck(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class bp extends Qn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ju extends Qn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Pc(t){return I(t)&&t.name==="AuthRetryableFetchError"}class wp extends Qn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Pi extends Qn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kp=` 	
\r=`.split(""),Nk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<kp.length;e+=1)t[kp[e].charCodeAt(0)]=-2;for(let e=0;e<_p.length;e+=1)t[_p[e].charCodeAt(0)]=e;return t})();function Wy(t,e,n){const r=Nk[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Sp(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Mk(a,r,n)};for(let a=0;a<t.length;a+=1)Wy(t.charCodeAt(a),s,i);return e.join("")}function Tk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ok(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Tk(r,e)}}function Mk(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Dk(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Wy(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Lk(t){const e=[];return Ok(t,n=>e.push(n)),new Uint8Array(e)}function Rk(t){return Math.round(Date.now()/1e3)+t}function Ak(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const At=()=>typeof window<"u"&&typeof document<"u",er={tested:!1,writable:!1},Ei=()=>{if(!At())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(er.tested)return er.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),er.tested=!0,er.writable=!0}catch{er.tested=!0,er.writable=!1}return er.writable};function $k(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Hy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ga(async()=>{const{default:r}=await Promise.resolve().then(()=>As);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Ik=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Vy=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Wa=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ha=async(t,e)=>{await t.removeItem(e)};class Bl{constructor(){this.promise=new Bl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Bl.promiseConstructor=Promise;function Ec(t){const e=t.split(".");if(e.length!==3)throw new Pi("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!kk.test(e[r]))throw new Pi("JWT not in base64url format");return{header:JSON.parse(Sp(e[0])),payload:JSON.parse(Sp(e[1])),signature:Dk(e[2]),raw:{header:e[0],payload:e[1]}}}async function Fk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function zk(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function Uk(t){return("0"+t.toString(16)).substr(-2)}function Bk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Uk).join("")}async function Wk(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Hk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Wk(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fr(t,e,n=!1){const r=Bk();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Vy(t,`${e}-code-verifier`,s);const i=await Hk(r);return[i,r===i?"plain":"s256"]}const Vk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qk(t){const e=t.headers.get(Qu);if(!e||!e.match(Vk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Yk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Kk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Gk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const ar=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Xk=[502,503,504];async function jp(t){var e;if(!Ik(t))throw new Ju(ar(t),0);if(Xk.includes(t.status))throw new Ju(ar(t),t.status);let n;try{n=await t.json()}catch(i){throw new By(ar(i),i)}let r;const s=qk(t);if(s&&s.getTime()>=Uy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new wp(ar(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new vn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new wp(ar(n),t.status,n.weak_password.reasons);throw new jk(ar(n),t.status||500,r)}const Qk=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Y(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Qu]||(i[Qu]=Uy["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Jk(t,e,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Jk(t,e,n,r,s,i){const a=Qk(e,r,s,i);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Ju(ar(l),0)}if(o.ok||await jp(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await jp(l)}}function xn(t){var e;let n=null;n2(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Rk(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Pp(t){const e=xn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Zk(t){return{data:t,error:null}}function e2(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=Gk(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function t2(t){return t}function n2(t){return t.access_token&&t.refresh_token&&t.expires_in}var r2=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class s2{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Hy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=r2(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:e2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pn})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:t2});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(I(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pn})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Pn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Y(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}const i2={getItem:t=>Ei()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ei()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ei()&&globalThis.localStorage.removeItem(t)}};function Ep(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function a2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zr={debug:!!(globalThis&&Ei()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class o2 extends qy{}async function l2(t,e,n){zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),zr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new o2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(zr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}a2();const c2={url:bk,storageKey:wk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_k,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cp(t,e,n){return await n()}class Zi{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zi.nextInstanceID,Zi.nextInstanceID+=1,this.instanceID>0&&At()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},c2),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new s2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Hy(s.fetch),this.lock=s.lock||Cp,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:At()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=l2:this.lock=Cp,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ei()?this.storage=i2:(this.memoryStorage={},this.storage=Ep(this.memoryStorage)):(this.memoryStorage={},this.storage=Ep(this.memoryStorage)),At()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zy}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=$k(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),At()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ck(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return I(n)?{error:n}:{error:new By("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:xn}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Fr(this.storage,this.storageKey)),i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:xn})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:xn})}else throw new Ua("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:o}=e;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Pp})}else if("phone"in e){const{phone:i,password:a,options:o}=e;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Pp})}else throw new Ua("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new jc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Wa(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:xn});if(await Ha(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new jc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,o=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xn}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new jc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Fr(this.storage,this.storageKey));const{error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Ua("You must provide either an email or phone number.")}catch(o){if(I(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:xn});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Fr(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Zk})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new vn;const{error:s}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:o}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Ua("You must provide either an email or phone number and a type")}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Wa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Sc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pn}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vn}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Pn})})}catch(n){if(I(n))return Ek(n)&&(await this._removeSession(),await Ha(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new vn;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Fr(this.storage,this.storageKey));const{data:c,error:u}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Pn});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=Ec(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(I(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new vn;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!At())throw new Ba("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ba(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ba("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bp("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!a||!c)throw new Ba("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let f=u+d;l&&(f=parseInt(l));const p=f-u;p*1e3<=Yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=f-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(I(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Wa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Pk(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Ha(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Ak(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Fr(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,l,c,u;const{data:d,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return At()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(I(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await zk(async s=>(s>0&&await Fk(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xn})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Pc(i)&&Date.now()+a-r<Yr})}catch(r){if(this._debug(n,"error",r),I(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),At()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Wa(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Sc;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Sc}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Pc(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bl;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new vn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),I(i)){const a={session:null,error:i};return Pc(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Vy(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ha(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&At()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yr}ms, refresh threshold is ${Xu} ticks`),s<=Xu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof qy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!At()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Fr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Y(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:o}=await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ec(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r||(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+Sk>Date.now()))return r;const{data:s,error:i}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Pi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(a=>a.kid===e),!r)throw new Pi("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Ec(r);if(Yk(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const c=Kk(s.alg),u=await this.fetchJwk(s.kid,n),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,Lk(`${o}.${l}`)))throw new Pi("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}}Zi.nextInstanceID=0;const u2=Zi;class d2 extends u2{constructor(e){super(e)}}var h2=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class f2{constructor(e,n,r){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=vk(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:uk,realtime:hk,auth:Object.assign(Object.assign({},dk),{storageKey:c}),global:ck},d=xk(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=gk(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new D_(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new c_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ak(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return h2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d2({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new q_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const p2=(t,e,n)=>new f2(t,e,n),m2="https://fdjjamjmfzwpvinxqcwv.supabase.co",g2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkamphbWptZnp3cHZpbnhxY3d2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5NTk2NzcsImV4cCI6MjA2NDUzNTY3N30.ZMipJP-eu6OjcFV63_oyaZvIkWTLR0EauFjVPZY0Kzc",W=p2(m2,g2),Yy=w.createContext();function y2({children:t}){const[e,n]=w.useState(null),[r,s]=w.useState(null),[i,a]=w.useState(!0),[o,l]=w.useState(null),[c,u]=w.useState(null),[d,f]=w.useState(!1);w.useEffect(()=>{W.auth.getSession().then(({data:{session:k}})=>{s(k),n((k==null?void 0:k.user)??null),k!=null&&k.user?p(k.user.id):a(!1)});const{data:{subscription:_}}=W.auth.onAuthStateChange((k,S)=>{s(S),n((S==null?void 0:S.user)??null),S!=null&&S.user?p(S.user.id):(u(null),f(!1),a(!1))});return()=>_.unsubscribe()},[]);const p=async _=>{try{const{data:k,error:S}=await W.from("profiles").select("role").eq("id",_).maybeSingle();if(S)throw console.error("Error fetching user profile:",S),S;const j=(k==null?void 0:k.role)||"user";u(j),f(j==="admin")}catch(k){console.error("Error in fetchUserData:",k),u("user"),f(!1)}finally{a(!1)}},b={user:e,session:r,loading:i,error:o,userRole:c,signUp:async(_,k)=>{try{a(!0),l(null);const{data:S,error:j}=await W.auth.signUp({email:_,password:k});if(j)throw j;if(S!=null&&S.user)try{await W.from("profiles").insert([{id:S.user.id,role:"user",created_at:new Date().toISOString()}])}catch(P){console.error("Error creating initial profile:",P)}return{success:!0,data:S}}catch(S){return console.error("Error signing up:",S),l(S),{success:!1,error:S}}finally{a(!1)}},signIn:async(_,k)=>{try{a(!0),l(null);const{data:S,error:j}=await W.auth.signInWithPassword({email:_,password:k});if(j)throw j;return{success:!0,data:S}}catch(S){return console.error("Error signing in:",S),l(S),{success:!1,error:S}}finally{a(!1)}},signOut:async()=>{try{a(!0),l(null);const{error:_}=await W.auth.signOut();if(_)throw _;return n(null),s(null),u(null),f(!1),{success:!0}}catch(_){return console.error("Error signing out:",_),l(_),{success:!1,error:_}}finally{a(!1)}},resetPassword:async _=>{try{a(!0),l(null);const{data:k,error:S}=await W.auth.resetPasswordForEmail(_,{redirectTo:`${window.location.origin}/reset-password`});if(S)throw S;return{success:!0,data:k}}catch(k){return console.error("Error resetting password:",k),l(k),{success:!1,error:k}}finally{a(!1)}},updatePassword:async _=>{try{a(!0),l(null);const{data:k,error:S}=await W.auth.updateUser({password:_});if(S)throw S;return{success:!0,data:k}}catch(k){return console.error("Error updating password:",k),l(k),{success:!1,error:k}}finally{a(!1)}},isAdmin:d,isSeller:c==="seller",isUser:c==="user",hasRole:_=>_==="admin"?d:_==="seller"?d||c==="seller":!0};return h.jsx(Yy.Provider,{value:b,children:t})}function _e(){return w.useContext(Yy)}var Ky={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Np=be.createContext&&be.createContext(Ky),Wn=function(){return Wn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Wn.apply(this,arguments)},v2=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function Gy(t){return t&&t.map(function(e,n){return be.createElement(e.tag,Wn({key:n},e.attr),Gy(e.child))})}function ne(t){return function(e){return be.createElement(x2,Wn({attr:Wn({},t.attr)},e),Gy(t.child))}}function x2(t){var e=function(n){var r=t.attr,s=t.size,i=t.title,a=v2(t,["attr","size","title"]),o=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),be.createElement("svg",Wn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:Wn(Wn({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&be.createElement("title",null,i),t.children)};return Np!==void 0?be.createElement(Np.Consumer,null,function(n){return e(n)}):e(Ky)}function Tp(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(t)}function vh(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"}}]})(t)}function b2(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(t)}function nl(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"}}]})(t)}function Xy(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(t)}function Qy(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(t)}function w2(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(t)}function xh(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(t)}function bh(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(t)}function _2(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}}]})(t)}function k2(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(t)}function S2(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"}},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"}},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"}},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"}},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}}]})(t)}function j2(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(t)}function P2(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}},{tag:"polyline",attr:{points:"22,6 12,13 2,6"}}]})(t)}function E2(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(t)}function Cc(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}}]})(t)}function ea(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(t)}function rl(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(t)}function wh(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(t)}function C2(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(t)}function N2(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}}]})(t)}function Nc(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(t)}function T2(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(t)}function Va(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(t)}function O2(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(t)}function _h(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(t)}function M2(t){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(t)}function D2(){const t=localStorage.getItem("darkMode"),e=window.matchMedia("(prefers-color-scheme: dark)").matches,[n,r]=w.useState(t!==null?t==="true":e);return w.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",n)},[n]),w.useEffect(()=>{const i=window.matchMedia("(prefers-color-scheme: dark)"),a=()=>{localStorage.getItem("darkMode")===null&&r(i.matches)};return i.addEventListener("change",a),()=>i.removeEventListener("change",a)},[]),{isDarkMode:n,toggleDarkMode:()=>{r(i=>!i)}}}function L2(){var d;const{user:t,signOut:e}=_e(),[n,r]=w.useState(!1),[s,i]=w.useState(!1),{isDarkMode:a,toggleDarkMode:o}=D2(),l=async()=>{try{await e(),i(!1),r(!1)}catch(f){console.error("Error signing out:",f.message)}},c=()=>{r(!n),s&&i(!1)},u=()=>{i(!s)};return h.jsxs("nav",{className:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50",children:[h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsx("div",{className:"flex items-center",children:h.jsx(K,{to:"/",className:"flex items-center",children:h.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-indigo-600 bg-clip-text text-transparent",children:"MyDigitalShelf"})})}),h.jsx("div",{className:"hidden md:flex md:items-center md:space-x-6",children:t?h.jsxs(h.Fragment,{children:[h.jsx(K,{to:"/dashboard",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium",children:"Dashboard"}),h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:u,className:"flex items-center space-x-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 focus:outline-none",children:[h.jsx("div",{className:"avatar avatar-sm bg-primary-100 dark:bg-primary-900 flex items-center justify-center",children:h.jsx(O2,{className:"text-primary-600 dark:text-primary-400"})}),h.jsx("span",{className:"font-medium hidden lg:inline-block",children:(d=t.email)==null?void 0:d.split("@")[0]})]}),s&&h.jsx("div",{className:"dropdown-menu animate-fade-in",children:h.jsxs("div",{className:"py-1",children:[h.jsxs("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700",children:["Signed in as ",h.jsx("span",{className:"font-medium",children:t.email})]}),h.jsx(K,{to:"/settings",className:"dropdown-item",onClick:()=>i(!1),children:"Account Settings"}),h.jsx("button",{onClick:o,className:"dropdown-item w-full text-left flex items-center",children:a?h.jsxs(h.Fragment,{children:[h.jsx(Nc,{className:"mr-2"}),"Light Mode"]}):h.jsxs(h.Fragment,{children:[h.jsx(Cc,{className:"mr-2"}),"Dark Mode"]})}),h.jsxs("button",{onClick:l,className:"dropdown-item w-full text-left text-red-600 dark:text-red-400 flex items-center",children:[h.jsx(j2,{className:"mr-2"}),"Sign Out"]})]})})]})]}):h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:o,className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400","aria-label":"Toggle dark mode",children:a?h.jsx(Nc,{size:20}):h.jsx(Cc,{size:20})}),h.jsx(K,{to:"/login",className:"btn btn-outline",children:"Login"}),h.jsx(K,{to:"/register",className:"btn btn-primary",children:"Sign Up"})]})}),h.jsxs("div",{className:"md:hidden flex items-center space-x-4",children:[h.jsx("button",{onClick:o,className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400","aria-label":"Toggle dark mode",children:a?h.jsx(Nc,{size:20}):h.jsx(Cc,{size:20})}),h.jsx("button",{onClick:c,className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 focus:outline-none","aria-label":"Toggle mobile menu",children:n?h.jsx(M2,{size:24}):h.jsx(E2,{size:24})})]})]})}),n&&h.jsx("div",{className:"md:hidden bg-white dark:bg-gray-800 shadow-lg animate-fade-in",children:h.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:t?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700",children:["Signed in as ",h.jsx("span",{className:"font-medium",children:t.email})]}),h.jsx(K,{to:"/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>r(!1),children:"Dashboard"}),h.jsx(K,{to:"/settings",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>r(!1),children:"Account Settings"}),h.jsx("button",{onClick:l,className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Sign Out"})]}):h.jsxs(h.Fragment,{children:[h.jsx(K,{to:"/login",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>r(!1),children:"Login"}),h.jsx(K,{to:"/register",className:"block px-3 py-2 rounded-md text-base font-medium text-primary-600 dark:text-primary-400 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>r(!1),children:"Sign Up"})]})})})]})}function R2(){const t=[{path:"/dashboard",label:"Dashboard",icon:h.jsx(k2,{className:"w-5 h-5"})},{path:"/products",label:"Products",icon:h.jsx(ea,{className:"w-5 h-5"})},{path:"/memberships",label:"Memberships",icon:h.jsx(nl,{className:"w-5 h-5"})},{path:"/customers",label:"Customers",icon:h.jsx(_h,{className:"w-5 h-5"})},{path:"/sales",label:"Sales",icon:h.jsx(Xy,{className:"w-5 h-5"})},{path:"/analytics",label:"Analytics",icon:h.jsx(vh,{className:"w-5 h-5"})},{path:"/settings",label:"Settings",icon:h.jsx(C2,{className:"w-5 h-5"})}];return h.jsxs("aside",{className:"w-full md:w-64 bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 sticky top-24",children:[h.jsx("nav",{className:"space-y-1",children:t.map(e=>h.jsxs(J1,{to:e.path,className:({isActive:n})=>`flex items-center justify-between p-3 rounded-md transition-all duration-200 ${n?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"mr-3",children:e.icon}),h.jsx("span",{children:e.label})]}),h.jsx(b2,{className:({isActive:n})=>`w-4 h-4 transition-transform duration-200 ${n?"transform rotate-90 opacity-100":"opacity-0"}`})]},e.path))}),h.jsxs("div",{className:"mt-8 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Storage"}),h.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5",children:h.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:"45%"}})}),h.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:[h.jsx("span",{className:"font-medium",children:"45%"})," of 10GB used"]})]})]})}let A2={data:""},$2=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||A2,I2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,F2=/\/\*[^]*?\*\/|  +/g,Op=/\n+/g,En=(t,e)=>{let n="",r="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?En(a,i):i+"{"+En(a,i[1]=="k"?"":e)+"}":typeof a=="object"?r+=En(a,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=En.p?En.p(i,a):i+":"+a+";")}return n+(e&&s?e+"{"+s+"}":s)+r},qt={},Jy=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Jy(t[n]);return e}return t},z2=(t,e,n,r,s)=>{let i=Jy(t),a=qt[i]||(qt[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!qt[a]){let l=i!==t?t:(c=>{let u,d,f=[{}];for(;u=I2.exec(c.replace(F2,""));)u[4]?f.shift():u[3]?(d=u[3].replace(Op," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(Op," ").trim();return f[0]})(t);qt[a]=En(s?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&qt.g?qt.g:null;return n&&(qt.g=qt[a]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(qt[a],e,r,o),a},U2=(t,e,n)=>t.reduce((r,s,i)=>{let a=e[i];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":En(o,""):o===!1?"":o}return r+s+(a??"")},"");function Wl(t){let e=this||{},n=t.call?t(e.p):t;return z2(n.unshift?n.raw?U2(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,$2(e.target),e.g,e.o,e.k)}let Zy,Zu,ed;Wl.bind({g:1});let cn=Wl.bind({k:1});function B2(t,e,n,r){En.p=e,Zy=t,Zu=n,ed=r}function Jn(t,e){let n=this||{};return function(){let r=arguments;function s(i,a){let o=Object.assign({},i),l=o.className||s.className;n.p=Object.assign({theme:Zu&&Zu()},o),n.o=/ *go\d+/.test(l),o.className=Wl.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),ed&&c[0]&&ed(o),Zy(c,o)}return s}}var W2=t=>typeof t=="function",sl=(t,e)=>W2(t)?t(e):t,H2=(()=>{let t=0;return()=>(++t).toString()})(),ev=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),V2=20,tv=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,V2)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return tv(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},_o=[],pr={toasts:[],pausedAt:void 0},Rr=t=>{pr=tv(pr,t),_o.forEach(e=>{e(pr)})},q2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Y2=(t={})=>{let[e,n]=w.useState(pr),r=w.useRef(pr);w.useEffect(()=>(r.current!==pr&&n(pr),_o.push(n),()=>{let i=_o.indexOf(n);i>-1&&_o.splice(i,1)}),[]);let s=e.toasts.map(i=>{var a,o,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((a=t[i.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||q2[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:s}},K2=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||H2()}),xa=t=>(e,n)=>{let r=K2(e,t,n);return Rr({type:2,toast:r}),r.id},He=(t,e)=>xa("blank")(t,e);He.error=xa("error");He.success=xa("success");He.loading=xa("loading");He.custom=xa("custom");He.dismiss=t=>{Rr({type:3,toastId:t})};He.remove=t=>Rr({type:4,toastId:t});He.promise=(t,e,n)=>{let r=He.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?sl(e.success,s):void 0;return i?He.success(i,{id:r,...n,...n==null?void 0:n.success}):He.dismiss(r),s}).catch(s=>{let i=e.error?sl(e.error,s):void 0;i?He.error(i,{id:r,...n,...n==null?void 0:n.error}):He.dismiss(r)}),t};var G2=(t,e)=>{Rr({type:1,toast:{id:t,height:e}})},X2=()=>{Rr({type:5,time:Date.now()})},Ci=new Map,Q2=1e3,J2=(t,e=Q2)=>{if(Ci.has(t))return;let n=setTimeout(()=>{Ci.delete(t),Rr({type:4,toastId:t})},e);Ci.set(t,n)},Z2=t=>{let{toasts:e,pausedAt:n}=Y2(t);w.useEffect(()=>{if(n)return;let i=Date.now(),a=e.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(i-o.createdAt);if(l<0){o.visible&&He.dismiss(o.id);return}return setTimeout(()=>He.dismiss(o.id),l)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[e,n]);let r=w.useCallback(()=>{n&&Rr({type:6,time:Date.now()})},[n]),s=w.useCallback((i,a)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:c}=a||{},u=e.filter(p=>(p.position||c)===(i.position||c)&&p.height),d=u.findIndex(p=>p.id===i.id),f=u.filter((p,m)=>m<d&&p.visible).length;return u.filter(p=>p.visible).slice(...o?[f+1]:[0,f]).reduce((p,m)=>p+(m.height||0)+l,0)},[e]);return w.useEffect(()=>{e.forEach(i=>{if(i.dismissed)J2(i.id,i.removeDelay);else{let a=Ci.get(i.id);a&&(clearTimeout(a),Ci.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:G2,startPause:X2,endPause:r,calculateOffset:s}}},eS=cn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,tS=cn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,nS=cn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,rS=Jn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${eS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${tS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${nS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,sS=cn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,iS=Jn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${sS} 1s linear infinite;
`,aS=cn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,oS=cn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,lS=Jn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${oS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cS=Jn("div")`
  position: absolute;
`,uS=Jn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,dS=cn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hS=Jn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${dS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,fS=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?w.createElement(hS,null,e):e:n==="blank"?null:w.createElement(uS,null,w.createElement(iS,{...r}),n!=="loading"&&w.createElement(cS,null,n==="error"?w.createElement(rS,{...r}):w.createElement(lS,{...r})))},pS=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,mS=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,gS="0%{opacity:0;} 100%{opacity:1;}",yS="0%{opacity:1;} 100%{opacity:0;}",vS=Jn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,xS=Jn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bS=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=ev()?[gS,yS]:[pS(n),mS(n)];return{animation:e?`${cn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${cn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wS=w.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?bS(t.position||e||"top-center",t.visible):{opacity:0},i=w.createElement(fS,{toast:t}),a=w.createElement(xS,{...t.ariaProps},sl(t.message,t));return w.createElement(vS,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:a}):w.createElement(w.Fragment,null,i,a))});B2(w.createElement);var _S=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=w.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;r(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return w.createElement("div",{ref:i,className:e,style:n},s)},kS=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ev()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},SS=Wl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qa=16,jS=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:o,handlers:l}=Z2(n);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:qa,left:qa,right:qa,bottom:qa,pointerEvents:"none",...i},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=kS(u,d);return w.createElement(_S,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?SS:"",style:f},c.type==="custom"?sl(c.message,c):s?s(c):w.createElement(wS,{toast:c,position:u}))}))},xe=He;function PS(){const{user:t}=_e()||{user:null},e=Dr(),n=t&&(e.pathname.startsWith("/dashboard")||e.pathname.startsWith("/products")||e.pathname.startsWith("/customers")||e.pathname.startsWith("/sales")||e.pathname.startsWith("/analytics")||e.pathname.startsWith("/memberships")||e.pathname.startsWith("/settings"));return h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col",children:[h.jsx(jS,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--toaster-bg, #fff)",color:"var(--toaster-color, #333)",border:"1px solid var(--toaster-border, #e2e8f0)"},success:{style:{"--toaster-bg":"#f0fdf4","--toaster-color":"#166534","--toaster-border":"#bbf7d0"}},error:{style:{"--toaster-bg":"#fef2f2","--toaster-color":"#b91c1c","--toaster-border":"#fecaca"}}}}),h.jsx(L2,{}),h.jsx("div",{className:"flex-1",children:n?h.jsx("div",{className:"container mx-auto px-4 py-6",children:h.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[h.jsx(R2,{}),h.jsx("main",{className:"flex-1 animate-fade-in",children:h.jsx(up,{})})]})}):h.jsx("main",{className:"container mx-auto px-4 py-8 animate-fade-in",children:h.jsx(up,{})})}),!n&&h.jsx("footer",{className:"bg-white dark:bg-gray-800 shadow-inner py-6",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[h.jsx("div",{className:"mb-4 md:mb-0",children:h.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:[" ",new Date().getFullYear()," MyDigitalShelf. All rights reserved."]})}),h.jsxs("div",{className:"flex space-x-6",children:[h.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 text-sm",children:"Privacy Policy"}),h.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 text-sm",children:"Terms of Service"}),h.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 text-sm",children:"Contact"})]})]})})})]})}function ES(){const{user:t}=_e(),[e,n]=w.useState({totalProducts:0,totalCustomers:0,totalMemberships:0,recentSales:[],revenue:{today:0,thisWeek:0,thisMonth:0,total:0}}),[r,s]=w.useState(!0),[i,a]=w.useState(null);return w.useEffect(()=>{if(!t){s(!1);return}async function o(){try{s(!0);const{data:l,error:c}=await W.from("information_schema.tables").select("table_name").eq("table_schema","public");c&&console.error("Error checking tables:",c);const u=l?l.map(C=>C.table_name):[],d=!l||u.includes("products"),f=!l||u.includes("customers"),p=!l||u.includes("memberships");if(!d&&!f&&!p){n({totalProducts:5,totalCustomers:12,totalMemberships:8,recentSales:[{id:"1",created_at:new Date().toISOString(),status:"active",amount:29.99,customer:{name:"John Doe",email:"john@example.com"},product:{name:"Premium Course"}},{id:"2",created_at:new Date(Date.now()-864e5).toISOString(),status:"active",amount:19.99,customer:{name:"Jane Smith",email:"jane@example.com"},product:{name:"Basic Membership"}}],revenue:{today:49.98,thisWeek:149.95,thisMonth:299.9,total:599.8}}),s(!1);return}const m=[];let y={count:0},x={count:0},g={count:0},v={data:[]};d&&m.push(W.from("products").select("id",{count:"exact",head:!0}).eq("user_id",t.id).then(C=>{y=C})),f&&m.push(W.from("customers").select("id",{count:"exact",head:!0}).eq("user_id",t.id).then(C=>{x=C})),p&&(m.push(W.from("memberships").select("id",{count:"exact",head:!0}).eq("user_id",t.id).then(C=>{g=C})),f&&d&&m.push(W.from("memberships").select(`
                  id,
                  created_at,
                  status,
                  amount,
                  customer:customers(name, email),
                  product:products(name)
                `).eq("user_id",t.id).eq("status","active").order("created_at",{ascending:!1}).limit(5).then(C=>{v=C}))),await Promise.all(m),y.error&&console.error(y.error),x.error&&console.error(x.error),g.error&&console.error(g.error),v.error&&console.error(v.error);const b=new Date,_=new Date(b.getFullYear(),b.getMonth(),b.getDate()).toISOString(),k=new Date(b.getFullYear(),b.getMonth(),b.getDate()-b.getDay()).toISOString(),S=new Date(b.getFullYear(),b.getMonth(),1).toISOString();let j=0,P=0,O=0,E=0;if(p){const C=[];let L={data:[]},H={data:[]},te={data:[]},F={data:[]};C.push(W.from("memberships").select("amount").eq("user_id",t.id).eq("status","active").gte("created_at",_).then(U=>{L=U})),C.push(W.from("memberships").select("amount").eq("user_id",t.id).eq("status","active").gte("created_at",k).then(U=>{H=U})),C.push(W.from("memberships").select("amount").eq("user_id",t.id).eq("status","active").gte("created_at",S).then(U=>{te=U})),C.push(W.from("memberships").select("amount").eq("user_id",t.id).eq("status","active").then(U=>{F=U})),await Promise.all(C),L.error&&console.error(L.error),H.error&&console.error(H.error),te.error&&console.error(te.error),F.error&&console.error(F.error);const z=U=>U.reduce((M,R)=>M+(parseFloat(R.amount)||0),0);j=z(L.data||[]),P=z(H.data||[]),O=z(te.data||[]),E=z(F.data||[])}else j=49.98,P=149.95,O=299.9,E=599.8;n({totalProducts:y.count||0,totalCustomers:x.count||0,totalMemberships:g.count||0,recentSales:v.data||[],revenue:{today:j,thisWeek:P,thisMonth:O,total:E}})}catch(l){console.error("Error fetching dashboard stats:",l),n({totalProducts:5,totalCustomers:12,totalMemberships:8,recentSales:[{id:"1",created_at:new Date().toISOString(),status:"active",amount:29.99,customer:{name:"John Doe",email:"john@example.com"},product:{name:"Premium Course"}},{id:"2",created_at:new Date(Date.now()-864e5).toISOString(),status:"active",amount:19.99,customer:{name:"Jane Smith",email:"jane@example.com"},product:{name:"Basic Membership"}}],revenue:{today:49.98,thisWeek:149.95,thisMonth:299.9,total:599.8}})}finally{s(!1)}}o()},[t]),{stats:e,loading:r,error:i}}function ta(t,e="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:2,maximumFractionDigits:2}).format(t||0)}function CS(t,e={}){if(!t)return"";const r={...{year:"numeric",month:"short",day:"numeric"},...e};return new Intl.DateTimeFormat("en-US",r).format(new Date(t))}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fn=(t,e)=>{const n=w.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...c},u)=>w.createElement("svg",{ref:u,...NS,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${TS(t)}`,o].join(" "),...c},[...e.map(([d,f])=>w.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=fn("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=fn("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=fn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=fn("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=fn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=fn("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=fn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=fn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=fn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function LS(){const{stats:t,loading:e,error:n}=ES();return e?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx(Ps,{className:"w-8 h-8 animate-spin text-blue-500"})}):n?h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:h.jsx("p",{children:"Error loading dashboard data. Please try again."})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsx(Ya,{title:"Total Products",value:t.totalProducts,icon:h.jsx(OS,{className:"w-5 h-5"}),color:"bg-blue-500"}),h.jsx(Ya,{title:"Total Customers",value:t.totalCustomers,icon:h.jsx(DS,{className:"w-5 h-5"}),color:"bg-green-500"}),h.jsx(Ya,{title:"Active Memberships",value:t.totalMemberships,icon:h.jsx(kh,{className:"w-5 h-5"}),color:"bg-purple-500"}),h.jsx(Ya,{title:"Total Revenue",value:ta(t.revenue.total),icon:h.jsx(MS,{className:"w-5 h-5"}),color:"bg-indigo-500"})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsx("h3",{className:"text-lg font-medium mb-4",children:"Revenue"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx(Tc,{title:"Today",value:t.revenue.today}),h.jsx(Tc,{title:"This Week",value:t.revenue.thisWeek}),h.jsx(Tc,{title:"This Month",value:t.revenue.thisMonth})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[h.jsx("div",{className:"px-6 py-4 border-b",children:h.jsx("h3",{className:"text-lg font-medium",children:"Recent Sales"})}),h.jsx("div",{className:"divide-y",children:t.recentSales.length>0?t.recentSales.map(r=>{var s,i,a;return h.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:((s=r.customer)==null?void 0:s.name)||"Unknown Customer"}),h.jsx("p",{className:"text-sm text-gray-500",children:(i=r.customer)==null?void 0:i.email}),h.jsx("p",{className:"text-xs text-gray-400",children:CS(r.created_at)})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"font-medium",children:ta(r.amount)}),h.jsx("p",{className:"text-sm text-gray-500",children:(a=r.product)==null?void 0:a.name}),h.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:r.status})]})]},r.id)}):h.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:h.jsx("p",{children:"No recent sales found"})})})]})]})}function Ya({title:t,value:e,icon:n,color:r}){return h.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`${r} rounded-full p-3 text-white mr-4`,children:n}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:t}),h.jsx("p",{className:"text-2xl font-bold",children:e})]})]})})}function Tc({title:t,value:e}){return h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsx("p",{className:"text-sm text-gray-500",children:t}),h.jsx("p",{className:"text-xl font-bold",children:ta(e)})]})}function RS(){const{user:t}=_e();return h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(K,{to:"/products/create",className:"btn btn-primary",children:[h.jsx(ea,{className:"mr-2"}),"Add Product"]}),h.jsxs(K,{to:"/memberships/create",className:"btn btn-outline",children:[h.jsx(nl,{className:"mr-2"}),"Create Membership"]})]})]}),h.jsx(LS,{}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsx(K,{to:"/products/create",className:"btn btn-primary",children:"Add New Product"}),h.jsx(K,{to:"/memberships/create",className:"btn btn-outline",children:"Create Membership"}),h.jsx(K,{to:"/customers",className:"btn btn-outline",children:"View Customers"}),h.jsx(K,{to:"/analytics",className:"btn btn-outline",children:"View Analytics"})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Tips & Resources"}),h.jsxs("ul",{className:"space-y-3",children:[h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 p-1 rounded mr-2",children:h.jsx(ea,{className:"h-4 w-4"})}),h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:h.jsx("a",{href:"#",className:"text-primary-600 hover:underline",children:"How to create your first digital product"})})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 p-1 rounded mr-2",children:h.jsx(_h,{className:"h-4 w-4"})}),h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:h.jsx("a",{href:"#",className:"text-primary-600 hover:underline",children:"Growing your customer base"})})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 p-1 rounded mr-2",children:h.jsx(nl,{className:"h-4 w-4"})}),h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:h.jsx("a",{href:"#",className:"text-primary-600 hover:underline",children:"Setting up recurring memberships"})})]})]})]})]})]})}function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function Er(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ke(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Vt(t){Ke(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||il(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function AS(t,e){Ke(2,arguments);var n=Vt(t).getTime(),r=Er(e);return new Date(n+r)}var $S={};function Hl(){return $S}function IS(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function FS(t){return Ke(1,arguments),t instanceof Date||il(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function zS(t){if(Ke(1,arguments),!FS(t)&&typeof t!="number")return!1;var e=Vt(t);return!isNaN(Number(e))}function US(t,e){Ke(2,arguments);var n=Er(e);return AS(t,-n)}var BS=864e5;function WS(t){Ke(1,arguments);var e=Vt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/BS)+1}function al(t){Ke(1,arguments);var e=1,n=Vt(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function sv(t){Ke(1,arguments);var e=Vt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=al(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=al(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function HS(t){Ke(1,arguments);var e=sv(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=al(n);return r}var VS=6048e5;function qS(t){Ke(1,arguments);var e=Vt(t),n=al(e).getTime()-HS(e).getTime();return Math.round(n/VS)+1}function ol(t,e){var n,r,s,i,a,o,l,c;Ke(1,arguments);var u=Hl(),d=Er((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Vt(t),p=f.getUTCDay(),m=(p<d?7:0)+p-d;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function iv(t,e){var n,r,s,i,a,o,l,c;Ke(1,arguments);var u=Vt(t),d=u.getUTCFullYear(),f=Hl(),p=Er((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(d+1,0,p),m.setUTCHours(0,0,0,0);var y=ol(m,e),x=new Date(0);x.setUTCFullYear(d,0,p),x.setUTCHours(0,0,0,0);var g=ol(x,e);return u.getTime()>=y.getTime()?d+1:u.getTime()>=g.getTime()?d:d-1}function YS(t,e){var n,r,s,i,a,o,l,c;Ke(1,arguments);var u=Hl(),d=Er((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=iv(t,e),p=new Date(0);p.setUTCFullYear(f,0,d),p.setUTCHours(0,0,0,0);var m=ol(p,e);return m}var KS=6048e5;function GS(t,e){Ke(1,arguments);var n=Vt(t),r=ol(n,e).getTime()-YS(n,e).getTime();return Math.round(r/KS)+1}function J(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var mn={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return J(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):J(r+1,2)},d:function(e,n){return J(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return J(e.getUTCHours()%12||12,n.length)},H:function(e,n){return J(e.getUTCHours(),n.length)},m:function(e,n){return J(e.getUTCMinutes(),n.length)},s:function(e,n){return J(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return J(i,n.length)}},Ur={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XS={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return mn.y(e,n)},Y:function(e,n,r,s){var i=iv(e,s),a=i>0?i:1-i;if(n==="YY"){var o=a%100;return J(o,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):J(a,n.length)},R:function(e,n){var r=sv(e);return J(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return J(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return J(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return J(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return mn.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return J(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=GS(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):J(i,n.length)},I:function(e,n,r){var s=qS(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):J(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):mn.d(e,n)},D:function(e,n,r){var s=WS(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):J(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return J(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return J(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return J(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=Ur.noon:s===0?i=Ur.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=Ur.evening:s>=12?i=Ur.afternoon:s>=4?i=Ur.morning:i=Ur.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return mn.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):mn.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):J(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):J(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):mn.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):mn.s(e,n)},S:function(e,n){return mn.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return Lp(a);case"XXXX":case"XX":return or(a);case"XXXXX":case"XXX":default:return or(a,":")}},x:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"x":return Lp(a);case"xxxx":case"xx":return or(a);case"xxxxx":case"xxx":default:return or(a,":")}},O:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Dp(a,":");case"OOOO":default:return"GMT"+or(a,":")}},z:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Dp(a,":");case"zzzz":default:return"GMT"+or(a,":")}},t:function(e,n,r,s){var i=s._originalDate||e,a=Math.floor(i.getTime()/1e3);return J(a,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,a=i.getTime();return J(a,n.length)}};function Dp(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var a=e;return n+String(s)+a+J(i,2)}function Lp(t,e){if(t%60===0){var n=t>0?"-":"+";return n+J(Math.abs(t)/60,2)}return or(t,e)}function or(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=J(Math.floor(s/60),2),a=J(s%60,2);return r+i+n+a}var Rp=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},av=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},QS=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return Rp(e,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",Rp(s,n)).replace("{{time}}",av(i,n))},JS={p:av,P:QS},ZS=["D","DD"],ej=["YY","YYYY"];function tj(t){return ZS.indexOf(t)!==-1}function nj(t){return ej.indexOf(t)!==-1}function Ap(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var rj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sj=function(e,n,r){var s,i=rj[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Oc(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var ij={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lj={date:Oc({formats:ij,defaultWidth:"full"}),time:Oc({formats:aj,defaultWidth:"full"}),dateTime:Oc({formats:oj,defaultWidth:"full"})},cj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uj=function(e,n,r,s){return cj[e]};function Xs(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=t.formattingValues[a]||t.formattingValues[i]}else{var o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[o]}var c=t.argumentCallback?t.argumentCallback(e):e;return s[c]}}var dj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yj=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},vj={ordinalNumber:yj,era:Xs({values:dj,defaultWidth:"wide"}),quarter:Xs({values:hj,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Xs({values:fj,defaultWidth:"wide"}),day:Xs({values:pj,defaultWidth:"wide"}),dayPeriod:Xs({values:mj,defaultWidth:"wide",formattingValues:gj,defaultFormattingWidth:"wide"})};function Qs(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var a=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?bj(o,function(d){return d.test(a)}):xj(o,function(d){return d.test(a)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(a.length);return{value:c,rest:u}}}function xj(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function bj(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function wj(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var o=e.slice(s.length);return{value:a,rest:o}}}var _j=/^(\d+)(th|st|nd|rd)?/i,kj=/\d+/i,Sj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jj={any:[/^b/i,/^(a|c)/i]},Pj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ej={any:[/1/i,/2/i,/3/i,/4/i]},Cj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Oj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Dj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lj={ordinalNumber:wj({matchPattern:_j,parsePattern:kj,valueCallback:function(e){return parseInt(e,10)}}),era:Qs({matchPatterns:Sj,defaultMatchWidth:"wide",parsePatterns:jj,defaultParseWidth:"any"}),quarter:Qs({matchPatterns:Pj,defaultMatchWidth:"wide",parsePatterns:Ej,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Qs({matchPatterns:Cj,defaultMatchWidth:"wide",parsePatterns:Nj,defaultParseWidth:"any"}),day:Qs({matchPatterns:Tj,defaultMatchWidth:"wide",parsePatterns:Oj,defaultParseWidth:"any"}),dayPeriod:Qs({matchPatterns:Mj,defaultMatchWidth:"any",parsePatterns:Dj,defaultParseWidth:"any"})},Rj={code:"en-US",formatDistance:sj,formatLong:lj,formatRelative:uj,localize:vj,match:Lj,options:{weekStartsOn:0,firstWeekContainsDate:1}},Aj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$j=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ij=/^'([^]*?)'?$/,Fj=/''/g,zj=/[a-zA-Z]/;function jh(t,e,n){var r,s,i,a,o,l,c,u,d,f,p,m,y,x;Ke(2,arguments);var g=String(e),v=Hl(),b=(r=(s=void 0)!==null&&s!==void 0?s:v.locale)!==null&&r!==void 0?r:Rj,_=Er((i=(a=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:v.firstWeekContainsDate)!==null&&a!==void 0?a:(c=v.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Er((d=(f=(p=(m=void 0)!==null&&m!==void 0?m:void 0)!==null&&p!==void 0?p:v.weekStartsOn)!==null&&f!==void 0?f:(y=v.locale)===null||y===void 0||(x=y.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&d!==void 0?d:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var S=Vt(t);if(!zS(S))throw new RangeError("Invalid time value");var j=IS(S),P=US(S,j),O={firstWeekContainsDate:_,weekStartsOn:k,locale:b,_originalDate:S},E=g.match($j).map(function(C){var L=C[0];if(L==="p"||L==="P"){var H=JS[L];return H(C,b.formatLong)}return C}).join("").match(Aj).map(function(C){if(C==="''")return"'";var L=C[0];if(L==="'")return Uj(C);var H=XS[L];if(H)return nj(C)&&Ap(C,e,String(t)),tj(C)&&Ap(C,e,String(t)),H(P,C,b.localize,O);if(L.match(zj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return C}).join("");return E}function Uj(t){var e=t.match(Ij);return e?e[1].replace(Fj,"'"):t}function Bj(){const{user:t}=_e(),[e,n]=w.useState([]),[r,s]=w.useState(!0),[i,a]=w.useState(""),[o,l]=w.useState("all");w.useEffect(()=>{async function d(){try{if(s(!0),!t)return;const{data:f,error:p}=await W.from("products").select("*").order("created_at",{ascending:!1});if(p)throw p;n(f||[]),s(!1)}catch(f){console.error("Error fetching products:",f),xe.error("Failed to load products"),s(!1)}}d()},[t]);const c=e.filter(d=>!(i&&!d.name.toLowerCase().includes(i.toLowerCase())||o!=="all"&&d.status!==o)),u=async d=>{if(confirm("Are you sure you want to delete this product?"))try{const{error:f}=await W.from("products").delete().eq("id",d);if(f)throw f;n(e.filter(p=>p.id!==d)),xe.success("Product deleted successfully")}catch(f){console.error("Error deleting product:",f),xe.error("Failed to delete product")}};return h.jsxs("div",{children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Products"}),h.jsxs(K,{to:"/products/create",className:"btn btn-primary mt-2 sm:mt-0",children:[h.jsx(rl,{className:"mr-2"}),"Add Product"]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(wh,{className:"text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search products...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:i,onChange:d=>a(d.target.value)})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(bh,{className:"mr-2 text-gray-500 dark:text-gray-400"}),h.jsxs("select",{className:"border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",value:o,onChange:d=>l(d.target.value),children:[h.jsx("option",{value:"all",children:"All Products"}),h.jsx("option",{value:"active",children:"Active"}),h.jsx("option",{value:"draft",children:"Draft"})]})]})]}),r?h.jsx("div",{className:"animate-pulse",children:[...Array(5)].map((d,f)=>h.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 py-4",children:[h.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),h.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]},f))}):c.length>0?h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"text-left text-gray-500 dark:text-gray-400 text-sm",children:[h.jsx("th",{className:"pb-3",children:"Name"}),h.jsx("th",{className:"pb-3",children:"Type"}),h.jsx("th",{className:"pb-3",children:"Price"}),h.jsx("th",{className:"pb-3",children:"Sales"}),h.jsx("th",{className:"pb-3",children:"Status"}),h.jsx("th",{className:"pb-3",children:"Created"}),h.jsx("th",{className:"pb-3",children:"Actions"})]})}),h.jsx("tbody",{children:c.map(d=>h.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[h.jsx("td",{className:"py-3 font-medium",children:d.name}),h.jsx("td",{className:"py-3 capitalize",children:d.type}),h.jsxs("td",{className:"py-3",children:["$",parseFloat(d.price).toFixed(2)]}),h.jsx("td",{className:"py-3",children:d.total_sales||0}),h.jsx("td",{className:"py-3",children:h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:d.status})}),h.jsx("td",{className:"py-3",children:jh(new Date(d.created_at),"MMM dd, yyyy")}),h.jsx("td",{className:"py-3",children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(K,{to:`/products/${d.id}`,className:"text-gray-500 hover:text-primary-600",children:h.jsx(xh,{})}),h.jsx(K,{to:`/products/${d.id}/edit`,className:"text-gray-500 hover:text-primary-600",children:h.jsx(w2,{})}),h.jsx("button",{onClick:()=>u(d.id),className:"text-gray-500 hover:text-red-600",children:h.jsx(T2,{})})]})})]},d.id))})]})}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No products found."}),h.jsxs(K,{to:"/products/create",className:"btn btn-primary",children:[h.jsx(rl,{className:"mr-2"}),"Add Your First Product"]})]})]})]})}function Wj(){const{user:t}=_e(),[e,n]=w.useState([]),[r,s]=w.useState(!0),[i,a]=w.useState(""),[o,l]=w.useState("all");w.useEffect(()=>{t&&c()},[t]);async function c(){try{s(!0);const{data:d,error:f}=await W.from("customers").select("*").eq("seller_id",t.id).order("created_at",{ascending:!1});if(f)throw f;console.log("Fetched customers:",d),n(d||[])}catch(d){console.error("Error fetching customers:",d),xe.error("Failed to load customers")}finally{s(!1)}}const u=e.filter(d=>{var f,p;return!(i&&!((f=d.name)!=null&&f.toLowerCase().includes(i.toLowerCase()))&&!((p=d.email)!=null&&p.toLowerCase().includes(i.toLowerCase()))||o!=="all"&&d.status!==o)});return h.jsxs("div",{children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Customers"}),h.jsxs(K,{to:"/customers/new",className:"btn btn-primary mt-4 sm:mt-0",children:[h.jsx(rl,{className:"mr-2"}),"Add Customer"]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(wh,{className:"text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:i,onChange:d=>a(d.target.value)})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(bh,{className:"mr-2 text-gray-500 dark:text-gray-400"}),h.jsxs("select",{className:"border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",value:o,onChange:d=>l(d.target.value),children:[h.jsx("option",{value:"all",children:"All Customers"}),h.jsx("option",{value:"active",children:"Active"}),h.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),r?h.jsx("div",{className:"animate-pulse",children:[...Array(5)].map((d,f)=>h.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 py-4",children:[h.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),h.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]},f))}):u.length>0?h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"text-left text-gray-500 dark:text-gray-400 text-sm",children:[h.jsx("th",{className:"pb-3",children:"Name"}),h.jsx("th",{className:"pb-3",children:"Email"}),h.jsx("th",{className:"pb-3",children:"Purchases"}),h.jsx("th",{className:"pb-3",children:"Total Spent"}),h.jsx("th",{className:"pb-3",children:"Joined"}),h.jsx("th",{className:"pb-3",children:"Actions"})]})}),h.jsx("tbody",{children:u.map(d=>h.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[h.jsx("td",{className:"py-3 font-medium",children:d.name}),h.jsx("td",{className:"py-3",children:d.email}),h.jsx("td",{className:"py-3",children:d.purchases||0}),h.jsxs("td",{className:"py-3",children:["$",parseFloat(d.total_spent||0).toFixed(2)]}),h.jsx("td",{className:"py-3",children:jh(new Date(d.created_at),"MMM dd, yyyy")}),h.jsx("td",{className:"py-3",children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(K,{to:`/customers/${d.id}`,className:"text-gray-500 hover:text-primary-600",children:h.jsx(xh,{})}),h.jsx("a",{href:`mailto:${d.email}`,className:"text-gray-500 hover:text-primary-600",children:h.jsx(P2,{})})]})})]},d.id))})]})}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No customers found."}),h.jsxs(K,{to:"/customers/new",className:"btn btn-primary mt-4",children:[h.jsx(rl,{className:"mr-2"}),"Add Your First Customer"]})]})]})]})}function Hj(){const{user:t}=_e(),[e,n]=w.useState([]),[r,s]=w.useState(!0),[i,a]=w.useState(null);return w.useEffect(()=>{if(!t){n([]),s(!1);return}async function u(){try{s(!0);const{data:d,error:f}=await W.from("sales").select(`
            *,
            product:products(*),
            membership:memberships(*),
            customer:customers(*)
          `).eq("seller_id",t.id).order("created_at",{ascending:!1});if(f)throw f;n(d||[])}catch(d){console.error("Error fetching sales:",d),a(d)}finally{s(!1)}}u()},[t]),{sales:e,loading:r,error:i,addSale:async u=>{try{if(!t)throw new Error("User not authenticated");s(!0);const d={...u,seller_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:f,error:p}=await W.from("sales").insert([d]).select(`
          *,
          product:products(*),
          membership:memberships(*),
          customer:customers(*)
        `).single();if(p)throw p;return n(m=>[f,...m]),{success:!0,data:f}}catch(d){return console.error("Error adding sale:",d),a(d),{success:!1,error:d}}finally{s(!1)}},updateSale:async(u,d)=>{try{if(!t)throw new Error("User not authenticated");s(!0);const f={...d,updated_at:new Date().toISOString()},{data:p,error:m}=await W.from("sales").update(f).eq("id",u).eq("seller_id",t.id).select(`
          *,
          product:products(*),
          membership:memberships(*),
          customer:customers(*)
        `).single();if(m)throw m;return n(y=>y.map(x=>x.id===u?p:x)),{success:!0,data:p}}catch(f){return console.error("Error updating sale:",f),a(f),{success:!1,error:f}}finally{s(!1)}},deleteSale:async u=>{try{if(!t)throw new Error("User not authenticated");s(!0);const{error:d}=await W.from("sales").delete().eq("id",u).eq("seller_id",t.id);if(d)throw d;return n(f=>f.filter(p=>p.id!==u)),{success:!0}}catch(d){return console.error("Error deleting sale:",d),a(d),{success:!1,error:d}}finally{s(!1)}}}}function Vj(){const{user:t}=_e(),{sales:e,loading:n}=Hj(),[r,s]=w.useState(""),[i,a]=w.useState("all"),[o,l]=w.useState("all"),c=e.filter(p=>{var g,v,b,_;const m=((g=p.customer)==null?void 0:g.name)||"",y=((v=p.product)==null?void 0:v.name)||((b=p.membership)==null?void 0:b.name)||"",x=((_=p.customer)==null?void 0:_.email)||"";if(r&&!m.toLowerCase().includes(r.toLowerCase())&&!y.toLowerCase().includes(r.toLowerCase())&&!x.toLowerCase().includes(r.toLowerCase())||i!=="all"&&p.status!==i)return!1;if(o!=="all"){const k=new Date,S=new Date(p.created_at);if(o==="7days"){const j=new Date(k.setDate(k.getDate()-7));if(S<j)return!1}else if(o==="30days"){const j=new Date(k.setDate(k.getDate()-30));if(S<j)return!1}else if(o==="90days"){const j=new Date(k.setDate(k.getDate()-90));if(S<j)return!1}}return!0}),u=c.length,d=c.reduce((p,m)=>p+Number(m.amount),0),f=c.filter(p=>p.status==="refunded").length;return h.jsxs("div",{children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Sales"}),h.jsxs("button",{className:"btn btn-outline mt-2 sm:mt-0",children:[h.jsx(Qy,{className:"mr-2"}),"Export CSV"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Total Sales"}),h.jsx("p",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:u})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Total Revenue"}),h.jsxs("p",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:["$",d.toFixed(2)]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Refunded"}),h.jsx("p",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:f})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(wh,{className:"text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search by customer, email or product...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:r,onChange:p=>s(p.target.value)})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(bh,{className:"mr-2 text-gray-500 dark:text-gray-400"}),h.jsxs("select",{className:"border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",value:i,onChange:p=>a(p.target.value),children:[h.jsx("option",{value:"all",children:"All Status"}),h.jsx("option",{value:"completed",children:"Completed"}),h.jsx("option",{value:"refunded",children:"Refunded"})]})]}),h.jsx("div",{className:"flex items-center",children:h.jsxs("select",{className:"border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",value:o,onChange:p=>l(p.target.value),children:[h.jsx("option",{value:"all",children:"All Time"}),h.jsx("option",{value:"7days",children:"Last 7 Days"}),h.jsx("option",{value:"30days",children:"Last 30 Days"}),h.jsx("option",{value:"90days",children:"Last 90 Days"})]})})]})]}),n?h.jsx("div",{className:"animate-pulse",children:[...Array(7)].map((p,m)=>h.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 py-4",children:[h.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),h.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]},m))}):c.length>0?h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"text-left text-gray-500 dark:text-gray-400 text-sm",children:[h.jsx("th",{className:"pb-3",children:"Date"}),h.jsx("th",{className:"pb-3",children:"Customer"}),h.jsx("th",{className:"pb-3",children:"Product/Membership"}),h.jsx("th",{className:"pb-3",children:"Amount"}),h.jsx("th",{className:"pb-3",children:"Status"}),h.jsx("th",{className:"pb-3",children:"Actions"})]})}),h.jsx("tbody",{children:c.map(p=>{var m,y,x,g;return h.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[h.jsx("td",{className:"py-3",children:jh(new Date(p.created_at),"MMM dd, yyyy")}),h.jsx("td",{className:"py-3",children:h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:((m=p.customer)==null?void 0:m.name)||"Unknown"}),h.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:((y=p.customer)==null?void 0:y.email)||"No email"})]})}),h.jsx("td",{className:"py-3",children:((x=p.product)==null?void 0:x.name)||((g=p.membership)==null?void 0:g.name)||"Unknown"}),h.jsxs("td",{className:"py-3",children:["$",Number(p.amount).toFixed(2)]}),h.jsx("td",{className:"py-3",children:h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:p.status})}),h.jsx("td",{className:"py-3",children:h.jsx("div",{className:"flex space-x-2",children:h.jsx("button",{className:"text-gray-500 hover:text-primary-600",children:h.jsx(xh,{})})})})]},p.id)})})]})}):h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No sales found."})})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ba(t){return t+.5|0}const On=(t,e,n)=>Math.max(Math.min(t,n),e);function li(t){return On(ba(t*2.55),0,255)}function Hn(t){return On(ba(t*255),0,255)}function Zt(t){return On(ba(t/2.55)/100,0,1)}function $p(t){return On(ba(t*100),0,100)}const dt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},td=[..."0123456789ABCDEF"],qj=t=>td[t&15],Yj=t=>td[(t&240)>>4]+td[t&15],Ka=t=>(t&240)>>4===(t&15),Kj=t=>Ka(t.r)&&Ka(t.g)&&Ka(t.b)&&Ka(t.a);function Gj(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&dt[t[1]]*17,g:255&dt[t[2]]*17,b:255&dt[t[3]]*17,a:e===5?dt[t[4]]*17:255}:(e===7||e===9)&&(n={r:dt[t[1]]<<4|dt[t[2]],g:dt[t[3]]<<4|dt[t[4]],b:dt[t[5]]<<4|dt[t[6]],a:e===9?dt[t[7]]<<4|dt[t[8]]:255})),n}const Xj=(t,e)=>t<255?e(t):"";function Qj(t){var e=Kj(t)?qj:Yj;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Xj(t.a,e):void 0}const Jj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ov(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function Zj(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function eP(t,e,n){const r=ov(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function tP(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Ph(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),o=(i+a)/2;let l,c,u;return i!==a&&(u=i-a,c=o>.5?u/(2-i-a):u/(i+a),l=tP(n,r,s,u,i),l=l*60+.5),[l|0,c||0,o]}function Eh(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Hn)}function Ch(t,e,n){return Eh(ov,t,e,n)}function nP(t,e,n){return Eh(eP,t,e,n)}function rP(t,e,n){return Eh(Zj,t,e,n)}function lv(t){return(t%360+360)%360}function sP(t){const e=Jj.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?li(+e[5]):Hn(+e[5]));const s=lv(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=nP(s,i,a):e[1]==="hsv"?r=rP(s,i,a):r=Ch(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function iP(t,e){var n=Ph(t);n[0]=lv(n[0]+e),n=Ch(n),t.r=n[0],t.g=n[1],t.b=n[2]}function aP(t){if(!t)return;const e=Ph(t),n=e[0],r=$p(e[1]),s=$p(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Zt(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const Ip={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function oP(){const t={},e=Object.keys(Fp),n=Object.keys(Ip);let r,s,i,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],s=0;s<n.length;s++)i=n[s],o=o.replace(i,Ip[i]);i=parseInt(Fp[a],16),t[o]=[i>>16&255,i>>8&255,i&255]}return t}let Ga;function lP(t){Ga||(Ga=oP(),Ga.transparent=[0,0,0,0]);const e=Ga[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const cP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function uP(t){const e=cP.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?li(a):On(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?li(r):On(r,0,255)),s=255&(e[4]?li(s):On(s,0,255)),i=255&(e[6]?li(i):On(i,0,255)),{r,g:s,b:i,a:n}}}function dP(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Zt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Mc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Br=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function hP(t,e,n){const r=Br(Zt(t.r)),s=Br(Zt(t.g)),i=Br(Zt(t.b));return{r:Hn(Mc(r+n*(Br(Zt(e.r))-r))),g:Hn(Mc(s+n*(Br(Zt(e.g))-s))),b:Hn(Mc(i+n*(Br(Zt(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Xa(t,e,n){if(t){let r=Ph(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Ch(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function cv(t,e){return t&&Object.assign(e||{},t)}function zp(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Hn(t[3]))):(e=cv(t,{r:0,g:0,b:0,a:1}),e.a=Hn(e.a)),e}function fP(t){return t.charAt(0)==="r"?uP(t):sP(t)}class na{constructor(e){if(e instanceof na)return e;const n=typeof e;let r;n==="object"?r=zp(e):n==="string"&&(r=Gj(e)||lP(e)||fP(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=cv(this._rgb);return e&&(e.a=Zt(e.a)),e}set rgb(e){this._rgb=zp(e)}rgbString(){return this._valid?dP(this._rgb):void 0}hexString(){return this._valid?Qj(this._rgb):void 0}hslString(){return this._valid?aP(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,o=2*a-1,l=r.a-s.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=hP(this._rgb,e._rgb,n)),this}clone(){return new na(this.rgb)}alpha(e){return this._rgb.a=Hn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ba(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Xa(this._rgb,2,e),this}darken(e){return Xa(this._rgb,2,-e),this}saturate(e){return Xa(this._rgb,1,e),this}desaturate(e){return Xa(this._rgb,1,-e),this}rotate(e){return iP(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Yt(){}const pP=(()=>{let t=0;return()=>t++})();function Q(t){return t==null}function je(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function X(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function bt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Rt(t,e){return bt(t)?t:e}function V(t,e){return typeof t>"u"?e:t}const mP=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,uv=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ae(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Z(t,e,n,r){let s,i,a;if(je(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(X(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function ll(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function cl(t){if(je(t))return t.map(cl);if(X(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=cl(t[n[s]]);return e}return t}function dv(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function gP(t,e,n,r){if(!dv(t))return;const s=e[t],i=n[t];X(s)&&X(i)?ra(s,i,r):e[t]=cl(i)}function ra(t,e,n){const r=je(e)?e:[e],s=r.length;if(!X(t))return t;n=n||{};const i=n.merger||gP;let a;for(let o=0;o<s;++o){if(a=r[o],!X(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)i(l[c],t,a,n)}return t}function Ni(t,e){return ra(t,e,{merger:yP})}function yP(t,e,n){if(!dv(t))return;const r=e[t],s=n[t];X(r)&&X(s)?Ni(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=cl(s))}const Up={"":t=>t,x:t=>t.x,y:t=>t.y};function vP(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function xP(t){const e=vP(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Cr(t,e){return(Up[e]||(Up[e]=xP(e)))(t)}function Nh(t){return t.charAt(0).toUpperCase()+t.slice(1)}const sa=t=>typeof t<"u",Yn=t=>typeof t=="function",Bp=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function bP(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ye=Math.PI,ge=2*ye,wP=ge+ye,ul=Number.POSITIVE_INFINITY,_P=ye/180,Ee=ye/2,tr=ye/4,Wp=ye*2/3,hv=Math.log10,Ht=Math.sign;function Ti(t,e,n){return Math.abs(t-e)<n}function Hp(t){const e=Math.round(t);t=Ti(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(hv(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function kP(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function SP(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ia(t){return!SP(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function jP(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function PP(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function nn(t){return t*(ye/180)}function EP(t){return t*(180/ye)}function Vp(t){if(!bt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function fv(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*ye&&(i+=ge),{angle:i,distance:s}}function nd(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function CP(t,e){return(t-e+wP)%ge-ye}function bn(t){return(t%ge+ge)%ge}function aa(t,e,n,r){const s=bn(t),i=bn(e),a=bn(n),o=bn(i-s),l=bn(a-s),c=bn(s-i),u=bn(s-a);return s===i||s===a||r&&i===a||o>l&&c<u}function Ie(t,e,n){return Math.max(e,Math.min(n,t))}function NP(t){return Ie(t,-32768,32767)}function Mn(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Th(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const mr=(t,e,n,r)=>Th(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),TP=(t,e,n)=>Th(t,n,r=>t[r][e]>=n);function OP(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const pv=["push","pop","shift","splice","unshift"];function MP(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),pv.forEach(n=>{const r="_onData"+Nh(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...i)}),a}})})}function qp(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(pv.forEach(i=>{delete t[i]}),delete t._chartjs)}function mv(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const gv=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function yv(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,gv.call(window,()=>{r=!1,t.apply(e,n)}))}}function DP(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Oh=t=>t==="start"?"left":t==="end"?"right":"center",Ae=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,LP=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function RP(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:d,max:f,minDefined:p,maxDefined:m}=a.getUserBounds();if(p){if(s=Math.min(mr(l,u,d).lo,n?r:mr(e,u,a.getPixelForValue(d)).lo),c){const y=l.slice(0,s+1).reverse().findIndex(x=>!Q(x[o.axis]));s-=Math.max(0,y)}s=Ie(s,0,r-1)}if(m){let y=Math.max(mr(l,a.axis,f,!0).hi+1,n?0:mr(e,u,a.getPixelForValue(f),!0).hi+1);if(c){const x=l.slice(y-1).findIndex(g=>!Q(g[o.axis]));y+=Math.max(0,x)}i=Ie(y,s,r)-s}else i=r-s}return{start:s,count:i}}function AP(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Qa=t=>t===0||t===1,Yp=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ge/n)),Kp=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ge/n)+1,Oi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ee)+1,easeOutSine:t=>Math.sin(t*Ee),easeInOutSine:t=>-.5*(Math.cos(ye*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Qa(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Qa(t)?t:Yp(t,.075,.3),easeOutElastic:t=>Qa(t)?t:Kp(t,.075,.3),easeInOutElastic(t){return Qa(t)?t:t<.5?.5*Yp(t*2,.1125,.45):.5+.5*Kp(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Oi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Oi.easeInBounce(t*2)*.5:Oi.easeOutBounce(t*2-1)*.5+.5};function Mh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Gp(t){return Mh(t)?t:new na(t)}function Dc(t){return Mh(t)?t:new na(t).saturate(.5).darken(.1).hexString()}const $P=["x","y","borderWidth","radius","tension"],IP=["color","borderColor","backgroundColor"];function FP(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:IP},numbers:{type:"number",properties:$P}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function zP(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Xp=new Map;function UP(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Xp.get(n);return r||(r=new Intl.NumberFormat(t,e),Xp.set(n,r)),r}function Dh(t,e,n){return UP(e,n).format(t)}const BP={values(t){return je(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=WP(t,n)}const a=hv(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Dh(t,r,l)}};function WP(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var vv={formatters:BP};function HP(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:vv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Nr=Object.create(null),rd=Object.create(null);function Mi(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function Lc(t,e,n){return typeof e=="string"?ra(Mi(t,e),n):ra(Mi(t,""),e)}class VP{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Dc(s.backgroundColor),this.hoverBorderColor=(r,s)=>Dc(s.borderColor),this.hoverColor=(r,s)=>Dc(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Lc(this,e,n)}get(e){return Mi(this,e)}describe(e,n){return Lc(rd,e,n)}override(e,n){return Lc(Nr,e,n)}route(e,n,r,s){const i=Mi(this,e),a=Mi(this,r),o="_"+n;Object.defineProperties(i,{[o]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[s];return X(l)?Object.assign({},c,l):V(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var we=new VP({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[FP,zP,HP]);function qP(t){return!t||Q(t.size)||Q(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Qp(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function nr(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Jp(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function sd(t,e,n,r){xv(t,e,n,r,null)}function xv(t,e,n,r,s){let i,a,o,l,c,u,d,f;const p=e.pointStyle,m=e.rotation,y=e.radius;let x=(m||0)*_P;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(x),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),p){default:s?t.ellipse(n,r,s/2,y,0,0,ge):t.arc(n,r,y,0,ge),t.closePath();break;case"triangle":u=s?s/2:y,t.moveTo(n+Math.sin(x)*u,r-Math.cos(x)*y),x+=Wp,t.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*y),x+=Wp,t.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*y),t.closePath();break;case"rectRounded":c=y*.516,l=y-c,a=Math.cos(x+tr)*l,d=Math.cos(x+tr)*(s?s/2-c:l),o=Math.sin(x+tr)*l,f=Math.sin(x+tr)*(s?s/2-c:l),t.arc(n-d,r-o,c,x-ye,x-Ee),t.arc(n+f,r-a,c,x-Ee,x),t.arc(n+d,r+o,c,x,x+Ee),t.arc(n-f,r+a,c,x+Ee,x+ye),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*y,u=s?s/2:l,t.rect(n-u,r-l,2*u,2*l);break}x+=tr;case"rectRot":d=Math.cos(x)*(s?s/2:y),a=Math.cos(x)*y,o=Math.sin(x)*y,f=Math.sin(x)*(s?s/2:y),t.moveTo(n-d,r-o),t.lineTo(n+f,r-a),t.lineTo(n+d,r+o),t.lineTo(n-f,r+a),t.closePath();break;case"crossRot":x+=tr;case"cross":d=Math.cos(x)*(s?s/2:y),a=Math.cos(x)*y,o=Math.sin(x)*y,f=Math.sin(x)*(s?s/2:y),t.moveTo(n-d,r-o),t.lineTo(n+d,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"star":d=Math.cos(x)*(s?s/2:y),a=Math.cos(x)*y,o=Math.sin(x)*y,f=Math.sin(x)*(s?s/2:y),t.moveTo(n-d,r-o),t.lineTo(n+d,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a),x+=tr,d=Math.cos(x)*(s?s/2:y),a=Math.cos(x)*y,o=Math.sin(x)*y,f=Math.sin(x)*(s?s/2:y),t.moveTo(n-d,r-o),t.lineTo(n+d,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"line":a=s?s/2:Math.cos(x)*y,o=Math.sin(x)*y,t.moveTo(n-a,r-o),t.lineTo(n+a,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(x)*(s?s/2:y),r+Math.sin(x)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function oa(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Lh(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Rh(t){t.restore()}function YP(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function KP(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function GP(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Q(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function XP(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function QP(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function la(t,e,n,r,s,i={}){const a=je(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,GP(t,i),l=0;l<a.length;++l)c=a[l],i.backdrop&&QP(t,i.backdrop),o&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Q(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,r,i.maxWidth)),t.fillText(c,n,r,i.maxWidth),XP(t,n,r,c,i),r+=Number(s.lineHeight);t.restore()}function dl(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*ye,ye,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,ye,Ee,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,Ee,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-Ee,!0),t.lineTo(n+a.topLeft,r)}const JP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ZP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function eE(t,e){const n=(""+t).match(JP);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const tE=t=>+t||0;function Ah(t,e){const n={},r=X(e),s=r?Object.keys(e):e,i=X(t)?r?a=>V(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=tE(i(a));return n}function bv(t){return Ah(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ps(t){return Ah(t,["topLeft","topRight","bottomLeft","bottomRight"])}function wt(t){const e=bv(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Fe(t,e){t=t||{},e=e||we.font;let n=V(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=V(t.style,e.style);r&&!(""+r).match(ZP)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:V(t.family,e.family),lineHeight:eE(V(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:V(t.weight,e.weight),string:""};return s.string=qP(s),s}function Ja(t,e,n,r){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function nE(t,e,n){const{min:r,max:s}=t,i=uv(e,(s-r)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function Ar(t,e){return Object.assign(Object.create(t),e)}function $h(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=Sv("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:o=>$h([o,...t],e,i,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return _v(o,l,()=>uE(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return em(o).includes(l)},ownKeys(o){return em(o)},set(o,l,c){const u=o._storage||(o._storage=s());return o[l]=u[l]=c,delete o._keys,!0}})}function Es(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:wv(t,r),setContext:i=>Es(t,i,n,r),override:i=>Es(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,o){return _v(i,a,()=>sE(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,o){return t[a]=o,delete i[a],!0}})}function wv(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Yn(n)?n:()=>n,isIndexable:Yn(r)?r:()=>r}}const rE=(t,e)=>t?t+Nh(e):e,Ih=(t,e)=>X(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _v(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function sE(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let o=r[e];return Yn(o)&&a.isScriptable(e)&&(o=iE(e,o,t,n)),je(o)&&o.length&&(o=aE(e,o,t,a.isIndexable)),Ih(e,o)&&(o=Es(o,s,i&&i[e],a)),o}function iE(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(i,a||r);return o.delete(t),Ih(t,l)&&(l=Fh(s._scopes,s,t,l)),l}function aE(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(X(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Fh(c,s,t,u);e.push(Es(d,i,a&&a[t],o))}}return e}function kv(t,e,n){return Yn(t)?t(e,n):t}const oE=(t,e)=>t===!0?e:typeof t=="string"?Cr(e,t):void 0;function lE(t,e,n,r,s){for(const i of e){const a=oE(n,i);if(a){t.add(a);const o=kv(a._fallback,n,s);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function Fh(t,e,n,r){const s=e._rootScopes,i=kv(e._fallback,n,r),a=[...t,...s],o=new Set;o.add(r);let l=Zp(o,a,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=Zp(o,a,i,l,r),l===null)?!1:$h(Array.from(o),[""],s,i,()=>cE(e,n,r))}function Zp(t,e,n,r,s){for(;n;)n=lE(t,e,n,r,s);return n}function cE(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return je(s)&&X(n)?n:s||{}}function uE(t,e,n,r){let s;for(const i of e)if(s=Sv(rE(i,t),n),typeof s<"u")return Ih(t,s)?Fh(n,r,t,s):s}function Sv(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function em(t){let e=t._keys;return e||(e=t._keys=dE(t._scopes)),e}function dE(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const hE=Number.EPSILON||1e-14,Cs=(t,e)=>e<t.length&&!t[e].skip&&t[e],jv=t=>t==="x"?"y":"x";function fE(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,o=nd(i,s),l=nd(a,i);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,f=r*u;return{previous:{x:i.x-d*(a.x-s.x),y:i.y-d*(a.y-s.y)},next:{x:i.x+f*(a.x-s.x),y:i.y+f*(a.y-s.y)}}}function pE(t,e,n){const r=t.length;let s,i,a,o,l,c=Cs(t,0);for(let u=0;u<r-1;++u)if(l=c,c=Cs(t,u+1),!(!l||!c)){if(Ti(e[u],0,hE)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],i=n[u+1]/e[u],o=Math.pow(s,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),n[u]=s*a*e[u],n[u+1]=i*a*e[u])}}function mE(t,e,n="x"){const r=jv(n),s=t.length;let i,a,o,l=Cs(t,0);for(let c=0;c<s;++c){if(a=o,o=l,l=Cs(t,c+1),!o)continue;const u=o[n],d=o[r];a&&(i=(u-a[n])/3,o[`cp1${n}`]=u-i,o[`cp1${r}`]=d-i*e[c]),l&&(i=(l[n]-u)/3,o[`cp2${n}`]=u+i,o[`cp2${r}`]=d+i*e[c])}}function gE(t,e="x"){const n=jv(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,o,l,c=Cs(t,0);for(a=0;a<r;++a)if(o=l,l=c,c=Cs(t,a+1),!!l){if(c){const u=c[e]-l[e];s[a]=u!==0?(c[n]-l[n])/u:0}i[a]=o?c?Ht(s[a-1])!==Ht(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}pE(t,s,i),mE(t,i,e)}function Za(t,e,n){return Math.max(Math.min(t,n),e)}function yE(t,e){let n,r,s,i,a,o=oa(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=o,o=n<r-1&&oa(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=Za(s.cp1x,e.left,e.right),s.cp1y=Za(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=Za(s.cp2x,e.left,e.right),s.cp2y=Za(s.cp2y,e.top,e.bottom)))}function vE(t,e,n,r,s){let i,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")gE(t,s);else{let c=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)o=t[i],l=fE(c,o,t[Math.min(i+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&yE(t,n)}function zh(){return typeof window<"u"&&typeof document<"u"}function Uh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function hl(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Vl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function xE(t,e){return Vl(t).getPropertyValue(e)}const bE=["top","right","bottom","left"];function xr(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=bE[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const wE=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function _E(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,o,l;if(wE(s,i,t.target))o=s,l=i;else{const c=e.getBoundingClientRect();o=r.clientX-c.left,l=r.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function lr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Vl(n),i=s.boxSizing==="border-box",a=xr(s,"padding"),o=xr(s,"border","width"),{x:l,y:c,box:u}=_E(t,n),d=a.left+(u&&o.left),f=a.top+(u&&o.top);let{width:p,height:m}=e;return i&&(p-=a.width+o.width,m-=a.height+o.height),{x:Math.round((l-d)/p*n.width/r),y:Math.round((c-f)/m*n.height/r)}}function kE(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&Uh(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),o=Vl(i),l=xr(o,"border","width"),c=xr(o,"padding");e=a.width-c.width-l.width,n=a.height-c.height-l.height,r=hl(o.maxWidth,i,"clientWidth"),s=hl(o.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||ul,maxHeight:s||ul}}const eo=t=>Math.round(t*10)/10;function SE(t,e,n,r){const s=Vl(t),i=xr(s,"margin"),a=hl(s.maxWidth,t,"clientWidth")||ul,o=hl(s.maxHeight,t,"clientHeight")||ul,l=kE(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=xr(s,"border","width"),p=xr(s,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,r?c/r:u-i.height),c=eo(Math.min(c,a,l.maxWidth)),u=eo(Math.min(u,o,l.maxHeight)),c&&!u&&(u=eo(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=eo(Math.floor(u*r))),{width:c,height:u}}function tm(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const jE=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};zh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function nm(t,e){const n=xE(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function cr(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function PE(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function EE(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=cr(t,s,n),o=cr(s,i,n),l=cr(i,e,n),c=cr(a,o,n),u=cr(o,l,n);return cr(c,u,n)}const CE=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},NE=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ms(t,e,n){return t?CE(e,n):NE()}function Pv(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Ev(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Cv(t){return t==="angle"?{between:aa,compare:CP,normalize:bn}:{between:Mn,compare:(e,n)=>e-n,normalize:e=>e}}function rm({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function TE(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:o}=Cv(r),l=e.length;let{start:c,end:u,loop:d}=t,f,p;if(d){for(c+=l,u+=l,f=0,p=l;f<p&&a(o(e[c%l][r]),s,i);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function OE(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:o,between:l,normalize:c}=Cv(r),{start:u,end:d,loop:f,style:p}=TE(t,e,n),m=[];let y=!1,x=null,g,v,b;const _=()=>l(s,b,g)&&o(s,b)!==0,k=()=>o(i,g)===0||l(i,b,g),S=()=>y||_(),j=()=>!y||k();for(let P=u,O=u;P<=d;++P)v=e[P%a],!v.skip&&(g=c(v[r]),g!==b&&(y=l(g,s,i),x===null&&S()&&(x=o(g,s)===0?P:O),x!==null&&j()&&(m.push(rm({start:x,end:P,loop:f,count:a,style:p})),x=null),O=P,b=g));return x!==null&&m.push(rm({start:x,end:d,loop:f,count:a,style:p})),m}function ME(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=OE(r[s],t.points,e);i.length&&n.push(...i)}return n}function DE(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function LE(t,e,n,r){const s=t.length,i=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?o.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function RE(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:o}=DE(n,s,i,r);if(r===!0)return sm(t,[{start:a,end:o,loop:i}],n,e);const l=o<a?o+s:o,c=!!t._fullLoop&&a===0&&o===s-1;return sm(t,LE(n,a,l,c),n,e)}function sm(t,e,n,r){return!r||!r.setContext||!n?e:AE(t,e,n,r)}function AE(t,e,n,r){const s=t._chart.getContext(),i=im(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,c=[];let u=i,d=e[0].start,f=d;function p(m,y,x,g){const v=o?-1:1;if(m!==y){for(m+=l;n[m%l].skip;)m-=v;for(;n[y%l].skip;)y+=v;m%l!==y%l&&(c.push({start:m%l,end:y%l,loop:x,style:g}),u=g,d=y%l)}}for(const m of e){d=o?d:m.start;let y=n[d%l],x;for(f=d+1;f<=m.end;f++){const g=n[f%l];x=im(r.setContext(Ar(s,{type:"segment",p0:y,p1:g,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:a}))),$E(x,u)&&p(d,f-1,m.loop,u),y=g,u=x}d<f-1&&p(d,f-1,m.loop,u)}return c}function im(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function $E(t,e){if(!e)return!1;const n=[],r=function(s,i){return Mh(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function to(t,e,n){return t.options.clip?t[n]:e[n]}function IE(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:to(n,e,"left"),right:to(n,e,"right"),top:to(r,e,"top"),bottom:to(r,e,"bottom")}:e}function FE(t,e){const n=e._clip;if(n.disabled)return!1;const r=IE(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class zE{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=gv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,o=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Kt=new zE;const am="transparent",UE={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Gp(t||am),s=r.valid&&Gp(e||am);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class BE{constructor(e,n,r,s){const i=n[r];s=Ja([e.to,s,i,e.from]);const a=Ja([e.from,i,s]);this._active=!0,this._fn=e.fn||UE[e.type||typeof a],this._easing=Oi[e.easing]||Oi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Ja([e.to,n,s,e.from]),this._from=Ja([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,o=this._to;let l;if(this._active=i!==o&&(a||n<r),!this._active){this._target[s]=o,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class Nv{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!X(e))return;const n=Object.keys(we.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!X(i))return;const a={};for(const o of n)a[o]=i[o];(je(i.properties)&&i.properties||[s]).forEach(o=>{(o===s||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,n){const r=n.options,s=HE(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&WE(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let d=i[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,o);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}i[c]=d=new BE(f,e,c,u),s.push(d)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Kt.add(this._chart,r),!0}}function WE(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function HE(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function om(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function VE(t,e,n){if(n===!1)return!1;const r=om(t,n),s=om(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function qE(t){let e,n,r,s;return X(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function Tv(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function lm(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,o,l,c;if(e===null)return;let u=!1;for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===n){if(u=!0,r.all)continue;break}c=t.values[l],bt(c)&&(i||e===0||Ht(e)===Ht(c))&&(e+=c)}return!u&&!r.all?0:e}function YE(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[s]:u,[i]:t[u]};return o}function Rc(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function KE(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function GE(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function XE(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function cm(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function um(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:o}=r,l=i.axis,c=a.axis,u=KE(i,a,r),d=e.length;let f;for(let p=0;p<d;++p){const m=e[p],{[l]:y,[c]:x}=m,g=m._stacks||(m._stacks={});f=g[c]=XE(s,u,y),f[o]=x,f._top=cm(f,a,!0,r.type),f._bottom=cm(f,a,!1,r.type);const v=f._visualValues||(f._visualValues={});v[o]=x}}function Ac(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function QE(t,e){return Ar(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function JE(t,e,n){return Ar(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Js(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const $c=t=>t==="reset"||t==="none",dm=(t,e)=>e?t:Object.assign({},t),ZE=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Tv(n,!0),values:null};class br{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Rc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Js(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(d,f,p,m)=>d==="x"?f:d==="r"?m:p,i=n.xAxisID=V(r.xAxisID,Ac(e,"x")),a=n.yAxisID=V(r.yAxisID,Ac(e,"y")),o=n.rAxisID=V(r.rAxisID,Ac(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,a,o),u=n.vAxisID=s(l,a,i,o);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&qp(this._data,this),e._stacked&&Js(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(X(n)){const s=this._cachedMeta;this._data=YE(n,s)}else if(r!==n){if(r){qp(r,this);const s=this._cachedMeta;Js(s),s._parsed=[]}n&&Object.isExtensible(n)&&MP(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Rc(n.vScale,n),n.stack!==r.stack&&(s=!0,Js(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(um(this,n._parsed),n._stacked=Rc(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,o=i.axis;let l=e===0&&n===s.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{je(s[e])?f=this.parseArrayData(r,s,e,n):X(s[e])?f=this.parseObjectData(r,s,e,n):f=this.parsePrimitiveData(r,s,e,n);const p=()=>d[o]===null||c&&d[o]<c[o];for(u=0;u<n;++u)r._parsed[u+e]=d=f[u],l&&(p()&&(l=!1),c=d);r._sorted=l}a&&um(this,f)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,o=i.axis,l=a.axis,c=i.getLabels(),u=i===a,d=new Array(s);let f,p,m;for(f=0,p=s;f<p;++f)m=f+r,d[f]={[o]:u||i.parse(c[m],m),[l]:a.parse(n[m],m)};return d}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,o=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+r,d=n[u],o[l]={x:i.parse(d[0],u),y:a.parse(d[1],u)};return o}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,f,p;for(u=0,d=s;u<d;++u)f=u+r,p=n[f],c[u]={x:i.parse(Cr(p,o),f),y:a.parse(Cr(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],o={keys:Tv(s,!0),values:n._stacks[e.axis]._visualValues};return lm(o,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const o=s&&r._stacks[n.axis];s&&o&&(s.values=o,a=lm(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,o=this._getOtherScale(e),l=ZE(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=GE(o);let f,p;function m(){p=s[f];const y=p[o.axis];return!bt(p[e.axis])||u>y||d<y}for(f=0;f<a&&!(!m()&&(this.updateRangeFromParsed(c,e,p,l),i));++f);if(i){for(f=a-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],bt(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=qE(V(this.options.clip,VE(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,i,o,l),u=o;u<o+l;++u){const d=s[u];d.hidden||(d.active&&c?a.push(d):d.draw(e,i))}for(u=0;u<a.length;++u)a[u].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=JE(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=QE(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,o=i[a],l=this.enableOptionSharing&&sa(r);if(o)return dm(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(we.elements[e]),m=()=>this.getContext(r,s,n),y=c.resolveNamedOptions(f,p,m,d);return y.$shared&&(y.$shared=l,i[a]=Object.freeze(dm(y,l))),y}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,o=i[a];if(o)return o;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,r,n))}const c=new Nv(s,l&&l.animations);return l&&l._cacheable&&(i[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||$c(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){$c(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!$c(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Js(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}A(br,"defaults",{}),A(br,"datasetElementType",null),A(br,"dataElementType",null);function eC(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=mv(r.sort((s,i)=>s-i))}return t._cache.$bar}function tC(t){const e=t.iScale,n=eC(e,t.type);let r=e._length,s,i,a,o;const l=()=>{a===32767||a===-32768||(sa(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(s=0,i=n.length;s<i;++s)a=e.getPixelForValue(n[s]),l();for(o=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),l();return r}function nC(t,e,n,r){const s=n.barThickness;let i,a;return Q(s)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=s*r,a=1),{chunk:i/r,ratio:a,start:e.pixels[t]-i/2}}function rC(t,e,n,r){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,o=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;a===null&&(a=i-(o===null?e.end-e.start:o-i)),o===null&&(o=i+i-a);const c=i-(i-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:c}}function sC(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),a=Math.min(s,i),o=Math.max(s,i);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:i,min:a,max:o}}function Ov(t,e,n,r){return je(t)?sC(t,e,n,r):e[n.axis]=n.parse(t,r),e}function hm(t,e,n,r){const s=t.iScale,i=t.vScale,a=s.getLabels(),o=s===i,l=[];let c,u,d,f;for(c=n,u=n+r;c<u;++c)f=e[c],d={},d[s.axis]=o||s.parse(a[c],c),l.push(Ov(f,d,i,c));return l}function Ic(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function iC(t,e,n){return t!==0?Ht(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function aC(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function oC(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:u}=aC(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=c:(n._bottom||0)===r?s=u:(i[fm(u,a,o,l)]=!0,s=c)),i[fm(s,a,o,l)]=!0,t.borderSkipped=i}function fm(t,e,n,r){return r?(t=lC(t,e,n),t=pm(t,n,e)):t=pm(t,e,n),t}function lC(t,e,n){return t===e?n:t===n?e:t}function pm(t,e,n){return t==="start"?e:t==="end"?n:t}function cC(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class ko extends br{parsePrimitiveData(e,n,r,s){return hm(e,n,r,s)}parseArrayData(e,n,r,s){return hm(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?o:l,u=a.axis==="x"?o:l,d=[];let f,p,m,y;for(f=r,p=r+s;f<p;++f)y=n[f],m={},m[i.axis]=i.parse(Cr(y,c),f),d.push(Ov(Cr(y,u),m,a,f));return d}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),a=i._custom,o=Ic(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s);for(let p=n;p<n+r;p++){const m=this.getParsed(p),y=i||Q(m[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),x=this._calculateBarIndexPixels(p,u),g=(m._stacks||{})[o.axis],v={horizontal:c,base:y.base,enableBorderRadius:!g||Ic(m._custom)||a===g._top||a===g._bottom,x:c?y.head:x.center,y:c?x.center:y.head,height:c?x.size:Math.abs(y.size),width:c?Math.abs(y.size):x.size};f&&(v.options=d||this.resolveDataElementOptions(p,e[p].active?"active":s));const b=v.options||e[p].options;oC(v,b,g,a),cC(v,b,u.ratio),this.updateElement(e[p],p,v,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[r.axis],c=u=>{const d=u._parsed.find(p=>p[r.axis]===l),f=d&&d[u.vScale.axis];if(Q(f)||isNaN(f))return!0};for(const u of s)if(!(n!==void 0&&c(u))&&((i===!1||a.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,a;for(i=0,a=n.data.length;i<a;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const o=e.barThickness;return{min:o||tC(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:a}}=this,o=i||0,l=this.getParsed(e),c=l._custom,u=Ic(c);let d=l[n.axis],f=0,p=r?this.applyStack(n,l,r):d,m,y;p!==d&&(f=p-d,p=d),u&&(d=c.barStart,p=c.barEnd-c.barStart,d!==0&&Ht(d)!==Ht(c.barEnd)&&(f=0),f+=d);const x=!Q(i)&&!u?i:f;let g=n.getPixelForValue(x);if(this.chart.getDataVisibility(e)?m=n.getPixelForValue(f+p):m=g,y=m-g,Math.abs(y)<a){y=iC(y,n,o)*a,d===o&&(g-=y/2);const v=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),_=Math.min(v,b),k=Math.max(v,b);g=Math.max(Math.min(g,k),_),m=g+y,r&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(m)-n.getValueForPixel(g))}if(g===n.getPixelForValue(o)){const v=Ht(y)*n.getLineWidthForValue(o)/2;g+=v,y-=v}return{size:y,base:g,head:m,center:m+y/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,a=V(s.maxBarThickness,1/0);let o,l;if(n.grouped){const c=i?this._getStackCount(e):n.stackCount,u=s.barThickness==="flex"?rC(e,n,s,c):nC(e,n,s,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);o=u.start+u.chunk*d+u.chunk/2,l=Math.min(a,u.chunk*u.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}A(ko,"id","bar"),A(ko,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),A(ko,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function uC(t,e,n){let r=1,s=1,i=0,a=0;if(e<ge){const o=t,l=o+e,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),f=Math.sin(l),p=(b,_,k)=>aa(b,o,l,!0)?1:Math.max(_,_*n,k,k*n),m=(b,_,k)=>aa(b,o,l,!0)?-1:Math.min(_,_*n,k,k*n),y=p(0,c,d),x=p(Ee,u,f),g=m(ye,c,d),v=m(ye+Ee,u,f);r=(y-g)/2,s=(x-v)/2,i=-(y+g)/2,a=-(x+v)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}class ci extends br{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if(X(r[e])){const{key:l="value"}=this._parsing;i=c=>+Cr(r[c],l)}let a,o;for(a=e,o=e+n;a<o;++a)s._parsed[a]=i(a)}}_getRotation(){return nn(this.options.rotation-90)}_getCircumference(){return nn(this.options.circumference)}_getRotationExtents(){let e=ge,n=-ge;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(mP(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:y}=uC(d,u,l),x=(r.width-a)/f,g=(r.height-a)/p,v=Math.max(Math.min(x,g)/2,0),b=uv(this.options.radius,v),_=Math.max(b*l,0),k=(b-_)/this._getVisibleDatasetWeightTotal();this.offsetX=m*b,this.offsetY=y*b,s.total=this.calculateTotal(),this.outerRadius=b-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/ge)}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,f=i&&c.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:y,includeOptions:x}=this._getSharedOptions(n,s);let g=this._getRotation(),v;for(v=0;v<n;++v)g+=this._circumference(v,i);for(v=n;v<n+r;++v){const b=this._circumference(v,i),_=e[v],k={x:u+this.offsetX,y:d+this.offsetY,startAngle:g,endAngle:g+b,circumference:b,outerRadius:m,innerRadius:p};x&&(k.options=y||this.resolveDataElementOptions(v,_.active?"active":s)),g+=b,this.updateElement(_,v,k,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ge*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=Dh(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,a,o,l;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,o=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)l=o.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(V(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}A(ci,"id","doughnut"),A(ci,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),A(ci,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),A(ci,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class So extends br{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=RP(n,s,a);this._drawStart=o,this._drawCount=l,AP(n)&&(o=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:c},e),this.updateElements(s,o,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,s),f=a.axis,p=o.axis,{spanGaps:m,segment:y}=this.options,x=ia(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||s==="none",v=n+r,b=e.length;let _=n>0&&this.getParsed(n-1);for(let k=0;k<b;++k){const S=e[k],j=g?S:{};if(k<n||k>=v){j.skip=!0;continue}const P=this.getParsed(k),O=Q(P[p]),E=j[f]=a.getPixelForValue(P[f],k),C=j[p]=i||O?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,P,l):P[p],k);j.skip=isNaN(E)||isNaN(C)||O,j.stop=k>0&&Math.abs(P[f]-_[f])>x,y&&(j.parsed=P,j.raw=c.data[k]),d&&(j.options=u||this.resolveDataElementOptions(k,S.active?"active":s)),g||this.updateElement(S,k,j,s),_=P}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}A(So,"id","line"),A(So,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),A(So,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function rr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Bh{constructor(e){A(this,"options");this.options=e||{}}static override(e){Object.assign(Bh.prototype,e)}init(){}formats(){return rr()}parse(){return rr()}format(){return rr()}add(){return rr()}diff(){return rr()}startOf(){return rr()}endOf(){return rr()}}var dC={_date:Bh};function hC(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,o=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&i.length){const c=o._reversePixels?TP:mr;if(r){if(s._sharedOptions){const u=i[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const f=c(i,e,n-d),p=c(i,e,n+d);return{lo:f.lo,hi:p.hi}}}}else{const u=c(i,e,n);if(l){const{vScale:d}=s._cachedMeta,{_parsed:f}=t,p=f.slice(0,u.lo+1).reverse().findIndex(y=>!Q(y[d.axis]));u.lo-=Math.max(0,p);const m=f.slice(u.hi).findIndex(y=>!Q(y[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:i.length-1}}function ql(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=i.length;o<l;++o){const{index:c,data:u}=i[o],{lo:d,hi:f}=hC(i[o],e,a,s);for(let p=d;p<=f;++p){const m=u[p];m.skip||r(m,c,p)}}}function fC(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Fc(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||ql(t,n,e,function(o,l,c){!s&&!oa(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&i.push({element:o,datasetIndex:l,index:c})},!0),i}function pC(t,e,n,r){let s=[];function i(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],r),{angle:d}=fv(a,{x:e.x,y:e.y});aa(d,c,u)&&s.push({element:a,datasetIndex:o,index:l})}return ql(t,n,e,i),s}function mC(t,e,n,r,s,i){let a=[];const o=fC(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const p=u.inRange(e.x,e.y,s);if(r&&!p)return;const m=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(m))&&!p)return;const x=o(e,m);x<l?(a=[{element:u,datasetIndex:d,index:f}],l=x):x===l&&a.push({element:u,datasetIndex:d,index:f})}return ql(t,n,e,c),a}function zc(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?pC(t,e,n,s):mC(t,e,n,r,s,i)}function mm(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return ql(t,n,e,(l,c,u)=>{l[a]&&l[a](e[n],s)&&(i.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,s))}),r&&!o?[]:i}var gC={modes:{index(t,e,n,r){const s=lr(e,t),i=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Fc(t,s,i,r,a):zc(t,s,i,!1,r,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const s=lr(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Fc(t,s,i,r,a):zc(t,s,i,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,n,r){const s=lr(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Fc(t,s,i,r,a)},nearest(t,e,n,r){const s=lr(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return zc(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=lr(e,t);return mm(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=lr(e,t);return mm(t,s,"y",n.intersect,r)}}};const Mv=["left","top","right","bottom"];function Zs(t,e){return t.filter(n=>n.pos===e)}function gm(t,e){return t.filter(n=>Mv.indexOf(n.pos)===-1&&n.box.axis===e)}function ei(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function yC(t){const e=[];let n,r,s,i,a,o;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:o=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:o});return e}function vC(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!Mv.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function xC(t,e){const n=vC(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,o;for(i=0,a=t.length;i<a;++i){o=t[i];const{fullSize:l}=o.box,c=n[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*r:l&&e.availableWidth,o.height=s):(o.width=r,o.height=u?u*s:l&&e.availableHeight)}return n}function bC(t){const e=yC(t),n=ei(e.filter(c=>c.box.fullSize),!0),r=ei(Zs(e,"left"),!0),s=ei(Zs(e,"right")),i=ei(Zs(e,"top"),!0),a=ei(Zs(e,"bottom")),o=gm(e,"x"),l=gm(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:Zs(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(a).concat(o)}}function ym(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Dv(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function wC(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!X(s)){n.size&&(t[s]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?i.height:i.width),n.size=d.size/d.count,t[s]+=n.size}i.getPadding&&Dv(a,i.getPadding());const o=Math.max(0,e.outerWidth-ym(a,t,"left","right")),l=Math.max(0,e.outerHeight-ym(a,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function _C(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function kC(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function ui(t,e,n,r){const s=[];let i,a,o,l,c,u;for(i=0,a=t.length,c=0;i<a;++i){o=t[i],l=o.box,l.update(o.width||e.w,o.height||e.h,kC(o.horizontal,e));const{same:d,other:f}=wC(e,n,o,r);c|=d&&s.length,u=u||f,l.fullSize||s.push(o)}return c&&ui(s,e,n,r)||u}function no(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function vm(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const o of t){const l=o.box,c=r[o.stack]||{placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*u,f=c.size||l.height;sa(c.start)&&(a=c.start),l.fullSize?no(l,s.left,a,n.outerWidth-s.right-s.left,f):no(l,e.left+c.placed,a,d,f),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*u,f=c.size||l.width;sa(c.start)&&(i=c.start),l.fullSize?no(l,i,s.top,f,n.outerHeight-s.bottom-s.top):no(l,i,e.top+c.placed,f,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=a}var mt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=wt(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),o=bC(t.boxes),l=o.vertical,c=o.horizontal;Z(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,x)=>x.box.options&&x.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/u,hBoxMaxHeight:a/2}),f=Object.assign({},s);Dv(f,wt(r));const p=Object.assign({maxPadding:f,w:i,h:a,x:s.left,y:s.top},s),m=xC(l.concat(c),d);ui(o.fullSize,p,d,m),ui(l,p,d,m),ui(c,p,d,m)&&ui(l,p,d,m),_C(p),vm(o.leftAndTop,p,d,m),p.x+=p.w,p.y+=p.h,vm(o.rightAndBottom,p,d,m),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Z(o.chartArea,y=>{const x=y.box;Object.assign(x,t.chartArea),x.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Lv{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class SC extends Lv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const jo="$chartjs",jC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xm=t=>t===null||t==="";function PC(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[jo]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",xm(s)){const i=nm(t,"width");i!==void 0&&(t.width=i)}if(xm(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=nm(t,"height");i!==void 0&&(t.height=i)}return t}const Rv=jE?{passive:!0}:!1;function EC(t,e,n){t&&t.addEventListener(e,n,Rv)}function CC(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Rv)}function NC(t,e){const n=jC[t.type]||t.type,{x:r,y:s}=lr(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function fl(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function TC(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||fl(o.addedNodes,r),a=a&&!fl(o.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function OC(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||fl(o.removedNodes,r),a=a&&!fl(o.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ca=new Map;let bm=0;function Av(){const t=window.devicePixelRatio;t!==bm&&(bm=t,ca.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function MC(t,e){ca.size||window.addEventListener("resize",Av),ca.set(t,e)}function DC(t){ca.delete(t),ca.size||window.removeEventListener("resize",Av)}function LC(t,e,n){const r=t.canvas,s=r&&Uh(r);if(!s)return;const i=yv((o,l)=>{const c=s.clientWidth;n(o,l),c<s.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return a.observe(s),MC(t,i),a}function Uc(t,e,n){n&&n.disconnect(),e==="resize"&&DC(t)}function RC(t,e,n){const r=t.canvas,s=yv(i=>{t.ctx!==null&&n(NC(i,t))},t);return EC(r,e,s),s}class AC extends Lv{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(PC(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[jo])return!1;const r=n[jo].initial;["height","width"].forEach(i=>{const a=r[i];Q(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[jo],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:TC,detach:OC,resize:LC}[n]||RC;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Uc,detach:Uc,resize:Uc}[n]||CC)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return SE(e,n,r,s)}isAttached(e){const n=e&&Uh(e);return!!(n&&n.isConnected)}}function $C(t){return!zh()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?SC:AC}class Dt{constructor(){A(this,"x");A(this,"y");A(this,"active",!1);A(this,"options");A(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return ia(this.x)&&ia(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}A(Dt,"defaults",{}),A(Dt,"defaultRoutes");function IC(t,e){const n=t.options.ticks,r=FC(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?UC(e):[],a=i.length,o=i[0],l=i[a-1],c=[];if(a>s)return BC(e,c,i,a/s),c;const u=zC(i,e,s);if(a>0){let d,f;const p=a>1?Math.round((l-o)/(a-1)):null;for(ro(e,c,u,Q(p)?0:o-p,o),d=0,f=a-1;d<f;d++)ro(e,c,u,i[d],i[d+1]);return ro(e,c,u,l,Q(p)?e.length:l+p),c}return ro(e,c,u),c}function FC(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function zC(t,e,n){const r=WC(t),s=e.length/n;if(!r)return Math.max(s,1);const i=kP(r);for(let a=0,o=i.length-1;a<o;a++){const l=i[a];if(l>s)return l}return Math.max(s,1)}function UC(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function BC(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function ro(t,e,n,r,s){const i=V(r,0),a=Math.min(V(s,t.length),t.length);let o=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),u=i;u<0;)o++,u=Math.round(i+o*n);for(c=Math.max(i,0);c<a;c++)c===u&&(e.push(t[c]),o++,u=Math.round(i+o*n))}function WC(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const HC=t=>t==="left"?"right":t==="right"?"left":t,wm=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,_m=(t,e)=>Math.min(e||t,t);function km(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function VC(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-o||l>a+o)))return l}function qC(t,e){Z(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function ti(t){return t.drawTicks?t.tickLength:0}function Sm(t,e){if(!t.display)return 0;const n=Fe(t.font,e),r=wt(t.padding);return(je(t.text)?t.text.length:1)*n.lineHeight+r.height}function YC(t,e){return Ar(t,{scale:e,type:"scale"})}function KC(t,e,n){return Ar(t,{tick:n,index:e,type:"tick"})}function GC(t,e,n){let r=Oh(t);return(n&&e!=="right"||!n&&e==="right")&&(r=HC(r)),r}function XC(t,e,n,r){const{top:s,left:i,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,p,m;const y=a-s,x=o-i;if(t.isHorizontal()){if(p=Ae(r,i,o),X(n)){const g=Object.keys(n)[0],v=n[g];m=u[g].getPixelForValue(v)+y-e}else n==="center"?m=(c.bottom+c.top)/2+y-e:m=wm(t,n,e);f=o-i}else{if(X(n)){const g=Object.keys(n)[0],v=n[g];p=u[g].getPixelForValue(v)-x+e}else n==="center"?p=(c.left+c.right)/2-x+e:p=wm(t,n,e);m=Ae(r,a,s),d=n==="left"?-Ee:Ee}return{titleX:p,titleY:m,maxWidth:f,rotation:d}}class Is extends Dt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Rt(e,Number.POSITIVE_INFINITY),n=Rt(n,Number.NEGATIVE_INFINITY),r=Rt(r,Number.POSITIVE_INFINITY),s=Rt(s,Number.NEGATIVE_INFINITY),{min:Rt(e,r),max:Rt(n,s),minDefined:bt(e),maxDefined:bt(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Rt(n,Rt(r,n)),max:Rt(r,Rt(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ae(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=nE(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?km(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=IC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ae(this.options.afterUpdate,[this])}beforeSetDimensions(){ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ae(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ae(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=ae(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=_m(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,o,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,p=Ie(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/r:p/(r-1),d+6>o&&(o=p/(r-(e.offset?.5:1)),l=this.maxHeight-ti(e.grid)-n.padding-Sm(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),a=EP(Math.min(Math.asin(Ie((u.highest.height+6)/o,-1,1)),Math.asin(Ie(l/c,-1,1))-Math.asin(Ie(f/c,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ae(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=Sm(s,n.options.font);if(o?(e.width=this.maxWidth,e.height=ti(i)+l):(e.height=this.maxHeight,e.width=ti(i)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),p=r.padding*2,m=nn(this.labelRotation),y=Math.cos(m),x=Math.sin(m);if(o){const g=r.mirror?0:x*d.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+g+p)}else{const g=r.mirror?0:y*d.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+g+p)}this._calculatePadding(c,u,x,y)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=s*e.width,p=r*n.height):(f=r*e.height,p=s*n.width):i==="start"?p=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+a)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=n.height,d=0),this.paddingTop=u+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ae(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Q(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=km(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],o=[],l=Math.floor(n/_m(n,r));let c=0,u=0,d,f,p,m,y,x,g,v,b,_,k;for(d=0;d<n;d+=l){if(m=e[d].label,y=this._resolveTickFontOptions(d),s.font=x=y.string,g=i[x]=i[x]||{data:{},gc:[]},v=y.lineHeight,b=_=0,!Q(m)&&!je(m))b=Qp(s,g.data,g.gc,b,m),_=v;else if(je(m))for(f=0,p=m.length;f<p;++f)k=m[f],!Q(k)&&!je(k)&&(b=Qp(s,g.data,g.gc,b,k),_+=v);a.push(b),o.push(_),c=Math.max(b,c),u=Math.max(_,u)}qC(i,n);const S=a.indexOf(c),j=o.indexOf(u),P=O=>({width:a[O]||0,height:o[O]||0});return{first:P(0),last:P(n-1),widest:P(S),highest:P(j),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return NP(this._alignToPixels?nr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=KC(this.getContext(),e,r))}return this.$context||(this.$context=YC(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=nn(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*r>o*s?o/r:l/s:l*s<o*r?l/r:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:o}=s,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=ti(i),p=[],m=o.setContext(this.getContext()),y=m.display?m.width:0,x=y/2,g=function(z){return nr(r,z,y)};let v,b,_,k,S,j,P,O,E,C,L,H;if(a==="top")v=g(this.bottom),j=this.bottom-f,O=v-x,C=g(e.top)+x,H=e.bottom;else if(a==="bottom")v=g(this.top),C=e.top,H=g(e.bottom)-x,j=v+x,O=this.top+f;else if(a==="left")v=g(this.right),S=this.right-f,P=v-x,E=g(e.left)+x,L=e.right;else if(a==="right")v=g(this.left),E=e.left,L=g(e.right)-x,S=v+x,P=this.left+f;else if(n==="x"){if(a==="center")v=g((e.top+e.bottom)/2+.5);else if(X(a)){const z=Object.keys(a)[0],U=a[z];v=g(this.chart.scales[z].getPixelForValue(U))}C=e.top,H=e.bottom,j=v+x,O=j+f}else if(n==="y"){if(a==="center")v=g((e.left+e.right)/2);else if(X(a)){const z=Object.keys(a)[0],U=a[z];v=g(this.chart.scales[z].getPixelForValue(U))}S=v-x,P=S-f,E=e.left,L=e.right}const te=V(s.ticks.maxTicksLimit,d),F=Math.max(1,Math.ceil(d/te));for(b=0;b<d;b+=F){const z=this.getContext(b),U=i.setContext(z),M=o.setContext(z),R=U.lineWidth,T=U.color,$=M.dash||[],B=M.dashOffset,le=U.tickWidth,pe=U.tickColor,_t=U.tickBorderDash||[],Ue=U.tickBorderDashOffset;_=VC(this,b,l),_!==void 0&&(k=nr(r,_,R),c?S=P=E=L=k:j=O=C=H=k,p.push({tx1:S,ty1:j,tx2:P,ty2:O,x1:E,y1:C,x2:L,y2:H,width:R,color:T,borderDash:$,borderDashOffset:B,tickWidth:le,tickColor:pe,tickBorderDash:_t,tickBorderDashOffset:Ue}))}return this._ticksLength=d,this._borderValue=v,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,f=ti(r.grid),p=f+u,m=d?-u:p,y=-nn(this.labelRotation),x=[];let g,v,b,_,k,S,j,P,O,E,C,L,H="middle";if(s==="top")S=this.bottom-m,j=this._getXAxisLabelAlignment();else if(s==="bottom")S=this.top+m,j=this._getXAxisLabelAlignment();else if(s==="left"){const F=this._getYAxisLabelAlignment(f);j=F.textAlign,k=F.x}else if(s==="right"){const F=this._getYAxisLabelAlignment(f);j=F.textAlign,k=F.x}else if(n==="x"){if(s==="center")S=(e.top+e.bottom)/2+p;else if(X(s)){const F=Object.keys(s)[0],z=s[F];S=this.chart.scales[F].getPixelForValue(z)+p}j=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")k=(e.left+e.right)/2-p;else if(X(s)){const F=Object.keys(s)[0],z=s[F];k=this.chart.scales[F].getPixelForValue(z)}j=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?H="top":l==="end"&&(H="bottom"));const te=this._getLabelSizes();for(g=0,v=o.length;g<v;++g){b=o[g],_=b.label;const F=i.setContext(this.getContext(g));P=this.getPixelForTick(g)+i.labelOffset,O=this._resolveTickFontOptions(g),E=O.lineHeight,C=je(_)?_.length:1;const z=C/2,U=F.color,M=F.textStrokeColor,R=F.textStrokeWidth;let T=j;a?(k=P,j==="inner"&&(g===v-1?T=this.options.reverse?"left":"right":g===0?T=this.options.reverse?"right":"left":T="center"),s==="top"?c==="near"||y!==0?L=-C*E+E/2:c==="center"?L=-te.highest.height/2-z*E+E:L=-te.highest.height+E/2:c==="near"||y!==0?L=E/2:c==="center"?L=te.highest.height/2-z*E:L=te.highest.height-C*E,d&&(L*=-1),y!==0&&!F.showLabelBackdrop&&(k+=E/2*Math.sin(y))):(S=P,L=(1-C)*E/2);let $;if(F.showLabelBackdrop){const B=wt(F.backdropPadding),le=te.heights[g],pe=te.widths[g];let _t=L-B.top,Ue=0-B.left;switch(H){case"middle":_t-=le/2;break;case"bottom":_t-=le;break}switch(j){case"center":Ue-=pe/2;break;case"right":Ue-=pe;break;case"inner":g===v-1?Ue-=pe:g>0&&(Ue-=pe/2);break}$={left:Ue,top:_t,width:pe+B.width,height:le+B.height,color:F.backdropColor}}x.push({label:_,font:O,textOffset:L,options:{rotation:y,color:U,strokeColor:M,strokeWidth:R,textAlign:T,textBaseline:H,translation:[k,S],backdrop:$}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-nn(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),o=e+i,l=a.widest.width;let c,u;return n==="left"?s?(u=this.right+i,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+i,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const l=s[i];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=nr(e,this.left,a)-a/2,u=nr(e,this.right,o)+o/2,d=f=l):(d=nr(e,this.top,a)-a/2,f=nr(e,this.bottom,o)+o/2,c=u=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Lh(r,s);const i=this.getLabelItems(e);for(const a of i){const o=a.options,l=a.font,c=a.label,u=a.textOffset;la(r,c,0,u,l,o)}s&&Rh(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Fe(r.font),a=wt(r.padding),o=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||X(n)?(l+=a.bottom,je(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=XC(this,l,n,o);la(e,r.text,0,0,i,{color:r.color,maxWidth:d,rotation:f,textAlign:GC(o,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=V(e.grid&&e.grid.z,-1),s=V(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Is.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const o=n[i];o[r]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Fe(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class so{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;ZC(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,QC(e,a,r),this.override&&we.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in we[s]&&(delete we[s][r],this.override&&delete Nr[r])}}function QC(t,e,n){const r=ra(Object.create(null),[n?we.get(n):{},we.get(e),t.defaults]);we.set(e,r),t.defaultRoutes&&JC(e,t.defaultRoutes),t.descriptors&&we.describe(e,t.descriptors)}function JC(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");we.route(i,s,l,o)})}function ZC(t){return"id"in t&&"defaults"in t}class eN{constructor(){this.controllers=new so(br,"datasets",!0),this.elements=new so(Dt,"elements"),this.plugins=new so(Object,"plugins"),this.scales=new so(Is,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Z(s,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,r){const s=Nh(e);ae(r["before"+s],[],r),n[e](r),ae(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Ft=new eN;class tN{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,o=a[r],l=[n,s,i.options];if(ae(o,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Q(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=V(r.options&&r.options.plugins,{}),i=nN(r);return s===!1&&!n?[]:sN(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function nN(t){const e={},n=[],r=Object.keys(Ft.plugins.items);for(let i=0;i<r.length;i++)n.push(Ft.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function rN(t,e){return!e&&t===!1?null:t===!0?{}:t}function sN(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const o of e){const l=o.id,c=rN(r[l],s);c!==null&&i.push({plugin:o,options:iN(t.config,{plugin:o,local:n[l]},c,a)})}return i}function iN(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function id(t,e){const n=we.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function aN(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function oN(t,e){return t===e?"_index_":"_value_"}function jm(t){if(t==="x"||t==="y"||t==="r")return t}function lN(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ad(t,...e){if(jm(t))return t;for(const n of e){const r=n.axis||lN(n.position)||t.length>1&&jm(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Pm(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function cN(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Pm(t,"x",n[0])||Pm(t,"y",n[0])}return{}}function uN(t,e){const n=Nr[t.type]||{scales:{}},r=e.scales||{},s=id(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!X(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=ad(a,o,cN(a,t),we.scales[o.type]),c=oN(l,s),u=n.scales||{};i[a]=Ni(Object.create(null),[{axis:l},o,u[l],u[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||id(o,e),u=(Nr[o]||{}).scales||{};Object.keys(u).forEach(d=>{const f=aN(d,l),p=a[f+"AxisID"]||f;i[p]=i[p]||Object.create(null),Ni(i[p],[{axis:f},r[p],u[d]])})}),Object.keys(i).forEach(a=>{const o=i[a];Ni(o,[we.scales[o.type],we.scale])}),i}function $v(t){const e=t.options||(t.options={});e.plugins=V(e.plugins,{}),e.scales=uN(t,e)}function Iv(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function dN(t){return t=t||{},t.data=Iv(t.data),$v(t),t}const Em=new Map,Fv=new Set;function io(t,e){let n=Em.get(t);return n||(n=e(),Em.set(t,n),Fv.add(n)),n}const ni=(t,e,n)=>{const r=Cr(e,n);r!==void 0&&t.add(r)};class hN{constructor(e){this._config=dN(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Iv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),$v(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return io(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return io(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return io(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return io(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),o=a.get(n);if(o)return o;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>ni(l,e,d))),u.forEach(d=>ni(l,s,d)),u.forEach(d=>ni(l,Nr[i]||{},d)),u.forEach(d=>ni(l,we,d)),u.forEach(d=>ni(l,rd,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Fv.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Nr[n]||{},we.datasets[n]||{},{type:n},we,rd]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=Cm(this._resolverCache,e,s);let l=a;if(pN(a,n)){i.$shared=!1,r=Yn(r)?r():r;const c=this.createResolver(e,r,o);l=Es(a,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,r=[""],s){const{resolver:i}=Cm(this._resolverCache,e,r);return X(n)?Es(i,n,void 0,s):i}}function Cm(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:$h(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(s,i)),i}const fN=t=>X(t)&&Object.getOwnPropertyNames(t).some(e=>Yn(t[e]));function pN(t,e){const{isScriptable:n,isIndexable:r}=wv(t);for(const s of e){const i=n(s),a=r(s),o=(a||i)&&t[s];if(i&&(Yn(o)||fN(o))||a&&je(o))return!0}return!1}var mN="4.4.9";const gN=["top","bottom","left","right","chartArea"];function Nm(t,e){return t==="top"||t==="bottom"||gN.indexOf(t)===-1&&e==="x"}function Tm(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Om(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ae(n&&n.onComplete,[t],e)}function yN(t){const e=t.chart,n=e.options.animation;ae(n&&n.onProgress,[t],e)}function zv(t){return zh()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Po={},Mm=t=>{const e=zv(t);return Object.values(Po).filter(n=>n.canvas===e).pop()};function vN(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function xN(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var yn;let Yl=(yn=class{static register(...e){Ft.add(...e),Dm()}static unregister(...e){Ft.remove(...e),Dm()}constructor(e,n){const r=this.config=new hN(n),s=zv(e),i=Mm(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||$C(s)),this.platform.updateConfig(r);const o=this.platform.acquireContext(s,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=pP(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tN,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=DP(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],Po[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Kt.listen(this,"complete",Om),Kt.listen(this,"progress",yN),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return Q(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ft}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Jp(this.canvas,this.ctx),this}stop(){return Kt.stop(this),this}resize(e,n){Kt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,tm(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),ae(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Z(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const o=n[a],l=ad(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Z(i,a=>{const o=a.options,l=o.id,c=ad(l,o),u=V(o.type,a.dtype);(o.position===void 0||Nm(o.position,c)!==Nm(a.dposition))&&(o.position=a.dposition),s[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const f=Ft.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(o,e)}),Z(s,(a,o)=>{a||delete r[o]}),Z(r,a=>{mt.configure(this,a,a.options),mt.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Tm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=i.indexAxis||id(o,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=Ft.getController(o),{datasetElementType:c,dataElementType:u}=we.datasets[o];Object.assign(l,{dataElementType:Ft.getElement(u),datasetElementType:c&&Ft.getElement(c)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Z(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!s&&i.indexOf(d)===-1;d.buildOrUpdateElements(f),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||Z(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Tm("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Z(this.scales,e=>{mt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Bp(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;vN(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!Bp(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mt.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Z(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Yn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Kt.has(this)?this.attached&&!Kt.running(this)&&Kt.start(this):(this.draw(),Om({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=FE(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Lh(n,s),e.controller.draw(),s&&Rh(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return oa(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=gC.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Ar(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);sa(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Kt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Jp(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Po[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};Z(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){Z(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Z(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,o,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!ll(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),a=i(n,e),o=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,o=this._getActiveElements(e,s,r,a),l=bP(e),c=xN(e,this._lastEvent,r,l);r&&(this._lastEvent=null,ae(i.onHover,[e,o,this],this),l&&ae(i.onClick,[e,o,this],this));const u=!ll(o,s);return(u||n)&&(this._active=o,this._updateHoverStyles(o,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},A(yn,"defaults",we),A(yn,"instances",Po),A(yn,"overrides",Nr),A(yn,"registry",Ft),A(yn,"version",mN),A(yn,"getChart",Mm),yn);function Dm(){return Z(Yl.instances,t=>t._plugins.invalidate())}function bN(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:o,innerRadius:l}=e;let c=s/o;t.beginPath(),t.arc(i,a,o,r-c,n+c),l>s?(c=s/l,t.arc(i,a,l,n+c,r-c,!0)):t.arc(i,a,s,n+Ee,r-Ee),t.closePath(),t.clip()}function wN(t){return Ah(t,["outerStart","outerEnd","innerStart","innerEnd"])}function _N(t,e,n,r){const s=wN(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,r*e/2),o=l=>{const c=(n-Math.min(i,l))*r/2;return Ie(l,0,Math.min(i,c))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:Ie(s.innerStart,0,a),innerEnd:Ie(s.innerEnd,0,a)}}function Wr(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function pl(t,e,n,r,s,i){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-c,0),f=u>0?u+r+n+c:0;let p=0;const m=s-l;if(r){const F=u>0?u-r:0,z=d>0?d-r:0,U=(F+z)/2,M=U!==0?m*U/(U+r):m;p=(m-M)/2}const y=Math.max(.001,m*d-n/ye)/d,x=(m-y)/2,g=l+x+p,v=s-x-p,{outerStart:b,outerEnd:_,innerStart:k,innerEnd:S}=_N(e,f,d,v-g),j=d-b,P=d-_,O=g+b/j,E=v-_/P,C=f+k,L=f+S,H=g+k/C,te=v-S/L;if(t.beginPath(),i){const F=(O+E)/2;if(t.arc(a,o,d,O,F),t.arc(a,o,d,F,E),_>0){const R=Wr(P,E,a,o);t.arc(R.x,R.y,_,E,v+Ee)}const z=Wr(L,v,a,o);if(t.lineTo(z.x,z.y),S>0){const R=Wr(L,te,a,o);t.arc(R.x,R.y,S,v+Ee,te+Math.PI)}const U=(v-S/f+(g+k/f))/2;if(t.arc(a,o,f,v-S/f,U,!0),t.arc(a,o,f,U,g+k/f,!0),k>0){const R=Wr(C,H,a,o);t.arc(R.x,R.y,k,H+Math.PI,g-Ee)}const M=Wr(j,g,a,o);if(t.lineTo(M.x,M.y),b>0){const R=Wr(j,O,a,o);t.arc(R.x,R.y,b,g-Ee,O)}}else{t.moveTo(a,o);const F=Math.cos(O)*d+a,z=Math.sin(O)*d+o;t.lineTo(F,z);const U=Math.cos(E)*d+a,M=Math.sin(E)*d+o;t.lineTo(U,M)}t.closePath()}function kN(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:o}=e;let l=e.endAngle;if(i){pl(t,e,n,r,l,s);for(let c=0;c<i;++c)t.fill();isNaN(o)||(l=a+(o%ge||ge))}return pl(t,e,n,r,l,s),t.fill(),l}function SN(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,p?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let m=e.endAngle;if(i){pl(t,e,n,r,m,s);for(let y=0;y<i;++y)t.stroke();isNaN(o)||(m=a+(o%ge||ge))}p&&bN(t,e,m),i||(pl(t,e,n,r,m,s),t.stroke())}class di extends Dt{constructor(n){super();A(this,"circumference");A(this,"endAngle");A(this,"fullCircles");A(this,"innerRadius");A(this,"outerRadius");A(this,"pixelMargin");A(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:a,distance:o}=fv(i,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),p=(this.options.spacing+this.options.borderWidth)/2,m=V(f,c-l),y=aa(a,l,c)&&l!==c,x=m>=ge||y,g=Mn(o,u+p,d+p);return x&&g}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(i+a)/2,f=(o+l+u+c)/2;return{x:r+Math.cos(d)*f,y:s+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,a=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>ge?Math.floor(s/ge):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(ye,s||0)),u=i*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,kN(n,this,u,a,o),SN(n,this,u,a,o),n.restore()}}A(di,"id","arc"),A(di,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),A(di,"defaultRoutes",{backgroundColor:"backgroundColor"}),A(di,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Uv(t,e,n=e){t.lineCap=V(n.borderCapStyle,e.borderCapStyle),t.setLineDash(V(n.borderDash,e.borderDash)),t.lineDashOffset=V(n.borderDashOffset,e.borderDashOffset),t.lineJoin=V(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=V(n.borderWidth,e.borderWidth),t.strokeStyle=V(n.borderColor,e.borderColor)}function jN(t,e,n){t.lineTo(n.x,n.y)}function PN(t){return t.stepped?YP:t.tension||t.cubicInterpolationMode==="monotone"?KP:jN}function Bv(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:o}=e,l=Math.max(s,a),c=Math.min(i,o),u=s<a&&i<a||s>o&&i>o;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function EN(t,e,n,r){const{points:s,options:i}=e,{count:a,start:o,loop:l,ilen:c}=Bv(s,n,r),u=PN(i);let{move:d=!0,reverse:f}=r||{},p,m,y;for(p=0;p<=c;++p)m=s[(o+(f?c-p:p))%a],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):u(t,y,m,f,i.stepped),y=m);return l&&(m=s[(o+(f?c:0))%a],u(t,y,m,f,i.stepped)),!!l}function CN(t,e,n,r){const s=e.points,{count:i,start:a,ilen:o}=Bv(s,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,f,p,m,y,x,g;const v=_=>(a+(c?o-_:_))%i,b=()=>{y!==x&&(t.lineTo(u,x),t.lineTo(u,y),t.lineTo(u,g))};for(l&&(p=s[v(0)],t.moveTo(p.x,p.y)),f=0;f<=o;++f){if(p=s[v(f)],p.skip)continue;const _=p.x,k=p.y,S=_|0;S===m?(k<y?y=k:k>x&&(x=k),u=(d*u+_)/++d):(b(),t.lineTo(_,k),m=S,d=0,y=x=k),g=k}b()}function od(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?CN:EN}function NN(t){return t.stepped?PE:t.tension||t.cubicInterpolationMode==="monotone"?EE:cr}function TN(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),Uv(t,e.options),t.stroke(s)}function ON(t,e,n,r){const{segments:s,options:i}=e,a=od(e);for(const o of s)Uv(t,i,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const MN=typeof Path2D=="function";function DN(t,e,n,r){MN&&!e.options.segment?TN(t,e,n,r):ON(t,e,n,r)}class hi extends Dt{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;vE(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=RE(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=ME(this,{property:n,start:s,end:s});if(!a.length)return;const o=[],l=NN(r);let c,u;for(c=0,u=a.length;c<u;++c){const{start:d,end:f}=a[c],p=i[d],m=i[f];if(p===m){o.push(p);continue}const y=Math.abs((s-p[n])/(m[n]-p[n])),x=l(p,m,y,r.stepped);x[n]=e[n],o.push(x)}return o.length===1?o[0]:o}pathSegment(e,n,r){return od(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=od(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const o of s)a&=i(e,this,o,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),DN(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}A(hi,"id","line"),A(hi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),A(hi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),A(hi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Lm(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Eo extends Dt{constructor(n){super();A(this,"parsed");A(this,"skip");A(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:a,y:o}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(r-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return Lm(this,n,"x",r)}inYRange(n,r){return Lm(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!oa(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,sd(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}A(Eo,"id","point"),A(Eo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),A(Eo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Wv(t,e){const{x:n,y:r,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,d;return t.horizontal?(d=a/2,o=Math.min(n,s),l=Math.max(n,s),c=r-d,u=r+d):(d=i/2,o=n-d,l=n+d,c=Math.min(r,s),u=Math.max(r,s)),{left:o,top:c,right:l,bottom:u}}function Dn(t,e,n,r){return t?0:Ie(e,n,r)}function LN(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=bv(r);return{t:Dn(s.top,i.top,0,n),r:Dn(s.right,i.right,0,e),b:Dn(s.bottom,i.bottom,0,n),l:Dn(s.left,i.left,0,e)}}function RN(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=ps(s),a=Math.min(e,n),o=t.borderSkipped,l=r||X(s);return{topLeft:Dn(!l||o.top||o.left,i.topLeft,0,a),topRight:Dn(!l||o.top||o.right,i.topRight,0,a),bottomLeft:Dn(!l||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:Dn(!l||o.bottom||o.right,i.bottomRight,0,a)}}function AN(t){const e=Wv(t),n=e.right-e.left,r=e.bottom-e.top,s=LN(t,n/2,r/2),i=RN(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Bc(t,e,n,r){const s=e===null,i=n===null,o=t&&!(s&&i)&&Wv(t,r);return o&&(s||Mn(e,o.left,o.right))&&(i||Mn(n,o.top,o.bottom))}function $N(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function IN(t,e){t.rect(e.x,e.y,e.w,e.h)}function Wc(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class Co extends Dt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:a}=AN(this),o=$N(a.radius)?dl:IN;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),o(e,Wc(a,n,i)),e.clip(),o(e,Wc(i,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,Wc(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return Bc(this,e,n,r)}inXRange(e,n){return Bc(this,e,null,n)}inYRange(e,n){return Bc(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}A(Co,"id","bar"),A(Co,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),A(Co,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Rm=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},FN=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Am extends Dt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ae(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Fe(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=Rm(r,i);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,i,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,s,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+o;let d=e;i.textAlign="left",i.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((m,y)=>{const x=r+n/2+i.measureText(m.text).width;(y===0||c[c.length-1]+x+2*o>a)&&(d+=u,c[c.length-(y>0?0:1)]=0,p+=u,f++),l[y]={left:0,top:p,row:f,width:x,height:s},c[c.length-1]+=x+o}),d}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let d=o,f=0,p=0,m=0,y=0;return this.legendItems.forEach((x,g)=>{const{itemWidth:v,itemHeight:b}=zN(r,n,i,x,s);g>0&&p+b+2*o>u&&(d+=f+o,c.push({width:f,height:p}),m+=f+o,y++,f=p=0),l[g]={left:m,top:p,col:y,width:v,height:b},f=Math.max(f,v),p+=b+o}),d+=f,c.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=ms(i,this.left,this.width);if(this.isHorizontal()){let o=0,l=Ae(r,this.left+s,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=Ae(r,this.left+s,this.right-this.lineWidths[o])),c.top+=this.top+e+s,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+s}else{let o=0,l=Ae(r,this.top+e+s,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=Ae(r,this.top+e+s,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+s,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Lh(e,this),this._draw(),Rh(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,o=we.color,l=ms(e.rtl,this.left,this.width),c=Fe(a.font),{padding:u}=a,d=c.size,f=d/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:y,itemHeight:x}=Rm(a,d),g=function(S,j,P){if(isNaN(m)||m<=0||isNaN(y)||y<0)return;s.save();const O=V(P.lineWidth,1);if(s.fillStyle=V(P.fillStyle,o),s.lineCap=V(P.lineCap,"butt"),s.lineDashOffset=V(P.lineDashOffset,0),s.lineJoin=V(P.lineJoin,"miter"),s.lineWidth=O,s.strokeStyle=V(P.strokeStyle,o),s.setLineDash(V(P.lineDash,[])),a.usePointStyle){const E={radius:y*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:O},C=l.xPlus(S,m/2),L=j+f;xv(s,E,C,L,a.pointStyleWidth&&m)}else{const E=j+Math.max((d-y)/2,0),C=l.leftForLtr(S,m),L=ps(P.borderRadius);s.beginPath(),Object.values(L).some(H=>H!==0)?dl(s,{x:C,y:E,w:m,h:y,radius:L}):s.rect(C,E,m,y),s.fill(),O!==0&&s.stroke()}s.restore()},v=function(S,j,P){la(s,P.text,S,j+x/2,c,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},b=this.isHorizontal(),_=this._computeTitleHeight();b?p={x:Ae(i,this.left+u,this.right-r[0]),y:this.top+u+_,line:0}:p={x:this.left+u,y:Ae(i,this.top+_+u,this.bottom-n[0].height),line:0},Pv(this.ctx,e.textDirection);const k=x+u;this.legendItems.forEach((S,j)=>{s.strokeStyle=S.fontColor,s.fillStyle=S.fontColor;const P=s.measureText(S.text).width,O=l.textAlign(S.textAlign||(S.textAlign=a.textAlign)),E=m+f+P;let C=p.x,L=p.y;l.setWidth(this.width),b?j>0&&C+E+u>this.right&&(L=p.y+=k,p.line++,C=p.x=Ae(i,this.left+u,this.right-r[p.line])):j>0&&L+k>this.bottom&&(C=p.x=C+n[p.line].width+u,p.line++,L=p.y=Ae(i,this.top+_+u,this.bottom-n[p.line].height));const H=l.x(C);if(g(H,L,S),C=LP(O,C+m+f,b?C+E:this.right,e.rtl),v(l.x(C),L,S),b)p.x+=E+u;else if(typeof S.text!="string"){const te=c.lineHeight;p.y+=Hv(S,te)+u}else p.y+=k}),Ev(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Fe(n.font),s=wt(n.padding);if(!n.display)return;const i=ms(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=r.size/2,c=s.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=Ae(e.align,d,this.right-f);else{const m=this.columnSizes.reduce((y,x)=>Math.max(y,x.height),0);u=c+Ae(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=Ae(o,d,d+f);a.textAlign=i.textAlign(Oh(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,la(a,n.text,p,u,r)}_computeTitleHeight(){const e=this.options.title,n=Fe(e.font),r=wt(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(Mn(e,this.left,this.right)&&Mn(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Mn(e,s.left,s.left+s.width)&&Mn(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!WN(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=FN(s,r);s&&!i&&ae(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&ae(n.onHover,[e,r,this],this)}else r&&ae(n.onClick,[e,r,this],this)}}function zN(t,e,n,r,s){const i=UN(r,t,e,n),a=BN(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function UN(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function BN(t,e,n){let r=t;return typeof e.text!="string"&&(r=Hv(e,n)),r}function Hv(t,e){const n=t.text?t.text.length:0;return e*n}function WN(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var HN={id:"legend",_element:Am,start(t,e,n){const r=t.legend=new Am({ctx:t.ctx,options:n,chart:t});mt.configure(t,r,n),mt.addBox(t,r)},stop(t){mt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;mt.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=wt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Vv extends Dt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=je(r.text)?r.text.length:1;this._padding=wt(r.padding);const i=s*Fe(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,o=a.align;let l=0,c,u,d;return this.isHorizontal()?(u=Ae(o,r,i),d=n+e,c=i-r):(a.position==="left"?(u=r+e,d=Ae(o,s,n),l=ye*-.5):(u=i-e,d=Ae(o,n,s),l=ye*.5),c=s-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Fe(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(i);la(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:Oh(n.align),textBaseline:"middle",translation:[a,o]})}}function VN(t,e){const n=new Vv({ctx:t.ctx,options:e,chart:t});mt.configure(t,n,e),mt.addBox(t,n),t.titleBlock=n}var qN={id:"title",_element:Vv,start(t,e,n){VN(t,n)},stop(t){const e=t.titleBlock;mt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;mt.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fi={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=t.length;i<a;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=nd(e,c);u<s&&(s=u,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function $t(t,e){return e&&(je(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Gt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function YN(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:o}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:o,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function $m(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:o}=e,l=Fe(e.bodyFont),c=Fe(e.titleFont),u=Fe(e.footerFont),d=i.length,f=s.length,p=r.length,m=wt(e.padding);let y=m.height,x=0,g=r.reduce((_,k)=>_+k.before.length+k.lines.length+k.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,d&&(y+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),g){const _=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;y+=p*_+(g-p)*l.lineHeight+(g-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let v=0;const b=function(_){x=Math.max(x,n.measureText(_).width+v)};return n.save(),n.font=c.string,Z(t.title,b),n.font=l.string,Z(t.beforeBody.concat(t.afterBody),b),v=e.displayColors?a+2+e.boxPadding:0,Z(r,_=>{Z(_.before,b),Z(_.lines,b),Z(_.after,b)}),v=0,n.font=u.string,Z(t.footer,b),n.restore(),x+=m.width,{width:x,height:y}}function KN(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function GN(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function XN(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return r==="center"?c=s<=(o+l)/2?"left":"right":s<=i/2?c="left":s>=a-i/2&&(c="right"),GN(c,t,e,n)&&(c="center"),c}function Im(t,e,n){const r=n.yAlign||e.yAlign||KN(t,n);return{xAlign:n.xAlign||e.xAlign||XN(t,e,n,r),yAlign:r}}function QN(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function JN(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function Fm(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,c=s+i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:p}=ps(a);let m=QN(e,o);const y=JN(e,l,c);return l==="center"?o==="left"?m+=c:o==="right"&&(m-=c):o==="left"?m-=Math.max(u,f)+s:o==="right"&&(m+=Math.max(d,p)+s),{x:Ie(m,0,r.width-e.width),y:Ie(y,0,r.height-e.height)}}function ao(t,e,n){const r=wt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function zm(t){return $t([],Gt(t))}function ZN(t,e,n){return Ar(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Um(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const qv={beforeTitle:Yt,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Yt,beforeBody:Yt,beforeLabel:Yt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Q(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Yt,afterBody:Yt,beforeFooter:Yt,footer:Yt,afterFooter:Yt};function Xe(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?qv[e].call(n,r):s}class ld extends Dt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new Nv(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=ZN(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=Xe(r,"beforeTitle",this,e),i=Xe(r,"title",this,e),a=Xe(r,"afterTitle",this,e);let o=[];return o=$t(o,Gt(s)),o=$t(o,Gt(i)),o=$t(o,Gt(a)),o}getBeforeBody(e,n){return zm(Xe(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return Z(e,i=>{const a={before:[],lines:[],after:[]},o=Um(r,i);$t(a.before,Gt(Xe(o,"beforeLabel",this,i))),$t(a.lines,Xe(o,"label",this,i)),$t(a.after,Gt(Xe(o,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return zm(Xe(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=Xe(r,"beforeFooter",this,e),i=Xe(r,"footer",this,e),a=Xe(r,"afterFooter",this,e);let o=[];return o=$t(o,Gt(s)),o=$t(o,Gt(i)),o=$t(o,Gt(a)),o}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(YN(this.chart,n[l]));return e.filter&&(o=o.filter((u,d,f)=>e.filter(u,d,f,r))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,r))),Z(o,u=>{const d=Um(e.callbacks,u);s.push(Xe(d,"labelColor",this,u)),i.push(Xe(d,"labelPointStyle",this,u)),a.push(Xe(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const o=fi[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=$m(this,r),c=Object.assign({},o,l),u=Im(this.chart,r,c),d=Fm(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=ps(o),{x:f,y:p}=e,{width:m,height:y}=n;let x,g,v,b,_,k;return i==="center"?(_=p+y/2,s==="left"?(x=f,g=x-a,b=_+a,k=_-a):(x=f+m,g=x+a,b=_-a,k=_+a),v=x):(s==="left"?g=f+Math.max(l,u)+a:s==="right"?g=f+m-Math.max(c,d)-a:g=this.caretX,i==="top"?(b=p,_=b-a,x=g-a,v=g+a):(b=p+y,_=b+a,x=g+a,v=g-a),k=b),{x1:x,x2:g,x3:v,y1:b,y2:_,y3:k}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,o,l;if(i){const c=ms(r.rtl,this.x,this.width);for(e.x=ao(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",a=Fe(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===i&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,u=Fe(i.bodyFont),d=ao(this,"left",i),f=s.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+p;if(i.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},x=s.leftForLtr(f,c)+c/2,g=m+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,sd(e,y,x,g),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,sd(e,y,x,g)}else{e.lineWidth=X(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const y=s.leftForLtr(f,c),x=s.leftForLtr(s.xPlus(f,1),c-2),g=ps(a.borderRadius);Object.values(g).some(v=>v!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,dl(e,{x:y,y:m,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),dl(e,{x,y:m+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,m,c,l),e.strokeRect(y,m,c,l),e.fillStyle=a.backgroundColor,e.fillRect(x,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=Fe(r.bodyFont);let f=d.lineHeight,p=0;const m=ms(r.rtl,this.x,this.width),y=function(P){n.fillText(P,m.x(e.x+p),e.y+f/2),e.y+=f+i},x=m.textAlign(a);let g,v,b,_,k,S,j;for(n.textAlign=a,n.textBaseline="middle",n.font=d.string,e.x=ao(this,x,r),n.fillStyle=r.bodyColor,Z(this.beforeBody,y),p=o&&x!=="right"?a==="center"?c/2+u:c+2+u:0,_=0,S=s.length;_<S;++_){for(g=s[_],v=this.labelTextColors[_],n.fillStyle=v,Z(g.before,y),b=g.lines,o&&b.length&&(this._drawColorBox(n,e,_,m,r),f=Math.max(d.lineHeight,l)),k=0,j=b.length;k<j;++k)y(b[k]),f=d.lineHeight;Z(g.after,y)}p=0,f=d.lineHeight,Z(this.afterBody,y),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,o;if(i){const l=ms(r.rtl,this.x,this.width);for(e.x=ao(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=Fe(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<i;++o)n.fillText(s[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:m}=ps(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(o+d,l),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(o+c-f,l),n.quadraticCurveTo(o+c,l,o+c,l+f),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(o+c,l+u-m),n.quadraticCurveTo(o+c,l+u,o+c-m,l+u),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(o+p,l+u),n.quadraticCurveTo(o,l+u,o,l+u-p),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(o,l+d),n.quadraticCurveTo(o,l,o+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=fi[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=$m(this,e),l=Object.assign({},a,this._size),c=Im(n,e,l),u=Fm(e,l,c,n);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=wt(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),Pv(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),Ev(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),i=!ll(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),o=this._positionChanged(a,e),l=n||!ll(a,i)||o;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=fi[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}A(ld,"positioners",fi);var eT={id:"tooltip",_element:ld,positioners:fi,afterInit(t,e,n){n&&(t.tooltip=new ld({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const tT=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function nT(t,e,n,r){const s=t.indexOf(e);if(s===-1)return tT(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const rT=(t,e)=>t===null?null:Ie(Math.round(t),0,e);function Bm(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class cd extends Is{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Q(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:nT(r,e,V(n,e),this._addedLabels),rT(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return Bm.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}A(cd,"id","category"),A(cd,"defaults",{ticks:{callback:Bm}});function sT(t,e){const n=[],{bounds:s,step:i,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,p=i||1,m=u-1,{min:y,max:x}=e,g=!Q(a),v=!Q(o),b=!Q(c),_=(x-y)/(d+1);let k=Hp((x-y)/m/p)*p,S,j,P,O;if(k<1e-14&&!g&&!v)return[{value:y},{value:x}];O=Math.ceil(x/k)-Math.floor(y/k),O>m&&(k=Hp(O*k/m/p)*p),Q(l)||(S=Math.pow(10,l),k=Math.ceil(k*S)/S),s==="ticks"?(j=Math.floor(y/k)*k,P=Math.ceil(x/k)*k):(j=y,P=x),g&&v&&i&&jP((o-a)/i,k/1e3)?(O=Math.round(Math.min((o-a)/k,u)),k=(o-a)/O,j=a,P=o):b?(j=g?a:j,P=v?o:P,O=c-1,k=(P-j)/O):(O=(P-j)/k,Ti(O,Math.round(O),k/1e3)?O=Math.round(O):O=Math.ceil(O));const E=Math.max(Vp(k),Vp(j));S=Math.pow(10,Q(l)?E:l),j=Math.round(j*S)/S,P=Math.round(P*S)/S;let C=0;for(g&&(f&&j!==a?(n.push({value:a}),j<a&&C++,Ti(Math.round((j+C*k)*S)/S,a,Wm(a,_,t))&&C++):j<a&&C++);C<O;++C){const L=Math.round((j+C*k)*S)/S;if(v&&L>o)break;n.push({value:L})}return v&&f&&P!==o?n.length&&Ti(n[n.length-1].value,o,Wm(o,_,t))?n[n.length-1].value=o:n.push({value:o}):(!v||P===o)&&n.push({value:P}),n}function Wm(t,e,{horizontal:n,minRotation:r}){const s=nn(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class iT extends Is{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Q(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=l=>s=n?s:l,o=l=>i=r?i:l;if(e){const l=Ht(s),c=Ht(i);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);o(i+l),e||a(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=sT(s,i);return e.bounds==="ticks"&&PP(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Dh(e,this.chart.options.locale,this.options.ticks.format)}}class ud extends iT{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=bt(e)?e:0,this.max=bt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=nn(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}A(ud,"id","linear"),A(ud,"defaults",{ticks:{callback:vv.formatters.numeric}});const Kl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},et=Object.keys(Kl);function Hm(t,e){return t-e}function Vm(t,e){if(Q(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),bt(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(ia(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function qm(t,e,n,r){const s=et.length;for(let i=et.indexOf(t);i<s-1;++i){const a=Kl[et[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=r)return et[i]}return et[s-1]}function aT(t,e,n,r,s){for(let i=et.length-1;i>=et.indexOf(n);i--){const a=et[i];if(Kl[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return et[n?et.indexOf(n):0]}function oT(t){for(let e=et.indexOf(t)+1,n=et.length;e<n;++e)if(Kl[et[e]].common)return et[e]}function Ym(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=Th(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function lT(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=i;o<=a;o=+s.add(o,1,r))l=n[o],l>=0&&(e[l].major=!0);return e}function Km(t,e,n){const r=[],s={},i=e.length;let a,o;for(a=0;a<i;++a)o=e[a],s[o]=a,r.push({value:o,major:!1});return i===0||!n?r:lT(t,r,s,n)}class ml extends Is{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new dC._date(e.adapters.date);s.init(n),Ni(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Vm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!o&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=bt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=bt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,o=OP(s,i,a);return this._unit=n.unit||(r.autoSkip?qm(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):aT(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:oT(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),Km(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Ie(n,0,a),r=Ie(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||qm(i.minUnit,n,r,this._getLabelCapacity(n)),o=V(s.ticks.stepSize,1),l=a==="week"?i.isoWeekday:!1,c=ia(l)||l===!0,u={};let d=n,f,p;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<r;f=+e.add(f,o,a),p++)Ym(u,f,m);return(f===r||s.bounds==="ticks"||p===1)&&Ym(u,f,m),Object.keys(u).sort(Hm).map(y=>+y)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return ae(a,[e,n,r],this);const o=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],d=c&&o[c],f=r[n],p=c&&d&&f&&f.major;return this._adapter.format(e,s||(p?d:u))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=nn(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:r*i+o*a,h:r*a+o*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,Km(this,[e],this._majorUnit),s),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(Vm(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return mv(e.sort(Hm))}}A(ml,"id","time"),A(ml,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function oo(t,e,n){let r=0,s=t.length-1,i,a,o,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=mr(t,"pos",e)),{pos:i,time:o}=t[r],{pos:a,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=mr(t,"time",e)),{time:i,pos:o}=t[r],{time:a,pos:l}=t[s]);const c=a-i;return c?o+(l-o)*(e-i)/c:o}class Gm extends ml{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=oo(n,this.min),this._tableRange=oo(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,o,l,c,u;for(a=0,o=e.length;a<o;++a)c=e[a],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=s.length;a<o;++a)u=s[a+1],l=s[a-1],c=s[a],Math.round((u+l)/2)!==c&&i.push({time:c,pos:a/(o-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(oo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return oo(this._table,r*this._tableRange+this._minPos,!0)}}A(Gm,"id","timeseries"),A(Gm,"defaults",ml.defaults);const Yv="label";function Xm(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function cT(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Kv(t,e){t.labels=e}function Gv(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yv;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function uT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yv;const n={labels:[],datasets:[]};return Kv(n,t.labels),Gv(n,t.datasets,e),n}function dT(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,p=w.useRef(null),m=w.useRef(null),y=()=>{p.current&&(m.current=new Yl(p.current,{type:a,data:uT(o,i),options:l&&{...l},plugins:c}),Xm(e,m.current))},x=()=>{Xm(e,null),m.current&&(m.current.destroy(),m.current=null)};return w.useEffect(()=>{!s&&m.current&&l&&cT(m.current,l)},[s,l]),w.useEffect(()=>{!s&&m.current&&Kv(m.current.config.data,o.labels)},[s,o.labels]),w.useEffect(()=>{!s&&m.current&&o.datasets&&Gv(m.current.config.data,o.datasets,i)},[s,o.datasets]),w.useEffect(()=>{m.current&&(s?(x(),setTimeout(y)):m.current.update(d))},[s,l,o.labels,o.datasets,d]),w.useEffect(()=>{m.current&&(x(),setTimeout(y))},[a]),w.useEffect(()=>(y(),()=>x()),[]),be.createElement("canvas",{ref:p,role:"img",height:n,width:r,...f},u)}const hT=w.forwardRef(dT);function Wh(t,e){return Yl.register(e),w.forwardRef((n,r)=>be.createElement(hT,{...n,ref:r,type:t}))}const fT=Wh("line",So),pT=Wh("bar",ko),mT=Wh("doughnut",ci);function gT(t="30days"){const{user:e}=_e(),[n,r]=w.useState(!0),[s,i]=w.useState(null),[a,o]=w.useState({revenueData:{labels:[],datasets:[]},salesByProductData:{labels:[],datasets:[]},customerData:{labels:[],datasets:[]},metrics:{totalRevenue:0,totalSales:0,customers:0,avgOrderValue:0,conversionRate:0,repeatCustomers:0,refundRate:0,emailOpenRate:0}});w.useEffect(()=>{if(!e){r(!1);return}async function d(){try{r(!0),console.log("Fetching analytics data for date range:",t);const f=new Date;let p=new Date;switch(t){case"7days":p.setDate(f.getDate()-7);break;case"30days":p.setDate(f.getDate()-30);break;case"90days":p.setDate(f.getDate()-90);break;case"year":p.setFullYear(f.getFullYear()-1);break;default:p.setDate(f.getDate()-30)}p=p.toISOString(),console.log("Date range:",p,"to",f.toISOString());const m=l(p,f.toISOString()),y=m.map(T=>T.toLocaleDateString("en-US",{month:"short",day:"numeric"}));let x={labels:y,datasets:[{label:"Daily Revenue",data:Array(y.length).fill(0),borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)",tension:.3},{label:"Cumulative Revenue",data:Array(y.length).fill(0),borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)",tension:.3}]},g={labels:[],datasets:[{label:"Sales by Product",data:[],backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)"],borderWidth:1}]},v={labels:y,datasets:[{label:"New Customers",data:Array(y.length).fill(0),backgroundColor:"rgba(153, 102, 255, 0.7)"}]},b={totalRevenue:0,totalSales:0,customers:0,avgOrderValue:0,conversionRate:0,repeatCustomers:0,refundRate:0,emailOpenRate:0};const{data:_,error:k}=await W.from("memberships").select("created_at, price").eq("user_id",e.id).eq("status","active").gte("created_at",p).order("created_at",{ascending:!0});if(k)throw console.error("Error fetching revenue data:",k),new Error(`Failed to fetch revenue data: ${k.message}`);if(console.log("Revenue data fetched:",(_==null?void 0:_.length)||0,"records"),_&&_.length>0){const T=c(_,m,"price"),$=u(T);x.datasets[0].data=T,x.datasets[1].data=$,b.totalRevenue=_.reduce((B,le)=>B+(parseFloat(le.price)||0),0),b.totalSales=_.length,b.avgOrderValue=b.totalSales>0?b.totalRevenue/b.totalSales:0}const{data:S,error:j}=await W.from("memberships").select(`
            price,
            product:product_id(id, name)
          `).eq("user_id",e.id).eq("status","active").gte("created_at",p);if(j)console.error("Error fetching product sales data:",j);else if(S&&S.length>0){console.log("Product sales data fetched:",S.length,"records");const T={};S.forEach(le=>{if(le.product&&le.product.name){const pe=le.product.name;T[pe]||(T[pe]=0),T[pe]+=1}});const $=Object.keys(T),B=$.map(le=>T[le]);$.length>0&&(g.labels=$,g.datasets[0].data=B)}const{data:P,error:O}=await W.from("customers").select("created_at").eq("user_id",e.id).gte("created_at",p).order("created_at",{ascending:!0});if(O)console.error("Error fetching customer data:",O);else if(P&&P.length>0){console.log("Customer data fetched:",P.length,"records");const T=c(P,m,"count");v.datasets[0].data=T}const{count:E,error:C}=await W.from("customers").select("id",{count:"exact",head:!0}).eq("user_id",e.id);C||(b.customers=E||0);const{data:L,error:H}=await W.from("page_views").select("id",{count:"exact",head:!0}).eq("user_id",e.id).gte("created_at",p);if(!H&&L&&b.totalSales>0){const T=L.length||0;b.conversionRate=T>0?b.totalSales/T*100:0}const{data:te,error:F}=await W.from("customers").select("id, purchase_count").eq("user_id",e.id).gt("purchase_count",1);!F&&te&&(b.repeatCustomers=b.customers>0?te.length/b.customers*100:0);const{data:z,error:U}=await W.from("memberships").select("id",{count:"exact",head:!0}).eq("user_id",e.id).eq("status","refunded").gte("created_at",p);if(!U&&z){const T=z.length||0;b.refundRate=b.totalSales>0?T/(b.totalSales+T)*100:0}const{data:M,error:R}=await W.from("email_campaigns").select("sent_count, open_count").eq("user_id",e.id).gte("created_at",p);if(!R&&M&&M.length>0){const T=M.reduce((B,le)=>B+(le.sent_count||0),0),$=M.reduce((B,le)=>B+(le.open_count||0),0);b.emailOpenRate=T>0?$/T*100:0}console.log("Setting real analytics data"),o({revenueData:x,salesByProductData:g,customerData:v,metrics:b})}catch(f){console.error("Error fetching analytics data:",f),i(f),o({revenueData:{labels:[],datasets:[{label:"Daily Revenue",data:[],borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)",tension:.3},{label:"Cumulative Revenue",data:[],borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)",tension:.3}]},salesByProductData:{labels:[],datasets:[{label:"Sales by Product",data:[],backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)"],borderWidth:1}]},customerData:{labels:[],datasets:[{label:"New Customers",data:[],backgroundColor:"rgba(153, 102, 255, 0.7)"}]},metrics:{totalRevenue:0,totalSales:0,customers:0,avgOrderValue:0,conversionRate:0,repeatCustomers:0,refundRate:0,emailOpenRate:0}})}finally{r(!1)}}d()},[e,t]);function l(d,f){const p=new Date(d),m=new Date(f),y=[];p.setHours(0,0,0,0);const x=new Date(p);for(;x<=m;)y.push(new Date(x)),x.setDate(x.getDate()+1);return y}function c(d,f,p){const m=Array(f.length).fill(0);return d.forEach(y=>{const x=new Date(y.created_at);x.setHours(0,0,0,0);const g=f.findIndex(v=>v.getFullYear()===x.getFullYear()&&v.getMonth()===x.getMonth()&&v.getDate()===x.getDate());g!==-1&&(p==="count"?m[g]+=1:m[g]+=parseFloat(y[p])||0)}),m}function u(d){return d.reduce((f,p,m)=>m===0?[p]:[...f,f[m-1]+p],[])}return{analyticsData:a,loading:n,error:s}}Yl.register(cd,ud,Eo,hi,Co,di,qN,eT,HN);function yT(){const{user:t}=_e(),[e,n]=w.useState("30days"),{analyticsData:r,loading:s,error:i}=gT(e);w.useEffect(()=>{console.log("Analytics component rendered with date range:",e),console.log("Current analytics data:",r)},[r,e]);const a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}};if(i)return h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Tp,{className:"mr-2",size:20}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold",children:"Error loading analytics data"}),h.jsx("p",{children:i.message})]})]})});const o=r.revenueData.labels.length>0||r.salesByProductData.labels.length>0||r.customerData.labels.length>0;return h.jsxs("div",{children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Analytics"}),h.jsxs("select",{className:"mt-2 sm:mt-0 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",value:e,onChange:l=>n(l.target.value),children:[h.jsx("option",{value:"7days",children:"Last 7 Days"}),h.jsx("option",{value:"30days",children:"Last 30 Days"}),h.jsx("option",{value:"90days",children:"Last 90 Days"}),h.jsx("option",{value:"year",children:"Last Year"})]})]}),s?h.jsxs("div",{className:"flex items-center justify-center p-12",children:[h.jsx(S2,{className:"animate-spin text-primary-500 mr-2",size:24}),h.jsx("span",{children:"Loading analytics data..."})]}):o?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Revenue"}),h.jsx(Xy,{className:"text-primary-500"})]}),h.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:ta(r.metrics.totalRevenue)}),r.metrics.totalRevenue>0&&h.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 flex items-center mt-1",children:[h.jsx(Va,{className:"mr-1"}),"For selected period"]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Sales"}),h.jsx(vh,{className:"text-primary-500"})]}),h.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:r.metrics.totalSales}),r.metrics.totalSales>0&&h.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 flex items-center mt-1",children:[h.jsx(Va,{className:"mr-1"}),"For selected period"]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Customers"}),h.jsx(_h,{className:"text-primary-500"})]}),h.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:r.metrics.customers}),r.metrics.customers>0&&h.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 flex items-center mt-1",children:[h.jsx(Va,{className:"mr-1"}),"Total customers"]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Avg. Order Value"}),h.jsx(ea,{className:"text-primary-500"})]}),h.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:ta(r.metrics.avgOrderValue)}),r.metrics.avgOrderValue>0&&h.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 flex items-center mt-1",children:[h.jsx(Va,{className:"mr-1"}),"For selected period"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Revenue Over Time"}),r.revenueData.labels.length>0?h.jsx("div",{className:"h-64",children:h.jsx(fT,{data:r.revenueData,options:a})}):h.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No revenue data available for this period"})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"New Customers"}),r.customerData.labels.length>0?h.jsx("div",{className:"h-64",children:h.jsx(pT,{data:r.customerData,options:a})}):h.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No customer data available for this period"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Sales by Product"}),r.salesByProductData.labels.length>0?h.jsx("div",{className:"h-64",children:h.jsx(mT,{data:r.salesByProductData,options:a})}):h.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No product sales data available for this period"})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Key Metrics"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between mb-1",children:[h.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Conversion Rate"}),h.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[r.metrics.conversionRate.toFixed(1),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:h.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${Math.min(r.metrics.conversionRate,100)}%`}})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between mb-1",children:[h.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Repeat Customers"}),h.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[r.metrics.repeatCustomers.toFixed(1),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:h.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${Math.min(r.metrics.repeatCustomers,100)}%`}})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between mb-1",children:[h.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Refund Rate"}),h.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[r.metrics.refundRate.toFixed(1),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:h.jsx("div",{className:"bg-red-600 h-2.5 rounded-full",style:{width:`${Math.min(r.metrics.refundRate,100)}%`}})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between mb-1",children:[h.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Open Rate"}),h.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[r.metrics.emailOpenRate.toFixed(1),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:h.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${Math.min(r.metrics.emailOpenRate,100)}%`}})})]})]})]})]})]}):h.jsx("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded relative",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Tp,{className:"mr-2",size:20}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold",children:"No analytics data available"}),h.jsx("p",{children:"There is no data available for the selected time period. Try a different date range or add some products and sales to see analytics."})]})]})})]})}const Xv=typeof document<"u"?be.useLayoutEffect:()=>{};function vT(t){const e=w.useRef(null);return Xv(()=>{e.current=t},[t]),w.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const Zn=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},gr=t=>t&&"window"in t&&t.window===t?t:Zn(t).defaultView||window;function xT(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function bT(t){return xT(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let wT=!1;function Hh(){return wT}function Qv(t,e){if(!Hh())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:bT(n)?n=n.host:n=n.parentNode}return!1}const dd=(t=document)=>{var e;if(!Hh())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function Jv(t){return Hh()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function _T(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function kT(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Zv(t){let e=null;return()=>(e==null&&(e=t()),e)}const ST=Zv(function(){return kT(/^Mac/i)}),jT=Zv(function(){return _T(/Android/i)});function ex(){let t=w.useRef(new Map),e=w.useCallback((s,i,a,o)=>{let l=o!=null&&o.once?(...c)=>{t.current.delete(a),a(...c)}:a;t.current.set(a,{type:i,eventTarget:s,fn:l,options:o}),s.addEventListener(i,l,o)},[]),n=w.useCallback((s,i,a,o)=>{var l;let c=((l=t.current.get(a))===null||l===void 0?void 0:l.fn)||a;s.removeEventListener(i,c,o),t.current.delete(a)},[]),r=w.useCallback(()=>{t.current.forEach((s,i)=>{n(s.eventTarget,s.type,i,s.options)})},[n]);return w.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function PT(t){return t.mozInputSource===0&&t.isTrusted?!0:jT()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function tx(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function ET(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function nx(t){let e=w.useRef({isFocused:!1,observer:null});Xv(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=vT(r=>{t==null||t(r)});return w.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let s=r.target,i=a=>{if(e.current.isFocused=!1,s.disabled){let o=tx(a);n(o)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};s.addEventListener("focusout",i,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&s.disabled){var a;(a=e.current.observer)===null||a===void 0||a.disconnect();let o=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),e.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let CT=!1,wa=null,hd=new Set,Di=new Map,Tr=!1,fd=!1;const NT={Tab:!0,Escape:!0};function Vh(t,e){for(let n of hd)n(t,e)}function TT(t){return!(t.metaKey||!ST()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function gl(t){Tr=!0,TT(t)&&(wa="keyboard",Vh("keyboard",t))}function gs(t){wa="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Tr=!0,Vh("pointer",t))}function rx(t){PT(t)&&(Tr=!0,wa="virtual")}function sx(t){t.target===window||t.target===document||CT||!t.isTrusted||(!Tr&&!fd&&(wa="virtual",Vh("virtual",t)),Tr=!1,fd=!1)}function ix(){Tr=!1,fd=!0}function pd(t){if(typeof window>"u"||typeof document>"u"||Di.get(gr(t)))return;const e=gr(t),n=Zn(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Tr=!0,r.apply(this,arguments)},n.addEventListener("keydown",gl,!0),n.addEventListener("keyup",gl,!0),n.addEventListener("click",rx,!0),e.addEventListener("focus",sx,!0),e.addEventListener("blur",ix,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",gs,!0),n.addEventListener("pointermove",gs,!0),n.addEventListener("pointerup",gs,!0)),e.addEventListener("beforeunload",()=>{ax(t)},{once:!0}),Di.set(e,{focus:r})}const ax=(t,e)=>{const n=gr(t),r=Zn(t);e&&r.removeEventListener("DOMContentLoaded",e),Di.has(n)&&(n.HTMLElement.prototype.focus=Di.get(n).focus,r.removeEventListener("keydown",gl,!0),r.removeEventListener("keyup",gl,!0),r.removeEventListener("click",rx,!0),n.removeEventListener("focus",sx,!0),n.removeEventListener("blur",ix,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",gs,!0),r.removeEventListener("pointermove",gs,!0),r.removeEventListener("pointerup",gs,!0)),Di.delete(n))};function OT(t){const e=Zn(t);let n;return e.readyState!=="loading"?pd(t):(n=()=>{pd(t)},e.addEventListener("DOMContentLoaded",n)),()=>ax(t,n)}typeof document<"u"&&OT();function ox(){return wa!=="pointer"}const MT=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function DT(t,e,n){let r=Zn(n==null?void 0:n.target);const s=typeof window<"u"?gr(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?gr(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?gr(n==null?void 0:n.target).HTMLElement:HTMLElement,o=typeof window<"u"?gr(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof s&&!MT.has(r.activeElement.type)||r.activeElement instanceof i||r.activeElement instanceof a&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof o&&!NT[n.key])}function LT(t,e,n){pd(),w.useEffect(()=>{let r=(s,i)=>{DT(!!(n!=null&&n.isTextInput),s,i)&&t(ox())};return hd.add(r),()=>{hd.delete(r)}},e)}function RT(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:s}=t;const i=w.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),s&&s(!1),!0},[r,s]),a=nx(i),o=w.useCallback(l=>{const c=Zn(l.target),u=c?dd(c):dd();l.target===l.currentTarget&&u===Jv(l.nativeEvent)&&(n&&n(l),s&&s(!0),a(l))},[s,n,a]);return{focusProps:{onFocus:!e&&(n||s||r)?o:void 0,onBlur:!e&&(r||s)?i:void 0}}}function AT(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=t,i=w.useRef({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:o}=ex(),l=w.useCallback(d=>{d.currentTarget.contains(d.target)&&i.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(i.current.isFocusWithin=!1,o(),n&&n(d),s&&s(!1))},[n,s,i,o]),c=nx(l),u=w.useCallback(d=>{if(!d.currentTarget.contains(d.target))return;const f=Zn(d.target),p=dd(f);if(!i.current.isFocusWithin&&p===Jv(d.nativeEvent)){r&&r(d),s&&s(!0),i.current.isFocusWithin=!0,c(d);let m=d.currentTarget;a(f,"focus",y=>{if(i.current.isFocusWithin&&!Qv(m,y.target)){let x=new f.defaultView.FocusEvent("blur",{relatedTarget:y.target});ET(x,m);let g=tx(x);l(g)}},{capture:!0})}},[r,s,c,a,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let md=!1,Hc=0;function $T(){md=!0,setTimeout(()=>{md=!1},50)}function Qm(t){t.pointerType==="touch"&&$T()}function IT(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",Qm),Hc++,()=>{Hc--,!(Hc>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Qm)}}function FT(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:s}=t,[i,a]=w.useState(!1),o=w.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;w.useEffect(IT,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=ex(),{hoverProps:u,triggerHoverEnd:d}=w.useMemo(()=>{let f=(y,x)=>{if(o.pointerType=x,s||x==="touch"||o.isHovered||!y.currentTarget.contains(y.target))return;o.isHovered=!0;let g=y.currentTarget;o.target=g,l(Zn(y.target),"pointerover",v=>{o.isHovered&&o.target&&!Qv(o.target,v.target)&&p(v,v.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:g,pointerType:x}),n&&n(!0),a(!0)},p=(y,x)=>{let g=o.target;o.pointerType="",o.target=null,!(x==="touch"||!o.isHovered||!g)&&(o.isHovered=!1,c(),r&&r({type:"hoverend",target:g,pointerType:x}),n&&n(!1),a(!1))},m={};return typeof PointerEvent<"u"&&(m.onPointerEnter=y=>{md&&y.pointerType==="mouse"||f(y,y.pointerType)},m.onPointerLeave=y=>{!s&&y.currentTarget.contains(y.target)&&p(y,y.pointerType)}),{hoverProps:m,triggerHoverEnd:p}},[e,n,r,s,o,l,c]);return w.useEffect(()=>{s&&d({currentTarget:o.target},o.pointerType)},[s]),{hoverProps:u,isHovered:i}}function lx(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,s=w.useRef({isFocused:!1,isFocusVisible:e||ox()}),[i,a]=w.useState(!1),[o,l]=w.useState(()=>s.current.isFocused&&s.current.isFocusVisible),c=w.useCallback(()=>l(s.current.isFocused&&s.current.isFocusVisible),[]),u=w.useCallback(p=>{s.current.isFocused=p,a(p),c()},[c]);LT(p=>{s.current.isFocusVisible=p,c()},[],{isTextInput:n});let{focusProps:d}=RT({isDisabled:r,onFocusChange:u}),{focusWithinProps:f}=AT({isDisabled:!r,onFocusWithinChange:u});return{isFocused:i,isFocusVisible:o,focusProps:r?f:d}}var zT=Object.defineProperty,UT=(t,e,n)=>e in t?zT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vc=(t,e,n)=>(UT(t,typeof e!="symbol"?e+"":e,n),n);let BT=class{constructor(){Vc(this,"current",this.detect()),Vc(this,"handoffState","pending"),Vc(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},cx=new BT;function ux(t){var e,n;return cx.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function dx(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function hx(){let t=[],e={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),e.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return dx(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=hx();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let s of t.splice(r,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}function WT(){let[t]=w.useState(hx);return w.useEffect(()=>()=>t.dispose(),[t]),t}let Ns=(t,e)=>{cx.isServer?w.useEffect(t,e):w.useLayoutEffect(t,e)};function pi(t){let e=w.useRef(t);return Ns(()=>{e.current=t},[t]),e}let Ut=function(t){let e=pi(t);return be.useCallback((...n)=>e.current(...n),[e])};function HT(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function VT(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function qT({disabled:t=!1}={}){let e=w.useRef(null),[n,r]=w.useState(!1),s=WT(),i=Ut(()=>{e.current=null,r(!1),s.dispose()}),a=Ut(o=>{if(s.dispose(),e.current===null){e.current=o.currentTarget,r(!0);{let l=ux(o.currentTarget);s.addEventListener(l,"pointerup",i,!1),s.addEventListener(l,"pointermove",c=>{if(e.current){let u=HT(c);r(VT(u,e.current.getBoundingClientRect()))}},!1),s.addEventListener(l,"pointercancel",i,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:a,onPointerUp:i,onClick:i}}}function Jm(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function wr(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,wr),r}var gd=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(gd||{}),YT=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(YT||{});function Fs(){let t=GT();return w.useCallback(e=>KT({mergeRefs:t,...e}),[t])}function KT({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:s,visible:i=!0,name:a,mergeRefs:o}){o=o??XT;let l=fx(e,t);if(i)return lo(l,n,r,a,o);let c=s??0;if(c&2){let{static:u=!1,...d}=l;if(u)return lo(d,n,r,a,o)}if(c&1){let{unmount:u=!0,...d}=l;return wr(u?0:1,{0(){return null},1(){return lo({...d,hidden:!0,style:{display:"none"}},n,r,a,o)}})}return lo(l,n,r,a,o)}function lo(t,e={},n,r,s){let{as:i=n,children:a,refName:o="ref",...l}=qc(t,["unmount","static"]),c=t.ref!==void 0?{[o]:t.ref}:{},u=typeof a=="function"?a(e):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let d={};if(e){let f=!1,p=[];for(let[m,y]of Object.entries(e))typeof y=="boolean"&&(f=!0),y===!0&&p.push(m.replace(/([A-Z])/g,x=>`-${x.toLowerCase()}`));if(f){d["data-headlessui-state"]=p.join(" ");for(let m of p)d[`data-${m}`]=""}}if(i===w.Fragment&&(Object.keys(Hr(l)).length>0||Object.keys(Hr(d)).length>0))if(!w.isValidElement(u)||Array.isArray(u)&&u.length>1){if(Object.keys(Hr(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Hr(l)).concat(Object.keys(Hr(d))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=u.props,p=f==null?void 0:f.className,m=typeof p=="function"?(...g)=>Jm(p(...g),l.className):Jm(p,l.className),y=m?{className:m}:{},x=fx(u.props,Hr(qc(l,["ref"])));for(let g in d)g in x&&delete d[g];return w.cloneElement(u,Object.assign({},x,d,c,{ref:s(QT(u),c.ref)},y))}return w.createElement(i,Object.assign({},qc(l,["ref"]),i!==w.Fragment&&c,i!==w.Fragment&&d),u)}function GT(){let t=w.useRef([]),e=w.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function XT(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function fx(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let r in n)Object.assign(e,{[r](s,...i){let a=n[r];for(let o of a){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;o(s,...i)}}});return e}function px(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];for(let r in n)Object.assign(e,{[r](...s){let i=n[r];for(let a of i)a==null||a(...s)}});return e}function zs(t){var e;return Object.assign(w.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Hr(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function qc(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function QT(t){return be.version.split(".")[0]>="19"?t.props.ref:t.ref}let JT="span";var mx=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(mx||{});function ZT(t,e){var n;let{features:r=1,...s}=t,i={ref:e,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Fs()({ourProps:i,theirProps:s,slot:{},defaultTag:JT,name:"Hidden"})}let gx=zs(ZT),eO=Symbol();function _a(...t){let e=w.useRef(t);w.useEffect(()=>{e.current=t},[t]);let n=Ut(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return t.every(r=>r==null||(r==null?void 0:r[eO]))?void 0:n}var St=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(St||{});let tO=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),nO=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var jt=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(jt||{}),mi=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(mi||{}),rO=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(rO||{});function sO(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(tO)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function iO(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(nO)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var aO=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(aO||{}),oO=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(oO||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let lO=["textarea","input"].join(",");function cO(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,lO))!=null?n:!1}function as(t,e=n=>n){return t.slice().sort((n,r)=>{let s=e(n),i=e(r);if(s===null||i===null)return 0;let a=s.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Vr(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,a=Array.isArray(t)?n?as(t):t:e&64?iO(t):sO(t);s.length>0&&a.length>1&&(a=a.filter(p=>!s.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===p:m===p))),r=r??i.activeElement;let o=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(r))-1;if(e&4)return Math.max(0,a.indexOf(r))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,d=a.length,f;do{if(u>=d||u+d<=0)return 0;let p=l+u;if(e&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}f=a[p],f==null||f.focus(c),u+=o}while(f!==i.activeElement);return e&6&&cO(f)&&f.select(),2}function uO(t,e){return w.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function dO(){let t=w.useRef(!1);return Ns(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function hO({onFocus:t}){let[e,n]=w.useState(!0),r=dO();return e?be.createElement(gx,{as:"button",type:"button",features:mx.Focusable,onFocus:s=>{s.preventDefault();let i,a=50;function o(){if(a--<=0){i&&cancelAnimationFrame(i);return}if(t()){if(cancelAnimationFrame(i),!r.current)return;n(!1);return}i=requestAnimationFrame(o)}i=requestAnimationFrame(o)}}):null}const yx=w.createContext(null);function fO(){return{groups:new Map,get(t,e){var n;let r=this.groups.get(t);r||(r=new Map,this.groups.set(t,r));let s=(n=r.get(e))!=null?n:0;r.set(e,s+1);let i=Array.from(r.keys()).indexOf(e);function a(){let o=r.get(e);o>1?r.set(e,o-1):r.delete(e)}return[i,a]}}}function pO({children:t}){let e=w.useRef(fO());return w.createElement(yx.Provider,{value:e},t)}function vx(t){let e=w.useContext(yx);if(!e)throw new Error("You must wrap your component in a <StableCollection>");let n=w.useId(),[r,s]=e.current.get(t,n);return w.useEffect(()=>s,[]),r}var mO=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(mO||{}),gO=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(gO||{}),yO=(t=>(t[t.SetSelectedIndex=0]="SetSelectedIndex",t[t.RegisterTab=1]="RegisterTab",t[t.UnregisterTab=2]="UnregisterTab",t[t.RegisterPanel=3]="RegisterPanel",t[t.UnregisterPanel=4]="UnregisterPanel",t))(yO||{});let vO={0(t,e){var n;let r=as(t.tabs,u=>u.current),s=as(t.panels,u=>u.current),i=r.filter(u=>{var d;return!((d=u.current)!=null&&d.hasAttribute("disabled"))}),a={...t,tabs:r,panels:s};if(e.index<0||e.index>r.length-1){let u=wr(Math.sign(e.index-t.selectedIndex),{[-1]:()=>1,0:()=>wr(Math.sign(e.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(i.length===0)return a;let d=wr(u,{0:()=>r.indexOf(i[0]),1:()=>r.indexOf(i[i.length-1])});return{...a,selectedIndex:d===-1?t.selectedIndex:d}}let o=r.slice(0,e.index),l=[...r.slice(e.index),...o].find(u=>i.includes(u));if(!l)return a;let c=(n=r.indexOf(l))!=null?n:t.selectedIndex;return c===-1&&(c=t.selectedIndex),{...a,selectedIndex:c}},1(t,e){if(t.tabs.includes(e.tab))return t;let n=t.tabs[t.selectedIndex],r=as([...t.tabs,e.tab],i=>i.current),s=t.selectedIndex;return t.info.current.isControlled||(s=r.indexOf(n),s===-1&&(s=t.selectedIndex)),{...t,tabs:r,selectedIndex:s}},2(t,e){return{...t,tabs:t.tabs.filter(n=>n!==e.tab)}},3(t,e){return t.panels.includes(e.panel)?t:{...t,panels:as([...t.panels,e.panel],n=>n.current)}},4(t,e){return{...t,panels:t.panels.filter(n=>n!==e.panel)}}},qh=w.createContext(null);qh.displayName="TabsDataContext";function Ts(t){let e=w.useContext(qh);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ts),n}return e}let Yh=w.createContext(null);Yh.displayName="TabsActionsContext";function Kh(t){let e=w.useContext(Yh);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Kh),n}return e}function xO(t,e){return wr(e.type,vO,t,e)}let bO="div";function wO(t,e){let{defaultIndex:n=0,vertical:r=!1,manual:s=!1,onChange:i,selectedIndex:a=null,...o}=t;const l=r?"vertical":"horizontal",c=s?"manual":"auto";let u=a!==null,d=pi({isControlled:u}),f=_a(e),[p,m]=w.useReducer(xO,{info:d,selectedIndex:a??n,tabs:[],panels:[]}),y=w.useMemo(()=>({selectedIndex:p.selectedIndex}),[p.selectedIndex]),x=pi(i||(()=>{})),g=pi(p.tabs),v=w.useMemo(()=>({orientation:l,activation:c,...p}),[l,c,p]),b=Ut(E=>(m({type:1,tab:E}),()=>m({type:2,tab:E}))),_=Ut(E=>(m({type:3,panel:E}),()=>m({type:4,panel:E}))),k=Ut(E=>{S.current!==E&&x.current(E),u||m({type:0,index:E})}),S=pi(u?t.selectedIndex:p.selectedIndex),j=w.useMemo(()=>({registerTab:b,registerPanel:_,change:k}),[]);Ns(()=>{m({type:0,index:a??n})},[a]),Ns(()=>{if(S.current===void 0||p.tabs.length<=0)return;let E=as(p.tabs,C=>C.current);E.some((C,L)=>p.tabs[L]!==C)&&k(E.indexOf(p.tabs[S.current]))});let P={ref:f},O=Fs();return be.createElement(pO,null,be.createElement(Yh.Provider,{value:j},be.createElement(qh.Provider,{value:v},v.tabs.length<=0&&be.createElement(hO,{onFocus:()=>{var E,C;for(let L of g.current)if(((E=L.current)==null?void 0:E.tabIndex)===0)return(C=L.current)==null||C.focus(),!0;return!1}}),O({ourProps:P,theirProps:o,slot:y,defaultTag:bO,name:"Tabs"}))))}let _O="div";function kO(t,e){let{orientation:n,selectedIndex:r}=Ts("Tab.List"),s=_a(e),i=w.useMemo(()=>({selectedIndex:r}),[r]),a=t,o={ref:s,role:"tablist","aria-orientation":n};return Fs()({ourProps:o,theirProps:a,slot:i,defaultTag:_O,name:"Tabs.List"})}let SO="button";function jO(t,e){var n,r;let s=w.useId(),{id:i=`headlessui-tabs-tab-${s}`,disabled:a=!1,autoFocus:o=!1,...l}=t,{orientation:c,activation:u,selectedIndex:d,tabs:f,panels:p}=Ts("Tab"),m=Kh("Tab"),y=Ts("Tab"),[x,g]=w.useState(null),v=w.useRef(null),b=_a(v,e,g);Ns(()=>m.registerTab(v),[m,v]);let _=vx("tabs"),k=f.indexOf(v);k===-1&&(k=_);let S=k===d,j=Ut(T=>{var $;let B=T();if(B===mi.Success&&u==="auto"){let le=($=ux(v))==null?void 0:$.activeElement,pe=y.tabs.findIndex(_t=>_t.current===le);pe!==-1&&m.change(pe)}return B}),P=Ut(T=>{let $=f.map(B=>B.current).filter(Boolean);if(T.key===St.Space||T.key===St.Enter){T.preventDefault(),T.stopPropagation(),m.change(k);return}switch(T.key){case St.Home:case St.PageUp:return T.preventDefault(),T.stopPropagation(),j(()=>Vr($,jt.First));case St.End:case St.PageDown:return T.preventDefault(),T.stopPropagation(),j(()=>Vr($,jt.Last))}if(j(()=>wr(c,{vertical(){return T.key===St.ArrowUp?Vr($,jt.Previous|jt.WrapAround):T.key===St.ArrowDown?Vr($,jt.Next|jt.WrapAround):mi.Error},horizontal(){return T.key===St.ArrowLeft?Vr($,jt.Previous|jt.WrapAround):T.key===St.ArrowRight?Vr($,jt.Next|jt.WrapAround):mi.Error}}))===mi.Success)return T.preventDefault()}),O=w.useRef(!1),E=Ut(()=>{var T;O.current||(O.current=!0,(T=v.current)==null||T.focus({preventScroll:!0}),m.change(k),dx(()=>{O.current=!1}))}),C=Ut(T=>{T.preventDefault()}),{isFocusVisible:L,focusProps:H}=lx({autoFocus:o}),{isHovered:te,hoverProps:F}=FT({isDisabled:a}),{pressed:z,pressProps:U}=qT({disabled:a}),M=w.useMemo(()=>({selected:S,hover:te,active:z,focus:L,autofocus:o,disabled:a}),[S,te,L,z,o,a]),R=px({ref:b,onKeyDown:P,onMouseDown:C,onClick:E,id:i,role:"tab",type:uO(t,x),"aria-controls":(r=(n=p[k])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":S,tabIndex:S?0:-1,disabled:a||void 0,autoFocus:o},H,F,U);return Fs()({ourProps:R,theirProps:l,slot:M,defaultTag:SO,name:"Tabs.Tab"})}let PO="div";function EO(t,e){let{selectedIndex:n}=Ts("Tab.Panels"),r=_a(e),s=w.useMemo(()=>({selectedIndex:n}),[n]),i=t,a={ref:r};return Fs()({ourProps:a,theirProps:i,slot:s,defaultTag:PO,name:"Tabs.Panels"})}let CO="div",NO=gd.RenderStrategy|gd.Static;function TO(t,e){var n,r,s,i;let a=w.useId(),{id:o=`headlessui-tabs-panel-${a}`,tabIndex:l=0,...c}=t,{selectedIndex:u,tabs:d,panels:f}=Ts("Tab.Panel"),p=Kh("Tab.Panel"),m=w.useRef(null),y=_a(m,e);Ns(()=>p.registerPanel(m),[p,m]);let x=vx("panels"),g=f.indexOf(m);g===-1&&(g=x);let v=g===u,{isFocusVisible:b,focusProps:_}=lx(),k=w.useMemo(()=>({selected:v,focus:b}),[v,b]),S=px({ref:y,id:o,role:"tabpanel","aria-labelledby":(r=(n=d[g])==null?void 0:n.current)==null?void 0:r.id,tabIndex:v?l:-1},_),j=Fs();return!v&&((s=c.unmount)==null||s)&&!((i=c.static)!=null&&i)?be.createElement(gx,{"aria-hidden":"true",...S}):j({ourProps:S,theirProps:c,slot:k,defaultTag:CO,features:NO,visible:v,name:"Tabs.Panel"})}let OO=zs(jO),MO=zs(wO),DO=zs(kO),LO=zs(EO),RO=zs(TO),gn=Object.assign(OO,{Group:MO,List:DO,Panels:LO,Panel:RO});async function AO(t){try{const{data:e,error:n}=await W.from("profiles").select("*").eq("id",t).single();if(n)throw n;return{data:e,error:null}}catch(e){return console.error("Error fetching profile:",e),{data:null,error:e}}}async function $O(t,e){try{const n={...e,updated_at:new Date().toISOString()},{data:r,error:s}=await W.from("profiles").update(n).eq("id",t).select().single();if(s)throw s;return{data:r,error:null}}catch(n){return console.error("Error updating profile:",n),{data:null,error:n}}}function IO(){const[t,e]=w.useState(null),[n,r]=w.useState(!0),[s,i]=w.useState(null),a=_e()||{user:null},{user:o}=a;return w.useEffect(()=>{async function c(){if(!o){e(null),r(!1);return}try{r(!0);const{data:u,error:d}=await AO(o.id);if(d)throw d;e(u)}catch(u){console.error("Error loading profile:",u),i(u)}finally{r(!1)}}c()},[o]),{profile:t,loading:n,error:s,updateProfile:async c=>{if(!o)return{success:!1,error:new Error("User not authenticated")};try{r(!0);const{data:u,error:d}=await $O(o.id,c);if(d)throw d;return e(u),{success:!0,data:u}}catch(u){return console.error("Error updating profile:",u),i(u),{success:!1,error:u}}finally{r(!1)}}}}function FO(){const{profile:t,loading:e,error:n,updateProfile:r}=IO(),[s,i]=w.useState({name:"",email:"",company:"",website:""}),[a,o]=w.useState(!1),[l,c]=w.useState({type:"",text:""});be.useEffect(()=>{t&&i({name:t.name||"",email:t.email||"",company:t.company||"",website:t.website||""})},[t]);const u=f=>{const{name:p,value:m}=f.target;i(y=>({...y,[p]:m}))},d=async f=>{f.preventDefault(),o(!0),c({type:"",text:""});try{const p=await r(s);p.success?c({type:"success",text:"Profile updated successfully!"}):c({type:"error",text:`Failed to update profile: ${p.error.message}`})}catch(p){c({type:"error",text:`An unexpected error occurred: ${p.message}`})}finally{o(!1),l.type==="success"&&setTimeout(()=>{c({type:"",text:""})},3e3)}};return e&&!t?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx(Ps,{className:"w-8 h-8 animate-spin text-blue-500"})}):n&&!t?h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:h.jsx("p",{children:"Error loading profile. Please try again."})}):h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center mb-6",children:[h.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:h.jsx(rv,{className:"h-6 w-6 text-blue-600"})}),h.jsx("h2",{className:"text-xl font-medium",children:"Profile Information"})]}),h.jsxs("form",{onSubmit:d,children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),h.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Your name"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),h.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"your.email@example.com"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company"}),h.jsx("input",{type:"text",id:"company",name:"company",value:s.company,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Your company name"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"Website"}),h.jsx("input",{type:"url",id:"website",name:"website",value:s.website,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com"})]})]}),l.text&&h.jsx("div",{className:`mt-4 p-3 rounded ${l.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:l.text}),h.jsx("div",{className:"mt-6",children:h.jsx("button",{type:"submit",disabled:a,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:a?h.jsxs(h.Fragment,{children:[h.jsx(Ps,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Sh,{className:"-ml-1 mr-2 h-4 w-4"}),"Save Changes"]})})})]})]})}function zO(){const{updatePassword:t}=_e()||{updatePassword:null},[e,n]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[r,s]=w.useState(!1),[i,a]=w.useState({type:"",text:""}),[o,l]=w.useState({}),c=f=>{const{name:p,value:m}=f.target;n(y=>({...y,[p]:m})),o[p]&&l(y=>({...y,[p]:""}))},u=()=>{const f={};return e.currentPassword||(f.currentPassword="Current password is required"),e.newPassword?e.newPassword.length<8&&(f.newPassword="Password must be at least 8 characters"):f.newPassword="New password is required",e.confirmPassword?e.newPassword!==e.confirmPassword&&(f.confirmPassword="Passwords do not match"):f.confirmPassword="Please confirm your new password",l(f),Object.keys(f).length===0},d=async f=>{if(f.preventDefault(),!!u()){s(!0),a({type:"",text:""});try{if(!t)throw new Error("Authentication context not available");const p=await t(e.newPassword);p.success?(a({type:"success",text:"Password updated successfully!"}),n({currentPassword:"",newPassword:"",confirmPassword:""})):a({type:"error",text:`Failed to update password: ${p.error.message}`})}catch(p){console.error("Error updating password:",p),a({type:"error",text:`An unexpected error occurred: ${p.message}`})}finally{s(!1),i.type==="success"&&setTimeout(()=>{a({type:"",text:""})},3e3)}}};return h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center mb-6",children:[h.jsx("div",{className:"bg-red-100 p-3 rounded-full mr-4",children:h.jsx(nv,{className:"h-6 w-6 text-red-600"})}),h.jsx("h2",{className:"text-xl font-medium",children:"Change Password"})]}),h.jsxs("form",{onSubmit:d,children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),h.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:e.currentPassword,onChange:c,className:`mt-1 block w-full border ${o.currentPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),o.currentPassword&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.currentPassword})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),h.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:e.newPassword,onChange:c,className:`mt-1 block w-full border ${o.newPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),o.newPassword&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.newPassword}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Password must be at least 8 characters long."})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),h.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:c,className:`mt-1 block w-full border ${o.confirmPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),o.confirmPassword&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.confirmPassword})]})]}),i.text&&h.jsx("div",{className:`mt-4 p-3 rounded ${i.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:i.text}),h.jsx("div",{className:"mt-6",children:h.jsx("button",{type:"submit",disabled:r,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:r?h.jsxs(h.Fragment,{children:[h.jsx(Ps,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Sh,{className:"-ml-1 mr-2 h-4 w-4"}),"Update Password"]})})})]})]})}function UO(){const{user:t}=_e(),[e,n]=w.useState(null),[r,s]=w.useState(!0),[i,a]=w.useState(null),[o,l]=w.useState(!1),[c,u]=w.useState({type:"",text:""}),[d,f]=w.useState({paypal_email:"",payout_schedule:"instant",minimum_payout_amount:0});w.useEffect(()=>{if(!t){s(!1);return}async function y(){try{s(!0);const{data:x,error:g}=await W.from("payment_settings").select("*").eq("user_id",t.id).single();if(g)if(g.code==="PGRST116"){const v={user_id:t.id,paypal_email:"",stripe_connected:!1,payout_schedule:"instant",minimum_payout_amount:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:b,error:_}=await W.from("payment_settings").insert([v]).select().single();if(_)throw _;n(b),f({paypal_email:b.paypal_email||"",payout_schedule:b.payout_schedule||"instant",minimum_payout_amount:b.minimum_payout_amount||0})}else throw g;else n(x),f({paypal_email:x.paypal_email||"",payout_schedule:x.payout_schedule||"instant",minimum_payout_amount:x.minimum_payout_amount||0})}catch(x){console.error("Error fetching payment settings:",x),a(x)}finally{s(!1)}}y()},[t]);const p=y=>{const{name:x,value:g,type:v}=y.target;f(b=>({...b,[x]:v==="number"?parseFloat(g):g}))},m=async y=>{y.preventDefault(),l(!0),u({type:"",text:""});try{if(!t)throw new Error("User not authenticated");if(!e)throw new Error("Payment settings not loaded");const x={...d,updated_at:new Date().toISOString()},{data:g,error:v}=await W.from("payment_settings").update(x).eq("user_id",t.id).select().single();if(v)throw v;n(g),u({type:"success",text:"Payment settings updated successfully!"})}catch(x){console.error("Error updating payment settings:",x),u({type:"error",text:`Failed to update payment settings: ${x.message}`})}finally{l(!1),c.type==="success"&&setTimeout(()=>{u({type:"",text:""})},3e3)}};return r&&!e?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx(Ps,{className:"w-8 h-8 animate-spin text-blue-500"})}):i&&!e?h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:h.jsx("p",{children:"Error loading payment settings. Please try again."})}):h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center mb-6",children:[h.jsx("div",{className:"bg-green-100 p-3 rounded-full mr-4",children:h.jsx(kh,{className:"h-6 w-6 text-green-600"})}),h.jsx("h2",{className:"text-xl font-medium",children:"Payment Settings"})]}),h.jsxs("form",{onSubmit:m,children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"paypal_email",className:"block text-sm font-medium text-gray-700",children:"PayPal Email"}),h.jsx("input",{type:"email",id:"paypal_email",name:"paypal_email",value:d.paypal_email,onChange:p,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"your.paypal@example.com"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"We'll send your earnings to this PayPal account."})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"payout_schedule",className:"block text-sm font-medium text-gray-700",children:"Payout Schedule"}),h.jsxs("select",{id:"payout_schedule",name:"payout_schedule",value:d.payout_schedule,onChange:p,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"instant",children:"Instant (after each sale)"}),h.jsx("option",{value:"daily",children:"Daily"}),h.jsx("option",{value:"weekly",children:"Weekly"}),h.jsx("option",{value:"monthly",children:"Monthly"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"minimum_payout_amount",className:"block text-sm font-medium text-gray-700",children:"Minimum Payout Amount ($)"}),h.jsx("input",{type:"number",id:"minimum_payout_amount",name:"minimum_payout_amount",value:d.minimum_payout_amount,onChange:p,min:"0",step:"0.01",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"We'll only send payouts when your balance reaches this amount."})]}),h.jsxs("div",{className:"border border-gray-200 rounded-md p-4 bg-gray-50",children:[h.jsx("h3",{className:"text-md font-medium mb-2",children:"Connect with Stripe"}),h.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Accept credit card payments directly on your site by connecting your Stripe account."}),h.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",disabled:e==null?void 0:e.stripe_connected,children:e!=null&&e.stripe_connected?"Connected with Stripe":"Connect with Stripe"})]})]}),c.text&&h.jsx("div",{className:`mt-4 p-3 rounded ${c.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:c.text}),h.jsx("div",{className:"mt-6",children:h.jsx("button",{type:"submit",disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o?h.jsxs(h.Fragment,{children:[h.jsx(Ps,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Sh,{className:"-ml-1 mr-2 h-4 w-4"}),"Save Changes"]})})})]})]})}function BO(...t){return t.filter(Boolean).join(" ")}function WO(){const{user:t,userRole:e}=_e()||{user:null,userRole:null},[n,r]=w.useState(!1),s=[{name:"Profile",icon:h.jsx(rv,{className:"h-5 w-5"})},{name:"Password",icon:h.jsx(nv,{className:"h-5 w-5"})},{name:"Payment",icon:h.jsx(kh,{className:"h-5 w-5"})},{name:"Account",icon:h.jsx(Mp,{className:"h-5 w-5"})}];return h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Settings"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Manage your account settings and preferences"})]}),h.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:h.jsx(gn.Group,{children:h.jsxs("div",{className:"sm:flex",children:[h.jsx(gn.List,{className:"sm:w-64 bg-gray-50 dark:bg-gray-900 p-4 sm:p-0",children:h.jsx("div",{className:"sm:h-full sm:flex sm:flex-col",children:s.map((i,a)=>h.jsxs(gn,{className:({selected:o})=>BO("w-full py-4 px-6 text-left focus:outline-none transition-colors","flex items-center space-x-3",o?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 border-l-4 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[h.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:i.icon}),h.jsx("span",{children:i.name})]},i.name))})}),h.jsxs(gn.Panels,{className:"flex-1 p-6",children:[h.jsx(gn.Panel,{children:h.jsx(FO,{})}),h.jsx(gn.Panel,{children:h.jsx(zO,{})}),h.jsx(gn.Panel,{children:h.jsx(UO,{})}),h.jsx(gn.Panel,{children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center mb-6",children:[h.jsx("div",{className:"bg-purple-100 p-3 rounded-full mr-4",children:h.jsx(Mp,{className:"h-6 w-6 text-purple-600"})}),h.jsx("h2",{className:"text-xl font-medium",children:"Account Information"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Email"}),h.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:t==null?void 0:t.email})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"User Role"}),h.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white capitalize",children:e||"user"})]}),!1]})]})})]})]})})})]})}function HO(){const[t,e]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(!1),{signIn:a}=_e(),o=ma(),l=async c=>{if(c.preventDefault(),!t||!n){xe.error("Please fill in all fields");return}try{i(!0),await a(t,n),xe.success("Logged in successfully!"),o("/dashboard")}catch(u){console.error("Login error:",u),xe.error(u.message||"Failed to log in")}finally{i(!1)}};return h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"card",children:[h.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Log In"}),h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),h.jsx("input",{id:"email",type:"email",value:t,onChange:c=>e(c.target.value),className:"input",placeholder:"your@email.com",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),h.jsx("input",{id:"password",type:"password",value:n,onChange:c=>r(c.target.value),className:"input",placeholder:"",required:!0}),h.jsx("div",{className:"flex justify-end mt-1",children:h.jsx(K,{to:"/forgot-password",className:"text-sm text-primary-600 hover:underline",children:"Forgot password?"})})]}),h.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:s,children:s?h.jsxs("span",{className:"flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Log In"})]}),h.jsx("div",{className:"mt-4 text-center",children:h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",h.jsx(K,{to:"/signup",className:"text-primary-600 hover:underline",children:"Sign up"})]})})]})})}function VO(){const[t,e]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(""),[a,o]=w.useState(!1),[l,c]=w.useState(!1),{signUp:u}=_e(),d=ma(),f=async p=>{if(p.preventDefault(),!t||!n||!s){xe.error("Please fill in all fields");return}if(n!==s){xe.error("Passwords do not match");return}if(n.length<6){xe.error("Password must be at least 6 characters");return}try{o(!0);const{data:m,needsEmailConfirmation:y}=await u(t,n);!y&&m.session?(xe.success("Account created successfully!"),d("/dashboard")):(c(!0),xe.success("Please check your email for a confirmation link"))}catch(m){console.error("Signup error:",m),xe.error(m.message||"Failed to create account")}finally{o(!1)}};return l?h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"card",children:[h.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Check Your Email"}),h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),h.jsxs("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:["We've sent a confirmation link to ",h.jsx("strong",{children:t})]}),h.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Please check your email and click the link to activate your account."})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsx(K,{to:"/login",className:"btn btn-outline w-full",children:"Return to Login"})})]})}):h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"card",children:[h.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Create an Account"}),h.jsxs("form",{onSubmit:f,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),h.jsx("input",{id:"email",type:"email",value:t,onChange:p=>e(p.target.value),className:"input",placeholder:"your@email.com",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),h.jsx("input",{id:"password",type:"password",value:n,onChange:p=>r(p.target.value),className:"input",placeholder:"",required:!0}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 6 characters"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),h.jsx("input",{id:"confirmPassword",type:"password",value:s,onChange:p=>i(p.target.value),className:"input",placeholder:"",required:!0})]}),h.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:a,children:a?h.jsxs("span",{className:"flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Sign Up"})]}),h.jsx("div",{className:"mt-4 text-center",children:h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",h.jsx(K,{to:"/login",className:"text-primary-600 hover:underline",children:"Log in"})]})})]})})}function qO(){const[t,e]=w.useState(""),[n,r]=w.useState(!1),[s,i]=w.useState(!1),{resetPassword:a}=_e(),o=async l=>{if(l.preventDefault(),!t){xe.error("Please enter your email");return}try{r(!0),await a(t),i(!0),xe.success("Password reset email sent")}catch(c){console.error("Reset password error:",c),xe.error(c.message||"Failed to send reset email")}finally{r(!1)}};return s?h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"card",children:[h.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Check Your Email"}),h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),h.jsxs("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:["We've sent a password reset link to ",h.jsx("strong",{children:t})]}),h.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Please check your email and click the link to reset your password."})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsx(K,{to:"/login",className:"btn btn-outline w-full",children:"Return to Login"})})]})}):h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"card",children:[h.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Reset Password"}),h.jsxs("form",{onSubmit:o,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),h.jsx("input",{id:"email",type:"email",value:t,onChange:l=>e(l.target.value),className:"input",placeholder:"your@email.com",required:!0}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"We'll send a password reset link to this email"})]}),h.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:n,children:n?h.jsxs("span",{className:"flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending email..."]}):"Send Reset Link"})]}),h.jsx("div",{className:"mt-4 text-center",children:h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Remember your password?"," ",h.jsx(K,{to:"/login",className:"text-primary-600 hover:underline",children:"Log in"})]})})]})})}function YO(){const[t,e]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(!1),[a,o]=w.useState(!1),{updatePassword:l}=_e(),c=ma();w.useEffect(()=>{const d=window.location.hash;o(d&&d.length>0)},[]);const u=async d=>{if(d.preventDefault(),!t||!n){xe.error("Please fill in all fields");return}if(t!==n){xe.error("Passwords do not match");return}if(t.length<6){xe.error("Password must be at least 6 characters");return}try{i(!0),await l(t),xe.success("Password updated successfully"),c("/login")}catch(f){console.error("Update password error:",f),xe.error(f.message||"Failed to update password")}finally{i(!1)}};return a?h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"card",children:[h.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Set New Password"}),h.jsxs("form",{onSubmit:u,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Password"}),h.jsx("input",{id:"password",type:"password",value:t,onChange:d=>e(d.target.value),className:"input",placeholder:"",required:!0}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 6 characters"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm New Password"}),h.jsx("input",{id:"confirmPassword",type:"password",value:n,onChange:d=>r(d.target.value),className:"input",placeholder:"",required:!0})]}),h.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:s,children:s?h.jsxs("span",{className:"flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating password..."]}):"Update Password"})]})]})}):h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),h.jsx("h1",{className:"text-2xl font-bold mt-4",children:"Invalid Reset Link"})]}),h.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-6",children:"This password reset link is invalid or has expired. Please request a new password reset link."}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{onClick:()=>c("/forgot-password"),className:"btn btn-primary",children:"Request New Link"})})]})})}function KO(){const{user:t}=_e();return h.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-primary-500 to-primary-700 bg-clip-text text-transparent",children:"MyDigitalShelf"}),h.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto",children:"Create, sell, and deliver digital products with ease. Manage your digital inventory, process payments, and automate delivery all in one place."}),h.jsx("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:t?h.jsx(K,{to:"/dashboard",className:"btn btn-primary px-8 py-3 text-lg",children:"Go to Dashboard"}):h.jsxs(h.Fragment,{children:[h.jsx(K,{to:"/register",className:"btn btn-primary px-8 py-3 text-lg",children:"Get Started"}),h.jsx(K,{to:"/login",className:"btn btn-outline px-8 py-3 text-lg",children:"Sign In"})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsx("div",{className:"text-primary-500 mb-4",children:h.jsx(ea,{className:"h-12 w-12"})}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Digital Products"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Sell e-books, courses, software, templates, and any other digital products with secure delivery."})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsx("div",{className:"text-primary-500 mb-4",children:h.jsx(nl,{className:"h-12 w-12"})}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Membership Sites"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create and manage membership sites with recurring payments and protected content access."})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsx("div",{className:"text-primary-500 mb-4",children:h.jsx(Qy,{className:"h-12 w-12"})}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Automated Delivery"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Automatically deliver products to customers after purchase with secure download links."})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsx("div",{className:"text-primary-500 mb-4",children:h.jsx(N2,{className:"h-12 w-12"})}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"License Protection"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Protect your digital products with license keys and download limits to prevent unauthorized sharing."})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsx("div",{className:"text-primary-500 mb-4",children:h.jsx(vh,{className:"h-12 w-12"})}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Sales Analytics"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your sales, revenue, and customer behavior with detailed analytics and reports."})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsx("div",{className:"text-primary-500 mb-4",children:h.jsx(_2,{className:"h-12 w-12"})}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Global Payments"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Accept payments from customers worldwide with multiple payment gateway integrations."})]})]}),h.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-xl p-8 mb-16",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h2",{className:"text-3xl font-bold mb-4",children:"How It Works"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Our platform makes selling digital products simple and straightforward."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"1"}),h.jsx("h3",{className:"font-semibold mb-2",children:"Create Account"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Sign up and set up your seller profile"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"2"}),h.jsx("h3",{className:"font-semibold mb-2",children:"Upload Products"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Add your digital products and set prices"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"3"}),h.jsx("h3",{className:"font-semibold mb-2",children:"Share Your Store"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Promote your products with a custom storefront"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"4"}),h.jsx("h3",{className:"font-semibold mb-2",children:"Get Paid"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Receive payments directly to your account"})]})]})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Ready to start selling?"}),h.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:"Join thousands of creators who are successfully selling digital products online."}),t?h.jsx(K,{to:"/dashboard",className:"btn btn-primary px-8 py-3 text-lg",children:"Go to Dashboard"}):h.jsx(K,{to:"/register",className:"btn btn-primary px-8 py-3 text-lg",children:"Create Your Account"})]})]})}function qr({children:t}){const{user:e,loading:n}=_e();return n?h.jsx("div",{className:"flex justify-center items-center h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):e?t:h.jsx(wy,{to:"/login"})}function GO(){const{loading:t}=_e()||{loading:!0};return t?h.jsx("div",{className:"flex justify-center items-center h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):h.jsx(U1,{children:h.jsxs(Qe,{path:"/",element:h.jsx(PS,{}),children:[h.jsx(Qe,{index:!0,element:h.jsx(KO,{})}),h.jsx(Qe,{path:"login",element:h.jsx(HO,{})}),h.jsx(Qe,{path:"register",element:h.jsx(VO,{})}),h.jsx(Qe,{path:"forgot-password",element:h.jsx(qO,{})}),h.jsx(Qe,{path:"reset-password",element:h.jsx(YO,{})}),h.jsx(Qe,{path:"dashboard",element:h.jsx(qr,{children:h.jsx(RS,{})})}),h.jsx(Qe,{path:"products",element:h.jsx(qr,{children:h.jsx(Bj,{})})}),h.jsx(Qe,{path:"customers",element:h.jsx(qr,{children:h.jsx(Wj,{})})}),h.jsx(Qe,{path:"sales",element:h.jsx(qr,{children:h.jsx(Vj,{})})}),h.jsx(Qe,{path:"analytics",element:h.jsx(qr,{children:h.jsx(yT,{})})}),h.jsx(Qe,{path:"settings",element:h.jsx(qr,{children:h.jsx(WO,{})})}),h.jsx(Qe,{path:"*",element:h.jsx(wy,{to:"/",replace:!0})})]})})}Yc.createRoot(document.getElementById("root")).render(h.jsx(be.StrictMode,{children:h.jsx(G1,{children:h.jsx(y2,{children:h.jsx(GO,{})})})}));
