var Nx=Object.defineProperty;var Cx=(t,e,r)=>e in t?Nx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var A=(t,e,r)=>Cx(t,typeof e!="symbol"?e+"":e,r);function Px(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ex(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Ng={exports:{}},al={},Cg={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ta=Symbol.for("react.element"),Tx=Symbol.for("react.portal"),Ox=Symbol.for("react.fragment"),Dx=Symbol.for("react.strict_mode"),Lx=Symbol.for("react.profiler"),Rx=Symbol.for("react.provider"),Ax=Symbol.for("react.context"),Ix=Symbol.for("react.forward_ref"),Fx=Symbol.for("react.suspense"),$x=Symbol.for("react.memo"),zx=Symbol.for("react.lazy"),jh=Symbol.iterator;function Bx(t){return t===null||typeof t!="object"?null:(t=jh&&t[jh]||t["@@iterator"],typeof t=="function"?t:null)}var Pg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Eg=Object.assign,Mg={};function Ns(t,e,r){this.props=t,this.context=e,this.refs=Mg,this.updater=r||Pg}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ns.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tg(){}Tg.prototype=Ns.prototype;function su(t,e,r){this.props=t,this.context=e,this.refs=Mg,this.updater=r||Pg}var iu=su.prototype=new Tg;iu.constructor=su;Eg(iu,Ns.prototype);iu.isPureReactComponent=!0;var Sh=Array.isArray,Og=Object.prototype.hasOwnProperty,au={current:null},Dg={key:!0,ref:!0,__self:!0,__source:!0};function Lg(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Og.call(e,n)&&!Dg.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:ta,type:t,key:i,ref:a,props:s,_owner:au.current}}function Ux(t,e){return{$$typeof:ta,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ou(t){return typeof t=="object"&&t!==null&&t.$$typeof===ta}function Wx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Nh=/\/+/g;function Ul(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Wx(""+t.key):e.toString(36)}function Za(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ta:case Tx:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+Ul(a,0):n,Sh(s)?(r="",t!=null&&(r=t.replace(Nh,"$&/")+"/"),Za(s,e,r,"",function(d){return d})):s!=null&&(ou(s)&&(s=Ux(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Nh,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",Sh(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+Ul(i,o);a+=Za(i,e,r,c,s)}else if(c=Bx(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+Ul(i,o++),a+=Za(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ga(t,e,r){if(t==null)return t;var n=[],s=0;return Za(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Hx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ke={current:null},eo={transition:null},Vx={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:eo,ReactCurrentOwner:au};function Rg(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:ga,forEach:function(t,e,r){ga(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ga(t,function(){e++}),e},toArray:function(t){return ga(t,function(e){return e})||[]},only:function(t){if(!ou(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=Ns;V.Fragment=Ox;V.Profiler=Lx;V.PureComponent=su;V.StrictMode=Dx;V.Suspense=Fx;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vx;V.act=Rg;V.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Eg({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=au.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)Og.call(e,c)&&!Dg.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:ta,type:t.type,key:s,ref:i,props:n,_owner:a}};V.createContext=function(t){return t={$$typeof:Ax,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Rx,_context:t},t.Consumer=t};V.createElement=Lg;V.createFactory=function(t){var e=Lg.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:Ix,render:t}};V.isValidElement=ou;V.lazy=function(t){return{$$typeof:zx,_payload:{_status:-1,_result:t},_init:Hx}};V.memo=function(t,e){return{$$typeof:$x,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=eo.transition;eo.transition={};try{t()}finally{eo.transition=e}};V.unstable_act=Rg;V.useCallback=function(t,e){return Ke.current.useCallback(t,e)};V.useContext=function(t){return Ke.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return Ke.current.useDeferredValue(t)};V.useEffect=function(t,e){return Ke.current.useEffect(t,e)};V.useId=function(){return Ke.current.useId()};V.useImperativeHandle=function(t,e,r){return Ke.current.useImperativeHandle(t,e,r)};V.useInsertionEffect=function(t,e){return Ke.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return Ke.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return Ke.current.useMemo(t,e)};V.useReducer=function(t,e,r){return Ke.current.useReducer(t,e,r)};V.useRef=function(t){return Ke.current.useRef(t)};V.useState=function(t){return Ke.current.useState(t)};V.useSyncExternalStore=function(t,e,r){return Ke.current.useSyncExternalStore(t,e,r)};V.useTransition=function(){return Ke.current.useTransition()};V.version="18.3.1";Cg.exports=V;var _=Cg.exports;const Pt=Ex(_),qx=Px({__proto__:null,default:Pt},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx=_,Kx=Symbol.for("react.element"),Gx=Symbol.for("react.fragment"),Xx=Object.prototype.hasOwnProperty,Qx=Yx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jx={key:!0,ref:!0,__self:!0,__source:!0};function Ag(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Xx.call(e,n)&&!Jx.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Kx,type:t,key:i,ref:a,props:s,_owner:Qx.current}}al.Fragment=Gx;al.jsx=Ag;al.jsxs=Ag;Ng.exports=al;var l=Ng.exports,Fc={},Ig={exports:{}},ct={},Fg={exports:{}},$g={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,R){var O=T.length;T.push(R);e:for(;0<O;){var G=O-1>>>1,X=T[G];if(0<s(X,R))T[G]=R,T[O]=X,O=G;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var R=T[0],O=T.pop();if(O!==R){T[0]=O;e:for(var G=0,X=T.length,xe=X>>>1;G<xe;){var Se=2*(G+1)-1,qt=T[Se],We=Se+1,ma=T[We];if(0>s(qt,O))We<X&&0>s(ma,qt)?(T[G]=ma,T[We]=O,G=We):(T[G]=qt,T[Se]=O,G=Se);else if(We<X&&0>s(ma,O))T[G]=ma,T[We]=O,G=We;else break e}}return R}function s(T,R){var O=T.sortIndex-R.sortIndex;return O!==0?O:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],d=[],u=1,h=null,f=3,m=!1,g=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(T){for(var R=r(d);R!==null;){if(R.callback===null)n(d);else if(R.startTime<=T)n(d),R.sortIndex=R.expirationTime,e(c,R);else break;R=r(d)}}function w(T){if(p=!1,v(T),!g)if(r(c)!==null)g=!0,q(k);else{var R=r(d);R!==null&&W(w,R.startTime-T)}}function k(T,R){g=!1,p&&(p=!1,y(N),N=-1),m=!0;var O=f;try{for(v(R),h=r(c);h!==null&&(!(h.expirationTime>R)||T&&!E());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var X=G(h.expirationTime<=R);R=t.unstable_now(),typeof X=="function"?h.callback=X:h===r(c)&&n(c),v(R)}else n(c);h=r(c)}if(h!==null)var xe=!0;else{var Se=r(d);Se!==null&&W(w,Se.startTime-R),xe=!1}return xe}finally{h=null,f=O,m=!1}}var j=!1,S=null,N=-1,P=5,C=-1;function E(){return!(t.unstable_now()-C<P)}function L(){if(S!==null){var T=t.unstable_now();C=T;var R=!0;try{R=S(!0,T)}finally{R?K():(j=!1,S=null)}}else j=!1}var K;if(typeof x=="function")K=function(){x(L)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,U=he.port2;he.port1.onmessage=L,K=function(){U.postMessage(null)}}else K=function(){b(L,0)};function q(T){S=T,j||(j=!0,K())}function W(T,R){N=b(function(){T(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,q(k))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var O=f;f=R;try{return T()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var O=f;f=T;try{return R()}finally{f=O}},t.unstable_scheduleCallback=function(T,R,O){var G=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?G+O:G):O=G,T){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=O+X,T={id:u++,callback:R,priorityLevel:T,startTime:O,expirationTime:X,sortIndex:-1},O>G?(T.sortIndex=O,e(d,T),r(c)===null&&T===r(d)&&(p?(y(N),N=-1):p=!0,W(w,O-G))):(T.sortIndex=X,e(c,T),g||m||(g=!0,q(k))),T},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(T){var R=f;return function(){var O=f;f=R;try{return T.apply(this,arguments)}finally{f=O}}}})($g);Fg.exports=$g;var Zx=Fg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev=_,lt=Zx;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zg=new Set,Si={};function En(t,e){us(t,e),us(t+"Capture",e)}function us(t,e){for(Si[t]=e,t=0;t<e.length;t++)zg.add(e[t])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$c=Object.prototype.hasOwnProperty,tv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ch={},Ph={};function rv(t){return $c.call(Ph,t)?!0:$c.call(Ch,t)?!1:tv.test(t)?Ph[t]=!0:(Ch[t]=!0,!1)}function nv(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sv(t,e,r,n){if(e===null||typeof e>"u"||nv(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ge(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Re[t]=new Ge(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Re[e]=new Ge(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Re[t]=new Ge(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Re[t]=new Ge(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Re[t]=new Ge(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Re[t]=new Ge(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Re[t]=new Ge(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Re[t]=new Ge(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Re[t]=new Ge(t,5,!1,t.toLowerCase(),null,!1,!1)});var lu=/[\-:]([a-z])/g;function cu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lu,cu);Re[e]=new Ge(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lu,cu);Re[e]=new Ge(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lu,cu);Re[e]=new Ge(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Re[t]=new Ge(t,1,!1,t.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Re[t]=new Ge(t,1,!1,t.toLowerCase(),null,!0,!0)});function du(t,e,r,n){var s=Re.hasOwnProperty(e)?Re[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sv(e,r,s,n)&&(r=null),n||s===null?rv(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var hr=ev.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pa=Symbol.for("react.element"),Wn=Symbol.for("react.portal"),Hn=Symbol.for("react.fragment"),uu=Symbol.for("react.strict_mode"),zc=Symbol.for("react.profiler"),Bg=Symbol.for("react.provider"),Ug=Symbol.for("react.context"),hu=Symbol.for("react.forward_ref"),Bc=Symbol.for("react.suspense"),Uc=Symbol.for("react.suspense_list"),fu=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),Wg=Symbol.for("react.offscreen"),Eh=Symbol.iterator;function Rs(t){return t===null||typeof t!="object"?null:(t=Eh&&t[Eh]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,Wl;function Qs(t){if(Wl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Wl=e&&e[1]||""}return`
`+Wl+t}var Hl=!1;function Vl(t,e){if(!t||Hl)return"";Hl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{Hl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Qs(t):""}function iv(t){switch(t.tag){case 5:return Qs(t.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return t=Vl(t.type,!1),t;case 11:return t=Vl(t.type.render,!1),t;case 1:return t=Vl(t.type,!0),t;default:return""}}function Wc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hn:return"Fragment";case Wn:return"Portal";case zc:return"Profiler";case uu:return"StrictMode";case Bc:return"Suspense";case Uc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ug:return(t.displayName||"Context")+".Consumer";case Bg:return(t._context.displayName||"Context")+".Provider";case hu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fu:return e=t.displayName||null,e!==null?e:Wc(t.type)||"Memo";case br:e=t._payload,t=t._init;try{return Wc(t(e))}catch{}}return null}function av(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wc(e);case 8:return e===uu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ov(t){var e=Hg(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ya(t){t._valueTracker||(t._valueTracker=ov(t))}function Vg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Hg(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function bo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hc(t,e){var r=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Mh(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Hr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qg(t,e){e=e.checked,e!=null&&du(t,"checked",e,!1)}function Vc(t,e){qg(t,e);var r=Hr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qc(t,e.type,r):e.hasOwnProperty("defaultValue")&&qc(t,e.type,Hr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Th(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function qc(t,e,r){(e!=="number"||bo(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Js=Array.isArray;function ts(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Hr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oh(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(M(92));if(Js(r)){if(1<r.length)throw Error(M(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Hr(r)}}function Yg(t,e){var r=Hr(e.value),n=Hr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Dh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xa,Gg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xa=xa||document.createElement("div"),xa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ni(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lv=["Webkit","ms","Moz","O"];Object.keys(li).forEach(function(t){lv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),li[e]=li[t]})});function Xg(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||li.hasOwnProperty(t)&&li[t]?(""+e).trim():e+"px"}function Qg(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Xg(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var cv=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gc(t,e){if(e){if(cv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function Xc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=null;function mu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jc=null,rs=null,ns=null;function Lh(t){if(t=sa(t)){if(typeof Jc!="function")throw Error(M(280));var e=t.stateNode;e&&(e=ul(e),Jc(t.stateNode,t.type,e))}}function Jg(t){rs?ns?ns.push(t):ns=[t]:rs=t}function Zg(){if(rs){var t=rs,e=ns;if(ns=rs=null,Lh(t),e)for(t=0;t<e.length;t++)Lh(e[t])}}function ep(t,e){return t(e)}function tp(){}var ql=!1;function rp(t,e,r){if(ql)return t(e,r);ql=!0;try{return ep(t,e,r)}finally{ql=!1,(rs!==null||ns!==null)&&(tp(),Zg())}}function Ci(t,e){var r=t.stateNode;if(r===null)return null;var n=ul(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(M(231,e,typeof r));return r}var Zc=!1;if(ar)try{var As={};Object.defineProperty(As,"passive",{get:function(){Zc=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Zc=!1}function dv(t,e,r,n,s,i,a,o,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var ci=!1,wo=null,ko=!1,ed=null,uv={onError:function(t){ci=!0,wo=t}};function hv(t,e,r,n,s,i,a,o,c){ci=!1,wo=null,dv.apply(uv,arguments)}function fv(t,e,r,n,s,i,a,o,c){if(hv.apply(this,arguments),ci){if(ci){var d=wo;ci=!1,wo=null}else throw Error(M(198));ko||(ko=!0,ed=d)}}function Mn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function np(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rh(t){if(Mn(t)!==t)throw Error(M(188))}function mv(t){var e=t.alternate;if(!e){if(e=Mn(t),e===null)throw Error(M(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Rh(s),t;if(i===n)return Rh(s),e;i=i.sibling}throw Error(M(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(M(189))}}if(r.alternate!==n)throw Error(M(190))}if(r.tag!==3)throw Error(M(188));return r.stateNode.current===r?t:e}function sp(t){return t=mv(t),t!==null?ip(t):null}function ip(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ip(t);if(e!==null)return e;t=t.sibling}return null}var ap=lt.unstable_scheduleCallback,Ah=lt.unstable_cancelCallback,gv=lt.unstable_shouldYield,pv=lt.unstable_requestPaint,ke=lt.unstable_now,yv=lt.unstable_getCurrentPriorityLevel,gu=lt.unstable_ImmediatePriority,op=lt.unstable_UserBlockingPriority,_o=lt.unstable_NormalPriority,xv=lt.unstable_LowPriority,lp=lt.unstable_IdlePriority,ol=null,Ut=null;function vv(t){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(ol,t,void 0,(t.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:kv,bv=Math.log,wv=Math.LN2;function kv(t){return t>>>=0,t===0?32:31-(bv(t)/wv|0)|0}var va=64,ba=4194304;function Zs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jo(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Zs(o):(i&=a,i!==0&&(n=Zs(i)))}else a=r&~s,a!==0?n=Zs(a):i!==0&&(n=Zs(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Et(e),s=1<<r,n|=t[r],e&=~s;return n}function _v(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jv(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Et(i),o=1<<a,c=s[a];c===-1?(!(o&r)||o&n)&&(s[a]=_v(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function td(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cp(){var t=va;return va<<=1,!(va&4194240)&&(va=64),t}function Yl(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ra(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Et(e),t[e]=r}function Sv(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Et(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function pu(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Et(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ne=0;function dp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var up,yu,hp,fp,mp,rd=!1,wa=[],Dr=null,Lr=null,Rr=null,Pi=new Map,Ei=new Map,_r=[],Nv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ih(t,e){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Pi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(e.pointerId)}}function Is(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=sa(e),e!==null&&yu(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Cv(t,e,r,n,s){switch(e){case"focusin":return Dr=Is(Dr,t,e,r,n,s),!0;case"dragenter":return Lr=Is(Lr,t,e,r,n,s),!0;case"mouseover":return Rr=Is(Rr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Pi.set(i,Is(Pi.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ei.set(i,Is(Ei.get(i)||null,t,e,r,n,s)),!0}return!1}function gp(t){var e=un(t.target);if(e!==null){var r=Mn(e);if(r!==null){if(e=r.tag,e===13){if(e=np(r),e!==null){t.blockedOn=e,mp(t.priority,function(){hp(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function to(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=nd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Qc=n,r.target.dispatchEvent(n),Qc=null}else return e=sa(r),e!==null&&yu(e),t.blockedOn=r,!1;e.shift()}return!0}function Fh(t,e,r){to(t)&&r.delete(e)}function Pv(){rd=!1,Dr!==null&&to(Dr)&&(Dr=null),Lr!==null&&to(Lr)&&(Lr=null),Rr!==null&&to(Rr)&&(Rr=null),Pi.forEach(Fh),Ei.forEach(Fh)}function Fs(t,e){t.blockedOn===e&&(t.blockedOn=null,rd||(rd=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,Pv)))}function Mi(t){function e(s){return Fs(s,t)}if(0<wa.length){Fs(wa[0],t);for(var r=1;r<wa.length;r++){var n=wa[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Dr!==null&&Fs(Dr,t),Lr!==null&&Fs(Lr,t),Rr!==null&&Fs(Rr,t),Pi.forEach(e),Ei.forEach(e),r=0;r<_r.length;r++)n=_r[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<_r.length&&(r=_r[0],r.blockedOn===null);)gp(r),r.blockedOn===null&&_r.shift()}var ss=hr.ReactCurrentBatchConfig,So=!0;function Ev(t,e,r,n){var s=ne,i=ss.transition;ss.transition=null;try{ne=1,xu(t,e,r,n)}finally{ne=s,ss.transition=i}}function Mv(t,e,r,n){var s=ne,i=ss.transition;ss.transition=null;try{ne=4,xu(t,e,r,n)}finally{ne=s,ss.transition=i}}function xu(t,e,r,n){if(So){var s=nd(t,e,r,n);if(s===null)nc(t,e,n,No,r),Ih(t,n);else if(Cv(s,t,e,r,n))n.stopPropagation();else if(Ih(t,n),e&4&&-1<Nv.indexOf(t)){for(;s!==null;){var i=sa(s);if(i!==null&&up(i),i=nd(t,e,r,n),i===null&&nc(t,e,n,No,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else nc(t,e,n,null,r)}}var No=null;function nd(t,e,r,n){if(No=null,t=mu(n),t=un(t),t!==null)if(e=Mn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=np(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return No=t,null}function pp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yv()){case gu:return 1;case op:return 4;case _o:case xv:return 16;case lp:return 536870912;default:return 16}default:return 16}}var Cr=null,vu=null,ro=null;function yp(){if(ro)return ro;var t,e=vu,r=e.length,n,s="value"in Cr?Cr.value:Cr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return ro=s.slice(t,1<n?1-n:void 0)}function no(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ka(){return!0}function $h(){return!1}function dt(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ka:$h,this.isPropagationStopped=$h,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),e}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bu=dt(Cs),na=ye({},Cs,{view:0,detail:0}),Tv=dt(na),Kl,Gl,$s,ll=ye({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$s&&($s&&t.type==="mousemove"?(Kl=t.screenX-$s.screenX,Gl=t.screenY-$s.screenY):Gl=Kl=0,$s=t),Kl)},movementY:function(t){return"movementY"in t?t.movementY:Gl}}),zh=dt(ll),Ov=ye({},ll,{dataTransfer:0}),Dv=dt(Ov),Lv=ye({},na,{relatedTarget:0}),Xl=dt(Lv),Rv=ye({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Av=dt(Rv),Iv=ye({},Cs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fv=dt(Iv),$v=ye({},Cs,{data:0}),Bh=dt($v),zv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Uv[t])?!!e[t]:!1}function wu(){return Wv}var Hv=ye({},na,{key:function(t){if(t.key){var e=zv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=no(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wu,charCode:function(t){return t.type==="keypress"?no(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?no(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vv=dt(Hv),qv=ye({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uh=dt(qv),Yv=ye({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wu}),Kv=dt(Yv),Gv=ye({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xv=dt(Gv),Qv=ye({},ll,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jv=dt(Qv),Zv=[9,13,27,32],ku=ar&&"CompositionEvent"in window,di=null;ar&&"documentMode"in document&&(di=document.documentMode);var eb=ar&&"TextEvent"in window&&!di,xp=ar&&(!ku||di&&8<di&&11>=di),Wh=" ",Hh=!1;function vp(t,e){switch(t){case"keyup":return Zv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vn=!1;function tb(t,e){switch(t){case"compositionend":return bp(e);case"keypress":return e.which!==32?null:(Hh=!0,Wh);case"textInput":return t=e.data,t===Wh&&Hh?null:t;default:return null}}function rb(t,e){if(Vn)return t==="compositionend"||!ku&&vp(t,e)?(t=yp(),ro=vu=Cr=null,Vn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xp&&e.locale!=="ko"?null:e.data;default:return null}}var nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nb[t.type]:e==="textarea"}function wp(t,e,r,n){Jg(n),e=Co(e,"onChange"),0<e.length&&(r=new bu("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ui=null,Ti=null;function sb(t){Op(t,0)}function cl(t){var e=Kn(t);if(Vg(e))return t}function ib(t,e){if(t==="change")return e}var kp=!1;if(ar){var Ql;if(ar){var Jl="oninput"in document;if(!Jl){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),Jl=typeof qh.oninput=="function"}Ql=Jl}else Ql=!1;kp=Ql&&(!document.documentMode||9<document.documentMode)}function Yh(){ui&&(ui.detachEvent("onpropertychange",_p),Ti=ui=null)}function _p(t){if(t.propertyName==="value"&&cl(Ti)){var e=[];wp(e,Ti,t,mu(t)),rp(sb,e)}}function ab(t,e,r){t==="focusin"?(Yh(),ui=e,Ti=r,ui.attachEvent("onpropertychange",_p)):t==="focusout"&&Yh()}function ob(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cl(Ti)}function lb(t,e){if(t==="click")return cl(e)}function cb(t,e){if(t==="input"||t==="change")return cl(e)}function db(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ot=typeof Object.is=="function"?Object.is:db;function Oi(t,e){if(Ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!$c.call(e,s)||!Ot(t[s],e[s]))return!1}return!0}function Kh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gh(t,e){var r=Kh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kh(r)}}function jp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sp(){for(var t=window,e=bo();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=bo(t.document)}return e}function _u(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ub(t){var e=Sp(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&jp(r.ownerDocument.documentElement,r)){if(n!==null&&_u(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Gh(r,i);var a=Gh(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hb=ar&&"documentMode"in document&&11>=document.documentMode,qn=null,sd=null,hi=null,id=!1;function Xh(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;id||qn==null||qn!==bo(n)||(n=qn,"selectionStart"in n&&_u(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hi&&Oi(hi,n)||(hi=n,n=Co(sd,"onSelect"),0<n.length&&(e=new bu("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=qn)))}function _a(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Yn={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionend:_a("Transition","TransitionEnd")},Zl={},Np={};ar&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function dl(t){if(Zl[t])return Zl[t];if(!Yn[t])return t;var e=Yn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Np)return Zl[t]=e[r];return t}var Cp=dl("animationend"),Pp=dl("animationiteration"),Ep=dl("animationstart"),Mp=dl("transitionend"),Tp=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(t,e){Tp.set(t,e),En(e,[t])}for(var ec=0;ec<Qh.length;ec++){var tc=Qh[ec],fb=tc.toLowerCase(),mb=tc[0].toUpperCase()+tc.slice(1);Yr(fb,"on"+mb)}Yr(Cp,"onAnimationEnd");Yr(Pp,"onAnimationIteration");Yr(Ep,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(Mp,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ei));function Jh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,fv(n,e,void 0,t),t.currentTarget=null}function Op(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Jh(s,o,d),i=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Jh(s,o,d),i=c}}}if(ko)throw t=ed,ko=!1,ed=null,t}function le(t,e){var r=e[dd];r===void 0&&(r=e[dd]=new Set);var n=t+"__bubble";r.has(n)||(Dp(e,t,2,!1),r.add(n))}function rc(t,e,r){var n=0;e&&(n|=4),Dp(r,t,n,e)}var ja="_reactListening"+Math.random().toString(36).slice(2);function Di(t){if(!t[ja]){t[ja]=!0,zg.forEach(function(r){r!=="selectionchange"&&(gb.has(r)||rc(r,!1,t),rc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ja]||(e[ja]=!0,rc("selectionchange",!1,e))}}function Dp(t,e,r,n){switch(pp(e)){case 1:var s=Ev;break;case 4:s=Mv;break;default:s=xu}r=s.bind(null,e,r,t),s=void 0,!Zc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function nc(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=un(o),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}o=o.parentNode}}n=n.return}rp(function(){var d=i,u=mu(r),h=[];e:{var f=Tp.get(t);if(f!==void 0){var m=bu,g=t;switch(t){case"keypress":if(no(r)===0)break e;case"keydown":case"keyup":m=Vv;break;case"focusin":g="focus",m=Xl;break;case"focusout":g="blur",m=Xl;break;case"beforeblur":case"afterblur":m=Xl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Kv;break;case Cp:case Pp:case Ep:m=Av;break;case Mp:m=Xv;break;case"scroll":m=Tv;break;case"wheel":m=Jv;break;case"copy":case"cut":case"paste":m=Fv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Uh}var p=(e&4)!==0,b=!p&&t==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var x=d,v;x!==null;){v=x;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,y!==null&&(w=Ci(x,y),w!=null&&p.push(Li(x,w,v)))),b)break;x=x.return}0<p.length&&(f=new m(f,g,null,r,u),h.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==Qc&&(g=r.relatedTarget||r.fromElement)&&(un(g)||g[or]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=d,g=g?un(g):null,g!==null&&(b=Mn(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=d),m!==g)){if(p=zh,w="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(p=Uh,w="onPointerLeave",y="onPointerEnter",x="pointer"),b=m==null?f:Kn(m),v=g==null?f:Kn(g),f=new p(w,x+"leave",m,r,u),f.target=b,f.relatedTarget=v,w=null,un(u)===d&&(p=new p(y,x+"enter",g,r,u),p.target=v,p.relatedTarget=b,w=p),b=w,m&&g)t:{for(p=m,y=g,x=0,v=p;v;v=Rn(v))x++;for(v=0,w=y;w;w=Rn(w))v++;for(;0<x-v;)p=Rn(p),x--;for(;0<v-x;)y=Rn(y),v--;for(;x--;){if(p===y||y!==null&&p===y.alternate)break t;p=Rn(p),y=Rn(y)}p=null}else p=null;m!==null&&Zh(h,f,m,p,!1),g!==null&&b!==null&&Zh(h,b,g,p,!0)}}e:{if(f=d?Kn(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=ib;else if(Vh(f))if(kp)k=cb;else{k=ob;var j=ab}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=lb);if(k&&(k=k(t,d))){wp(h,k,r,u);break e}j&&j(t,f,d),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&qc(f,"number",f.value)}switch(j=d?Kn(d):window,t){case"focusin":(Vh(j)||j.contentEditable==="true")&&(qn=j,sd=d,hi=null);break;case"focusout":hi=sd=qn=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,Xh(h,r,u);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":Xh(h,r,u)}var S;if(ku)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Vn?vp(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(xp&&r.locale!=="ko"&&(Vn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Vn&&(S=yp()):(Cr=u,vu="value"in Cr?Cr.value:Cr.textContent,Vn=!0)),j=Co(d,N),0<j.length&&(N=new Bh(N,t,null,r,u),h.push({event:N,listeners:j}),S?N.data=S:(S=bp(r),S!==null&&(N.data=S)))),(S=eb?tb(t,r):rb(t,r))&&(d=Co(d,"onBeforeInput"),0<d.length&&(u=new Bh("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=S))}Op(h,e)})}function Li(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Co(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ci(t,r),i!=null&&n.unshift(Li(t,i,s)),i=Ci(t,e),i!=null&&n.push(Li(t,i,s))),t=t.return}return n}function Rn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zh(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,s?(c=Ci(r,i),c!=null&&a.unshift(Li(r,c,o))):s||(c=Ci(r,i),c!=null&&a.push(Li(r,c,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var pb=/\r\n?/g,yb=/\u0000|\uFFFD/g;function ef(t){return(typeof t=="string"?t:""+t).replace(pb,`
`).replace(yb,"")}function Sa(t,e,r){if(e=ef(e),ef(t)!==e&&r)throw Error(M(425))}function Po(){}var ad=null,od=null;function ld(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cd=typeof setTimeout=="function"?setTimeout:void 0,xb=typeof clearTimeout=="function"?clearTimeout:void 0,tf=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof tf<"u"?function(t){return tf.resolve(null).then(t).catch(bb)}:cd;function bb(t){setTimeout(function(){throw t})}function sc(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Mi(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Mi(e)}function Ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Ps,Ri="__reactProps$"+Ps,or="__reactContainer$"+Ps,dd="__reactEvents$"+Ps,wb="__reactListeners$"+Ps,kb="__reactHandles$"+Ps;function un(t){var e=t[Bt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[or]||r[Bt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=rf(t);t!==null;){if(r=t[Bt])return r;t=rf(t)}return e}t=r,r=t.parentNode}return null}function sa(t){return t=t[Bt]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function ul(t){return t[Ri]||null}var ud=[],Gn=-1;function Kr(t){return{current:t}}function de(t){0>Gn||(t.current=ud[Gn],ud[Gn]=null,Gn--)}function ae(t,e){Gn++,ud[Gn]=t.current,t.current=e}var Vr={},Ue=Kr(Vr),rt=Kr(!1),wn=Vr;function hs(t,e){var r=t.type.contextTypes;if(!r)return Vr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function nt(t){return t=t.childContextTypes,t!=null}function Eo(){de(rt),de(Ue)}function nf(t,e,r){if(Ue.current!==Vr)throw Error(M(168));ae(Ue,e),ae(rt,r)}function Lp(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(M(108,av(t)||"Unknown",s));return ye({},r,n)}function Mo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vr,wn=Ue.current,ae(Ue,t),ae(rt,rt.current),!0}function sf(t,e,r){var n=t.stateNode;if(!n)throw Error(M(169));r?(t=Lp(t,e,wn),n.__reactInternalMemoizedMergedChildContext=t,de(rt),de(Ue),ae(Ue,t)):de(rt),ae(rt,r)}var Zt=null,hl=!1,ic=!1;function Rp(t){Zt===null?Zt=[t]:Zt.push(t)}function _b(t){hl=!0,Rp(t)}function Gr(){if(!ic&&Zt!==null){ic=!0;var t=0,e=ne;try{var r=Zt;for(ne=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Zt=null,hl=!1}catch(s){throw Zt!==null&&(Zt=Zt.slice(t+1)),ap(gu,Gr),s}finally{ne=e,ic=!1}}return null}var Xn=[],Qn=0,To=null,Oo=0,ft=[],mt=0,kn=null,tr=1,rr="";function nn(t,e){Xn[Qn++]=Oo,Xn[Qn++]=To,To=t,Oo=e}function Ap(t,e,r){ft[mt++]=tr,ft[mt++]=rr,ft[mt++]=kn,kn=t;var n=tr;t=rr;var s=32-Et(n)-1;n&=~(1<<s),r+=1;var i=32-Et(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,tr=1<<32-Et(e)+s|r<<s|n,rr=i+t}else tr=1<<i|r<<s|n,rr=t}function ju(t){t.return!==null&&(nn(t,1),Ap(t,1,0))}function Su(t){for(;t===To;)To=Xn[--Qn],Xn[Qn]=null,Oo=Xn[--Qn],Xn[Qn]=null;for(;t===kn;)kn=ft[--mt],ft[mt]=null,rr=ft[--mt],ft[mt]=null,tr=ft[--mt],ft[mt]=null}var ot=null,at=null,fe=!1,Ct=null;function Ip(t,e){var r=gt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function af(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ot=t,at=Ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ot=t,at=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=kn!==null?{id:tr,overflow:rr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=gt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ot=t,at=null,!0):!1;default:return!1}}function hd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fd(t){if(fe){var e=at;if(e){var r=e;if(!af(t,e)){if(hd(t))throw Error(M(418));e=Ar(r.nextSibling);var n=ot;e&&af(t,e)?Ip(n,r):(t.flags=t.flags&-4097|2,fe=!1,ot=t)}}else{if(hd(t))throw Error(M(418));t.flags=t.flags&-4097|2,fe=!1,ot=t}}}function of(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ot=t}function Na(t){if(t!==ot)return!1;if(!fe)return of(t),fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ld(t.type,t.memoizedProps)),e&&(e=at)){if(hd(t))throw Fp(),Error(M(418));for(;e;)Ip(t,e),e=Ar(e.nextSibling)}if(of(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){at=Ar(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}at=null}}else at=ot?Ar(t.stateNode.nextSibling):null;return!0}function Fp(){for(var t=at;t;)t=Ar(t.nextSibling)}function fs(){at=ot=null,fe=!1}function Nu(t){Ct===null?Ct=[t]:Ct.push(t)}var jb=hr.ReactCurrentBatchConfig;function zs(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(M(309));var n=r.stateNode}if(!n)throw Error(M(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(M(284));if(!r._owner)throw Error(M(290,t))}return t}function Ca(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lf(t){var e=t._init;return e(t._payload)}function $p(t){function e(y,x){if(t){var v=y.deletions;v===null?(y.deletions=[x],y.flags|=16):v.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=zr(y,x),y.index=0,y.sibling=null,y}function i(y,x,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<x?(y.flags|=2,x):v):(y.flags|=2,x)):(y.flags|=1048576,x)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,x,v,w){return x===null||x.tag!==6?(x=hc(v,y.mode,w),x.return=y,x):(x=s(x,v),x.return=y,x)}function c(y,x,v,w){var k=v.type;return k===Hn?u(y,x,v.props.children,w,v.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===br&&lf(k)===x.type)?(w=s(x,v.props),w.ref=zs(y,x,v),w.return=y,w):(w=uo(v.type,v.key,v.props,null,y.mode,w),w.ref=zs(y,x,v),w.return=y,w)}function d(y,x,v,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=fc(v,y.mode,w),x.return=y,x):(x=s(x,v.children||[]),x.return=y,x)}function u(y,x,v,w,k){return x===null||x.tag!==7?(x=yn(v,y.mode,w,k),x.return=y,x):(x=s(x,v),x.return=y,x)}function h(y,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=hc(""+x,y.mode,v),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case pa:return v=uo(x.type,x.key,x.props,null,y.mode,v),v.ref=zs(y,null,x),v.return=y,v;case Wn:return x=fc(x,y.mode,v),x.return=y,x;case br:var w=x._init;return h(y,w(x._payload),v)}if(Js(x)||Rs(x))return x=yn(x,y.mode,v,null),x.return=y,x;Ca(y,x)}return null}function f(y,x,v,w){var k=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:o(y,x,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pa:return v.key===k?c(y,x,v,w):null;case Wn:return v.key===k?d(y,x,v,w):null;case br:return k=v._init,f(y,x,k(v._payload),w)}if(Js(v)||Rs(v))return k!==null?null:u(y,x,v,w,null);Ca(y,v)}return null}function m(y,x,v,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(v)||null,o(x,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pa:return y=y.get(w.key===null?v:w.key)||null,c(x,y,w,k);case Wn:return y=y.get(w.key===null?v:w.key)||null,d(x,y,w,k);case br:var j=w._init;return m(y,x,v,j(w._payload),k)}if(Js(w)||Rs(w))return y=y.get(v)||null,u(x,y,w,k,null);Ca(x,w)}return null}function g(y,x,v,w){for(var k=null,j=null,S=x,N=x=0,P=null;S!==null&&N<v.length;N++){S.index>N?(P=S,S=null):P=S.sibling;var C=f(y,S,v[N],w);if(C===null){S===null&&(S=P);break}t&&S&&C.alternate===null&&e(y,S),x=i(C,x,N),j===null?k=C:j.sibling=C,j=C,S=P}if(N===v.length)return r(y,S),fe&&nn(y,N),k;if(S===null){for(;N<v.length;N++)S=h(y,v[N],w),S!==null&&(x=i(S,x,N),j===null?k=S:j.sibling=S,j=S);return fe&&nn(y,N),k}for(S=n(y,S);N<v.length;N++)P=m(S,y,N,v[N],w),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?N:P.key),x=i(P,x,N),j===null?k=P:j.sibling=P,j=P);return t&&S.forEach(function(E){return e(y,E)}),fe&&nn(y,N),k}function p(y,x,v,w){var k=Rs(v);if(typeof k!="function")throw Error(M(150));if(v=k.call(v),v==null)throw Error(M(151));for(var j=k=null,S=x,N=x=0,P=null,C=v.next();S!==null&&!C.done;N++,C=v.next()){S.index>N?(P=S,S=null):P=S.sibling;var E=f(y,S,C.value,w);if(E===null){S===null&&(S=P);break}t&&S&&E.alternate===null&&e(y,S),x=i(E,x,N),j===null?k=E:j.sibling=E,j=E,S=P}if(C.done)return r(y,S),fe&&nn(y,N),k;if(S===null){for(;!C.done;N++,C=v.next())C=h(y,C.value,w),C!==null&&(x=i(C,x,N),j===null?k=C:j.sibling=C,j=C);return fe&&nn(y,N),k}for(S=n(y,S);!C.done;N++,C=v.next())C=m(S,y,N,C.value,w),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?N:C.key),x=i(C,x,N),j===null?k=C:j.sibling=C,j=C);return t&&S.forEach(function(L){return e(y,L)}),fe&&nn(y,N),k}function b(y,x,v,w){if(typeof v=="object"&&v!==null&&v.type===Hn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case pa:e:{for(var k=v.key,j=x;j!==null;){if(j.key===k){if(k=v.type,k===Hn){if(j.tag===7){r(y,j.sibling),x=s(j,v.props.children),x.return=y,y=x;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===br&&lf(k)===j.type){r(y,j.sibling),x=s(j,v.props),x.ref=zs(y,j,v),x.return=y,y=x;break e}r(y,j);break}else e(y,j);j=j.sibling}v.type===Hn?(x=yn(v.props.children,y.mode,w,v.key),x.return=y,y=x):(w=uo(v.type,v.key,v.props,null,y.mode,w),w.ref=zs(y,x,v),w.return=y,y=w)}return a(y);case Wn:e:{for(j=v.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){r(y,x.sibling),x=s(x,v.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=fc(v,y.mode,w),x.return=y,y=x}return a(y);case br:return j=v._init,b(y,x,j(v._payload),w)}if(Js(v))return g(y,x,v,w);if(Rs(v))return p(y,x,v,w);Ca(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,v),x.return=y,y=x):(r(y,x),x=hc(v,y.mode,w),x.return=y,y=x),a(y)):r(y,x)}return b}var ms=$p(!0),zp=$p(!1),Do=Kr(null),Lo=null,Jn=null,Cu=null;function Pu(){Cu=Jn=Lo=null}function Eu(t){var e=Do.current;de(Do),t._currentValue=e}function md(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function is(t,e){Lo=t,Cu=Jn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tt=!0),t.firstContext=null)}function vt(t){var e=t._currentValue;if(Cu!==t)if(t={context:t,memoizedValue:e,next:null},Jn===null){if(Lo===null)throw Error(M(308));Jn=t,Lo.dependencies={lanes:0,firstContext:t}}else Jn=Jn.next=t;return e}var hn=null;function Mu(t){hn===null?hn=[t]:hn.push(t)}function Bp(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Mu(e)):(r.next=s.next,s.next=r),e.interleaved=r,lr(t,n)}function lr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var wr=!1;function Tu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Up(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Q&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,lr(t,r)}return s=n.interleaved,s===null?(e.next=e,Mu(n)):(e.next=s.next,s.next=e),n.interleaved=e,lr(t,r)}function so(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,pu(t,r)}}function cf(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ro(t,e,r,n){var s=t.updateQueue;wr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,u=d=c=null,o=i;do{var f=o.lane,m=o.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,p=o;switch(f=e,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=ye({},h,f);break e;case 2:wr=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);jn|=a,t.lanes=a,t.memoizedState=h}}function df(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(M(191,s));s.call(n)}}}var ia={},Wt=Kr(ia),Ai=Kr(ia),Ii=Kr(ia);function fn(t){if(t===ia)throw Error(M(174));return t}function Ou(t,e){switch(ae(Ii,e),ae(Ai,t),ae(Wt,ia),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kc(e,t)}de(Wt),ae(Wt,e)}function gs(){de(Wt),de(Ai),de(Ii)}function Wp(t){fn(Ii.current);var e=fn(Wt.current),r=Kc(e,t.type);e!==r&&(ae(Ai,t),ae(Wt,r))}function Du(t){Ai.current===t&&(de(Wt),de(Ai))}var me=Kr(0);function Ao(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ac=[];function Lu(){for(var t=0;t<ac.length;t++)ac[t]._workInProgressVersionPrimary=null;ac.length=0}var io=hr.ReactCurrentDispatcher,oc=hr.ReactCurrentBatchConfig,_n=0,ge=null,Ne=null,Te=null,Io=!1,fi=!1,Fi=0,Sb=0;function Ae(){throw Error(M(321))}function Ru(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ot(t[r],e[r]))return!1;return!0}function Au(t,e,r,n,s,i){if(_n=i,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,io.current=t===null||t.memoizedState===null?Eb:Mb,t=r(n,s),fi){i=0;do{if(fi=!1,Fi=0,25<=i)throw Error(M(301));i+=1,Te=Ne=null,e.updateQueue=null,io.current=Tb,t=r(n,s)}while(fi)}if(io.current=Fo,e=Ne!==null&&Ne.next!==null,_n=0,Te=Ne=ge=null,Io=!1,e)throw Error(M(300));return t}function Iu(){var t=Fi!==0;return Fi=0,t}function $t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?ge.memoizedState=Te=t:Te=Te.next=t,Te}function bt(){if(Ne===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var e=Te===null?ge.memoizedState:Te.next;if(e!==null)Te=e,Ne=t;else{if(t===null)throw Error(M(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Te===null?ge.memoizedState=Te=t:Te=Te.next=t}return Te}function $i(t,e){return typeof e=="function"?e(t):e}function lc(t){var e=bt(),r=e.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=t;var n=Ne,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,c=null,d=i;do{var u=d.lane;if((_n&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,a=n):c=c.next=h,ge.lanes|=u,jn|=u}d=d.next}while(d!==null&&d!==i);c===null?a=n:c.next=o,Ot(n,e.memoizedState)||(tt=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ge.lanes|=i,jn|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function cc(t){var e=bt(),r=e.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Ot(i,e.memoizedState)||(tt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Hp(){}function Vp(t,e){var r=ge,n=bt(),s=e(),i=!Ot(n.memoizedState,s);if(i&&(n.memoizedState=s,tt=!0),n=n.queue,Fu(Kp.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Te!==null&&Te.memoizedState.tag&1){if(r.flags|=2048,zi(9,Yp.bind(null,r,n,s,e),void 0,null),Oe===null)throw Error(M(349));_n&30||qp(r,e,s)}return s}function qp(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Yp(t,e,r,n){e.value=r,e.getSnapshot=n,Gp(e)&&Xp(t)}function Kp(t,e,r){return r(function(){Gp(e)&&Xp(t)})}function Gp(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ot(t,r)}catch{return!0}}function Xp(t){var e=lr(t,1);e!==null&&Mt(e,t,1,-1)}function uf(t){var e=$t();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},e.queue=t,t=t.dispatch=Pb.bind(null,ge,t),[e.memoizedState,t]}function zi(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Qp(){return bt().memoizedState}function ao(t,e,r,n){var s=$t();ge.flags|=t,s.memoizedState=zi(1|e,r,void 0,n===void 0?null:n)}function fl(t,e,r,n){var s=bt();n=n===void 0?null:n;var i=void 0;if(Ne!==null){var a=Ne.memoizedState;if(i=a.destroy,n!==null&&Ru(n,a.deps)){s.memoizedState=zi(e,r,i,n);return}}ge.flags|=t,s.memoizedState=zi(1|e,r,i,n)}function hf(t,e){return ao(8390656,8,t,e)}function Fu(t,e){return fl(2048,8,t,e)}function Jp(t,e){return fl(4,2,t,e)}function Zp(t,e){return fl(4,4,t,e)}function e0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function t0(t,e,r){return r=r!=null?r.concat([t]):null,fl(4,4,e0.bind(null,e,t),r)}function $u(){}function r0(t,e){var r=bt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ru(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function n0(t,e){var r=bt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ru(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function s0(t,e,r){return _n&21?(Ot(r,e)||(r=cp(),ge.lanes|=r,jn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tt=!0),t.memoizedState=r)}function Nb(t,e){var r=ne;ne=r!==0&&4>r?r:4,t(!0);var n=oc.transition;oc.transition={};try{t(!1),e()}finally{ne=r,oc.transition=n}}function i0(){return bt().memoizedState}function Cb(t,e,r){var n=$r(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},a0(t))o0(e,r);else if(r=Bp(t,e,r,n),r!==null){var s=Ye();Mt(r,t,n,s),l0(r,e,n)}}function Pb(t,e,r){var n=$r(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(a0(t))o0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Ot(o,a)){var c=e.interleaved;c===null?(s.next=s,Mu(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Bp(t,e,s,n),r!==null&&(s=Ye(),Mt(r,t,n,s),l0(r,e,n))}}function a0(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function o0(t,e){fi=Io=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function l0(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,pu(t,r)}}var Fo={readContext:vt,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},Eb={readContext:vt,useCallback:function(t,e){return $t().memoizedState=[t,e===void 0?null:e],t},useContext:vt,useEffect:hf,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ao(4194308,4,e0.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ao(4194308,4,t,e)},useInsertionEffect:function(t,e){return ao(4,2,t,e)},useMemo:function(t,e){var r=$t();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=$t();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Cb.bind(null,ge,t),[n.memoizedState,t]},useRef:function(t){var e=$t();return t={current:t},e.memoizedState=t},useState:uf,useDebugValue:$u,useDeferredValue:function(t){return $t().memoizedState=t},useTransition:function(){var t=uf(!1),e=t[0];return t=Nb.bind(null,t[1]),$t().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ge,s=$t();if(fe){if(r===void 0)throw Error(M(407));r=r()}else{if(r=e(),Oe===null)throw Error(M(349));_n&30||qp(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,hf(Kp.bind(null,n,i,t),[t]),n.flags|=2048,zi(9,Yp.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=$t(),e=Oe.identifierPrefix;if(fe){var r=rr,n=tr;r=(n&~(1<<32-Et(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Fi++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Sb++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mb={readContext:vt,useCallback:r0,useContext:vt,useEffect:Fu,useImperativeHandle:t0,useInsertionEffect:Jp,useLayoutEffect:Zp,useMemo:n0,useReducer:lc,useRef:Qp,useState:function(){return lc($i)},useDebugValue:$u,useDeferredValue:function(t){var e=bt();return s0(e,Ne.memoizedState,t)},useTransition:function(){var t=lc($i)[0],e=bt().memoizedState;return[t,e]},useMutableSource:Hp,useSyncExternalStore:Vp,useId:i0,unstable_isNewReconciler:!1},Tb={readContext:vt,useCallback:r0,useContext:vt,useEffect:Fu,useImperativeHandle:t0,useInsertionEffect:Jp,useLayoutEffect:Zp,useMemo:n0,useReducer:cc,useRef:Qp,useState:function(){return cc($i)},useDebugValue:$u,useDeferredValue:function(t){var e=bt();return Ne===null?e.memoizedState=t:s0(e,Ne.memoizedState,t)},useTransition:function(){var t=cc($i)[0],e=bt().memoizedState;return[t,e]},useMutableSource:Hp,useSyncExternalStore:Vp,useId:i0,unstable_isNewReconciler:!1};function jt(t,e){if(t&&t.defaultProps){e=ye({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function gd(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ye({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ml={isMounted:function(t){return(t=t._reactInternals)?Mn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ye(),s=$r(t),i=sr(n,s);i.payload=e,r!=null&&(i.callback=r),e=Ir(t,i,s),e!==null&&(Mt(e,t,s,n),so(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ye(),s=$r(t),i=sr(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ir(t,i,s),e!==null&&(Mt(e,t,s,n),so(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ye(),n=$r(t),s=sr(r,n);s.tag=2,e!=null&&(s.callback=e),e=Ir(t,s,n),e!==null&&(Mt(e,t,n,r),so(e,t,n))}};function ff(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!Oi(r,n)||!Oi(s,i):!0}function c0(t,e,r){var n=!1,s=Vr,i=e.contextType;return typeof i=="object"&&i!==null?i=vt(i):(s=nt(e)?wn:Ue.current,n=e.contextTypes,i=(n=n!=null)?hs(t,s):Vr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ml,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function mf(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ml.enqueueReplaceState(e,e.state,null)}function pd(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Tu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=vt(i):(i=nt(e)?wn:Ue.current,s.context=hs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(gd(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ml.enqueueReplaceState(s,s.state,null),Ro(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ps(t,e){try{var r="",n=e;do r+=iv(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function dc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function yd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Ob=typeof WeakMap=="function"?WeakMap:Map;function d0(t,e,r){r=sr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){zo||(zo=!0,Cd=n),yd(t,e)},r}function u0(t,e,r){r=sr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){yd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){yd(t,e),typeof n!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function gf(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Ob;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=qb.bind(null,t,e,r),e.then(t,t))}function pf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yf(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=sr(-1,1),e.tag=2,Ir(r,e,1))),r.lanes|=1),t)}var Db=hr.ReactCurrentOwner,tt=!1;function Ve(t,e,r,n){e.child=t===null?zp(e,null,r,n):ms(e,t.child,r,n)}function xf(t,e,r,n,s){r=r.render;var i=e.ref;return is(e,s),n=Au(t,e,r,n,i,s),r=Iu(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cr(t,e,s)):(fe&&r&&ju(e),e.flags|=1,Ve(t,e,n,s),e.child)}function vf(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Yu(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,h0(t,e,i,n,s)):(t=uo(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Oi,r(a,n)&&t.ref===e.ref)return cr(t,e,s)}return e.flags|=1,t=zr(i,n),t.ref=e.ref,t.return=e,e.child=t}function h0(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Oi(i,n)&&t.ref===e.ref)if(tt=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(tt=!0);else return e.lanes=t.lanes,cr(t,e,s)}return xd(t,e,r,n,s)}function f0(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(es,it),it|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(es,it),it|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ae(es,it),it|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ae(es,it),it|=n;return Ve(t,e,s,r),e.child}function m0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function xd(t,e,r,n,s){var i=nt(r)?wn:Ue.current;return i=hs(e,i),is(e,s),r=Au(t,e,r,n,i,s),n=Iu(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cr(t,e,s)):(fe&&n&&ju(e),e.flags|=1,Ve(t,e,r,s),e.child)}function bf(t,e,r,n,s){if(nt(r)){var i=!0;Mo(e)}else i=!1;if(is(e,s),e.stateNode===null)oo(t,e),c0(e,r,n),pd(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=vt(d):(d=nt(r)?wn:Ue.current,d=hs(e,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==d)&&mf(e,a,n,d),wr=!1;var f=e.memoizedState;a.state=f,Ro(e,n,a,s),c=e.memoizedState,o!==n||f!==c||rt.current||wr?(typeof u=="function"&&(gd(e,r,u,n),c=e.memoizedState),(o=wr||ff(e,r,o,n,f,c,d))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=d,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Up(t,e),o=e.memoizedProps,d=e.type===e.elementType?o:jt(e.type,o),a.props=d,h=e.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=vt(c):(c=nt(r)?wn:Ue.current,c=hs(e,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==c)&&mf(e,a,n,c),wr=!1,f=e.memoizedState,a.state=f,Ro(e,n,a,s);var g=e.memoizedState;o!==h||f!==g||rt.current||wr?(typeof m=="function"&&(gd(e,r,m,n),g=e.memoizedState),(d=wr||ff(e,r,d,n,f,g,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return vd(t,e,r,n,i,s)}function vd(t,e,r,n,s,i){m0(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&sf(e,r,!1),cr(t,e,i);n=e.stateNode,Db.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=ms(e,t.child,null,i),e.child=ms(e,null,o,i)):Ve(t,e,o,i),e.memoizedState=n.state,s&&sf(e,r,!0),e.child}function g0(t){var e=t.stateNode;e.pendingContext?nf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nf(t,e.context,!1),Ou(t,e.containerInfo)}function wf(t,e,r,n,s){return fs(),Nu(s),e.flags|=256,Ve(t,e,r,n),e.child}var bd={dehydrated:null,treeContext:null,retryLane:0};function wd(t){return{baseLanes:t,cachePool:null,transitions:null}}function p0(t,e,r){var n=e.pendingProps,s=me.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ae(me,s&1),t===null)return fd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=yl(a,n,0,null),t=yn(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=wd(r),e.memoizedState=bd,t):zu(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Lb(t,e,a,n,o,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=zr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=zr(o,i):(i=yn(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?wd(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=bd,n}return i=t.child,t=i.sibling,n=zr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function zu(t,e){return e=yl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pa(t,e,r,n){return n!==null&&Nu(n),ms(e,t.child,null,r),t=zu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lb(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=dc(Error(M(422))),Pa(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=yl({mode:"visible",children:n.children},s,0,null),i=yn(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&ms(e,t.child,null,a),e.child.memoizedState=wd(a),e.memoizedState=bd,i);if(!(e.mode&1))return Pa(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(M(419)),n=dc(i,n,void 0),Pa(t,e,a,n)}if(o=(a&t.childLanes)!==0,tt||o){if(n=Oe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,lr(t,s),Mt(n,t,s,-1))}return qu(),n=dc(Error(M(421))),Pa(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Yb.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,at=Ar(s.nextSibling),ot=e,fe=!0,Ct=null,t!==null&&(ft[mt++]=tr,ft[mt++]=rr,ft[mt++]=kn,tr=t.id,rr=t.overflow,kn=e),e=zu(e,n.children),e.flags|=4096,e)}function kf(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),md(t.return,e,r)}function uc(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function y0(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ve(t,e,n.children,r),n=me.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kf(t,r,e);else if(t.tag===19)kf(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ae(me,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ao(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),uc(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ao(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}uc(e,!0,r,null,i);break;case"together":uc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),jn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,r=zr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=zr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Rb(t,e,r){switch(e.tag){case 3:g0(e),fs();break;case 5:Wp(e);break;case 1:nt(e.type)&&Mo(e);break;case 4:Ou(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ae(Do,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ae(me,me.current&1),e.flags|=128,null):r&e.child.childLanes?p0(t,e,r):(ae(me,me.current&1),t=cr(t,e,r),t!==null?t.sibling:null);ae(me,me.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return y0(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(me,me.current),n)break;return null;case 22:case 23:return e.lanes=0,f0(t,e,r)}return cr(t,e,r)}var x0,kd,v0,b0;x0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kd=function(){};v0=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,fn(Wt.current);var i=null;switch(r){case"input":s=Hc(t,s),n=Hc(t,n),i=[];break;case"select":s=ye({},s,{value:void 0}),n=ye({},n,{value:void 0}),i=[];break;case"textarea":s=Yc(t,s),n=Yc(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Po)}Gc(r,n);var a;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Si.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Si.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&le("scroll",t),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};b0=function(t,e,r,n){r!==n&&(e.flags|=4)};function Bs(t,e){if(!fe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ie(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Ab(t,e,r){var n=e.pendingProps;switch(Su(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(e),null;case 1:return nt(e.type)&&Eo(),Ie(e),null;case 3:return n=e.stateNode,gs(),de(rt),de(Ue),Lu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Na(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ct!==null&&(Md(Ct),Ct=null))),kd(t,e),Ie(e),null;case 5:Du(e);var s=fn(Ii.current);if(r=e.type,t!==null&&e.stateNode!=null)v0(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(M(166));return Ie(e),null}if(t=fn(Wt.current),Na(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Bt]=e,n[Ri]=i,t=(e.mode&1)!==0,r){case"dialog":le("cancel",n),le("close",n);break;case"iframe":case"object":case"embed":le("load",n);break;case"video":case"audio":for(s=0;s<ei.length;s++)le(ei[s],n);break;case"source":le("error",n);break;case"img":case"image":case"link":le("error",n),le("load",n);break;case"details":le("toggle",n);break;case"input":Mh(n,i),le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},le("invalid",n);break;case"textarea":Oh(n,i),le("invalid",n)}Gc(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Sa(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Sa(n.textContent,o,t),s=["children",""+o]):Si.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&le("scroll",n)}switch(r){case"input":ya(n),Th(n,i,!0);break;case"textarea":ya(n),Dh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Po)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kg(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Bt]=e,t[Ri]=n,x0(t,e,!1,!1),e.stateNode=t;e:{switch(a=Xc(r,n),r){case"dialog":le("cancel",t),le("close",t),s=n;break;case"iframe":case"object":case"embed":le("load",t),s=n;break;case"video":case"audio":for(s=0;s<ei.length;s++)le(ei[s],t);s=n;break;case"source":le("error",t),s=n;break;case"img":case"image":case"link":le("error",t),le("load",t),s=n;break;case"details":le("toggle",t),s=n;break;case"input":Mh(t,n),s=Hc(t,n),le("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ye({},n,{value:void 0}),le("invalid",t);break;case"textarea":Oh(t,n),s=Yc(t,n),le("invalid",t);break;default:s=n}Gc(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Qg(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gg(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ni(t,c):typeof c=="number"&&Ni(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Si.hasOwnProperty(i)?c!=null&&i==="onScroll"&&le("scroll",t):c!=null&&du(t,i,c,a))}switch(r){case"input":ya(t),Th(t,n,!1);break;case"textarea":ya(t),Dh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Hr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ts(t,!!n.multiple,i,!1):n.defaultValue!=null&&ts(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Po)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ie(e),null;case 6:if(t&&e.stateNode!=null)b0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(M(166));if(r=fn(Ii.current),fn(Wt.current),Na(e)){if(n=e.stateNode,r=e.memoizedProps,n[Bt]=e,(i=n.nodeValue!==r)&&(t=ot,t!==null))switch(t.tag){case 3:Sa(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sa(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bt]=e,e.stateNode=n}return Ie(e),null;case 13:if(de(me),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fe&&at!==null&&e.mode&1&&!(e.flags&128))Fp(),fs(),e.flags|=98560,i=!1;else if(i=Na(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(M(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[Bt]=e}else fs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ie(e),i=!1}else Ct!==null&&(Md(Ct),Ct=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||me.current&1?Pe===0&&(Pe=3):qu())),e.updateQueue!==null&&(e.flags|=4),Ie(e),null);case 4:return gs(),kd(t,e),t===null&&Di(e.stateNode.containerInfo),Ie(e),null;case 10:return Eu(e.type._context),Ie(e),null;case 17:return nt(e.type)&&Eo(),Ie(e),null;case 19:if(de(me),i=e.memoizedState,i===null)return Ie(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Bs(i,!1);else{if(Pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ao(t),a!==null){for(e.flags|=128,Bs(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ae(me,me.current&1|2),e.child}t=t.sibling}i.tail!==null&&ke()>ys&&(e.flags|=128,n=!0,Bs(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ao(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Bs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!fe)return Ie(e),null}else 2*ke()-i.renderingStartTime>ys&&r!==1073741824&&(e.flags|=128,n=!0,Bs(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ke(),e.sibling=null,r=me.current,ae(me,n?r&1|2:r&1),e):(Ie(e),null);case 22:case 23:return Vu(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?it&1073741824&&(Ie(e),e.subtreeFlags&6&&(e.flags|=8192)):Ie(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function Ib(t,e){switch(Su(e),e.tag){case 1:return nt(e.type)&&Eo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gs(),de(rt),de(Ue),Lu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Du(e),null;case 13:if(de(me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(me),null;case 4:return gs(),null;case 10:return Eu(e.type._context),null;case 22:case 23:return Vu(),null;case 24:return null;default:return null}}var Ea=!1,$e=!1,Fb=typeof WeakSet=="function"?WeakSet:Set,D=null;function Zn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ve(t,e,n)}else r.current=null}function _d(t,e,r){try{r()}catch(n){ve(t,e,n)}}var _f=!1;function $b(t,e){if(ad=So,t=Sp(),_u(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++d===s&&(o=a),f===i&&++u===n&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(od={focusedElem:t,selectionRange:r},So=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,b=g.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:jt(e.type,p),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(w){ve(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return g=_f,_f=!1,g}function mi(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_d(e,r,i)}s=s.next}while(s!==n)}}function gl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function jd(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function w0(t){var e=t.alternate;e!==null&&(t.alternate=null,w0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bt],delete e[Ri],delete e[dd],delete e[wb],delete e[kb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function k0(t){return t.tag===5||t.tag===3||t.tag===4}function jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Po));else if(n!==4&&(t=t.child,t!==null))for(Sd(t,e,r),t=t.sibling;t!==null;)Sd(t,e,r),t=t.sibling}function Nd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Nd(t,e,r),t=t.sibling;t!==null;)Nd(t,e,r),t=t.sibling}var De=null,St=!1;function mr(t,e,r){for(r=r.child;r!==null;)_0(t,e,r),r=r.sibling}function _0(t,e,r){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(ol,r)}catch{}switch(r.tag){case 5:$e||Zn(r,e);case 6:var n=De,s=St;De=null,mr(t,e,r),De=n,St=s,De!==null&&(St?(t=De,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):De.removeChild(r.stateNode));break;case 18:De!==null&&(St?(t=De,r=r.stateNode,t.nodeType===8?sc(t.parentNode,r):t.nodeType===1&&sc(t,r),Mi(t)):sc(De,r.stateNode));break;case 4:n=De,s=St,De=r.stateNode.containerInfo,St=!0,mr(t,e,r),De=n,St=s;break;case 0:case 11:case 14:case 15:if(!$e&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&_d(r,e,a),s=s.next}while(s!==n)}mr(t,e,r);break;case 1:if(!$e&&(Zn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ve(r,e,o)}mr(t,e,r);break;case 21:mr(t,e,r);break;case 22:r.mode&1?($e=(n=$e)||r.memoizedState!==null,mr(t,e,r),$e=n):mr(t,e,r);break;default:mr(t,e,r)}}function Sf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Fb),e.forEach(function(n){var s=Kb.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function _t(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:De=o.stateNode,St=!1;break e;case 3:De=o.stateNode.containerInfo,St=!0;break e;case 4:De=o.stateNode.containerInfo,St=!0;break e}o=o.return}if(De===null)throw Error(M(160));_0(i,a,s),De=null,St=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ve(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)j0(e,t),e=e.sibling}function j0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_t(e,t),Rt(t),n&4){try{mi(3,t,t.return),gl(3,t)}catch(p){ve(t,t.return,p)}try{mi(5,t,t.return)}catch(p){ve(t,t.return,p)}}break;case 1:_t(e,t),Rt(t),n&512&&r!==null&&Zn(r,r.return);break;case 5:if(_t(e,t),Rt(t),n&512&&r!==null&&Zn(r,r.return),t.flags&32){var s=t.stateNode;try{Ni(s,"")}catch(p){ve(t,t.return,p)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&qg(s,i),Xc(o,a);var d=Xc(o,i);for(a=0;a<c.length;a+=2){var u=c[a],h=c[a+1];u==="style"?Qg(s,h):u==="dangerouslySetInnerHTML"?Gg(s,h):u==="children"?Ni(s,h):du(s,u,h,d)}switch(o){case"input":Vc(s,i);break;case"textarea":Yg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ts(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?ts(s,!!i.multiple,i.defaultValue,!0):ts(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ri]=i}catch(p){ve(t,t.return,p)}}break;case 6:if(_t(e,t),Rt(t),n&4){if(t.stateNode===null)throw Error(M(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(p){ve(t,t.return,p)}}break;case 3:if(_t(e,t),Rt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mi(e.containerInfo)}catch(p){ve(t,t.return,p)}break;case 4:_t(e,t),Rt(t);break;case 13:_t(e,t),Rt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wu=ke())),n&4&&Sf(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?($e=(d=$e)||u,_t(e,t),$e=d):_t(e,t),Rt(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(D=t,u=t.child;u!==null;){for(h=D=u;D!==null;){switch(f=D,m=f.child,f.tag){case 0:case 11:case 14:case 15:mi(4,f,f.return);break;case 1:Zn(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){ve(n,r,p)}}break;case 5:Zn(f,f.return);break;case 22:if(f.memoizedState!==null){Cf(h);continue}}m!==null?(m.return=f,D=m):Cf(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Xg("display",a))}catch(p){ve(t,t.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){ve(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_t(e,t),Rt(t),n&4&&Sf(t);break;case 21:break;default:_t(e,t),Rt(t)}}function Rt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(k0(r)){var n=r;break e}r=r.return}throw Error(M(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ni(s,""),n.flags&=-33);var i=jf(t);Nd(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=jf(t);Sd(t,o,a);break;default:throw Error(M(161))}}catch(c){ve(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zb(t,e,r){D=t,S0(t)}function S0(t,e,r){for(var n=(t.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ea;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||$e;o=Ea;var d=$e;if(Ea=a,($e=c)&&!d)for(D=s;D!==null;)a=D,c=a.child,a.tag===22&&a.memoizedState!==null?Pf(s):c!==null?(c.return=a,D=c):Pf(s);for(;i!==null;)D=i,S0(i),i=i.sibling;D=s,Ea=o,$e=d}Nf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Nf(t)}}function Nf(t){for(;D!==null;){var e=D;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$e||gl(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!$e)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:jt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&df(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}df(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Mi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}$e||e.flags&512&&jd(e)}catch(f){ve(e,e.return,f)}}if(e===t){D=null;break}if(r=e.sibling,r!==null){r.return=e.return,D=r;break}D=e.return}}function Cf(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var r=e.sibling;if(r!==null){r.return=e.return,D=r;break}D=e.return}}function Pf(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{gl(4,e)}catch(c){ve(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){ve(e,s,c)}}var i=e.return;try{jd(e)}catch(c){ve(e,i,c)}break;case 5:var a=e.return;try{jd(e)}catch(c){ve(e,a,c)}}}catch(c){ve(e,e.return,c)}if(e===t){D=null;break}var o=e.sibling;if(o!==null){o.return=e.return,D=o;break}D=e.return}}var Bb=Math.ceil,$o=hr.ReactCurrentDispatcher,Bu=hr.ReactCurrentOwner,yt=hr.ReactCurrentBatchConfig,Q=0,Oe=null,je=null,Le=0,it=0,es=Kr(0),Pe=0,Bi=null,jn=0,pl=0,Uu=0,gi=null,Je=null,Wu=0,ys=1/0,Qt=null,zo=!1,Cd=null,Fr=null,Ma=!1,Pr=null,Bo=0,pi=0,Pd=null,lo=-1,co=0;function Ye(){return Q&6?ke():lo!==-1?lo:lo=ke()}function $r(t){return t.mode&1?Q&2&&Le!==0?Le&-Le:jb.transition!==null?(co===0&&(co=cp()),co):(t=ne,t!==0||(t=window.event,t=t===void 0?16:pp(t.type)),t):1}function Mt(t,e,r,n){if(50<pi)throw pi=0,Pd=null,Error(M(185));ra(t,r,n),(!(Q&2)||t!==Oe)&&(t===Oe&&(!(Q&2)&&(pl|=r),Pe===4&&jr(t,Le)),st(t,n),r===1&&Q===0&&!(e.mode&1)&&(ys=ke()+500,hl&&Gr()))}function st(t,e){var r=t.callbackNode;jv(t,e);var n=jo(t,t===Oe?Le:0);if(n===0)r!==null&&Ah(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ah(r),e===1)t.tag===0?_b(Ef.bind(null,t)):Rp(Ef.bind(null,t)),vb(function(){!(Q&6)&&Gr()}),r=null;else{switch(dp(n)){case 1:r=gu;break;case 4:r=op;break;case 16:r=_o;break;case 536870912:r=lp;break;default:r=_o}r=D0(r,N0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function N0(t,e){if(lo=-1,co=0,Q&6)throw Error(M(327));var r=t.callbackNode;if(as()&&t.callbackNode!==r)return null;var n=jo(t,t===Oe?Le:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Uo(t,n);else{e=n;var s=Q;Q|=2;var i=P0();(Oe!==t||Le!==e)&&(Qt=null,ys=ke()+500,pn(t,e));do try{Hb();break}catch(o){C0(t,o)}while(!0);Pu(),$o.current=i,Q=s,je!==null?e=0:(Oe=null,Le=0,e=Pe)}if(e!==0){if(e===2&&(s=td(t),s!==0&&(n=s,e=Ed(t,s))),e===1)throw r=Bi,pn(t,0),jr(t,n),st(t,ke()),r;if(e===6)jr(t,n);else{if(s=t.current.alternate,!(n&30)&&!Ub(s)&&(e=Uo(t,n),e===2&&(i=td(t),i!==0&&(n=i,e=Ed(t,i))),e===1))throw r=Bi,pn(t,0),jr(t,n),st(t,ke()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(M(345));case 2:sn(t,Je,Qt);break;case 3:if(jr(t,n),(n&130023424)===n&&(e=Wu+500-ke(),10<e)){if(jo(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ye(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=cd(sn.bind(null,t,Je,Qt),e);break}sn(t,Je,Qt);break;case 4:if(jr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Et(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Bb(n/1960))-n,10<n){t.timeoutHandle=cd(sn.bind(null,t,Je,Qt),n);break}sn(t,Je,Qt);break;case 5:sn(t,Je,Qt);break;default:throw Error(M(329))}}}return st(t,ke()),t.callbackNode===r?N0.bind(null,t):null}function Ed(t,e){var r=gi;return t.current.memoizedState.isDehydrated&&(pn(t,e).flags|=256),t=Uo(t,e),t!==2&&(e=Je,Je=r,e!==null&&Md(e)),t}function Md(t){Je===null?Je=t:Je.push.apply(Je,t)}function Ub(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ot(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jr(t,e){for(e&=~Uu,e&=~pl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Et(e),n=1<<r;t[r]=-1,e&=~n}}function Ef(t){if(Q&6)throw Error(M(327));as();var e=jo(t,0);if(!(e&1))return st(t,ke()),null;var r=Uo(t,e);if(t.tag!==0&&r===2){var n=td(t);n!==0&&(e=n,r=Ed(t,n))}if(r===1)throw r=Bi,pn(t,0),jr(t,e),st(t,ke()),r;if(r===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sn(t,Je,Qt),st(t,ke()),null}function Hu(t,e){var r=Q;Q|=1;try{return t(e)}finally{Q=r,Q===0&&(ys=ke()+500,hl&&Gr())}}function Sn(t){Pr!==null&&Pr.tag===0&&!(Q&6)&&as();var e=Q;Q|=1;var r=yt.transition,n=ne;try{if(yt.transition=null,ne=1,t)return t()}finally{ne=n,yt.transition=r,Q=e,!(Q&6)&&Gr()}}function Vu(){it=es.current,de(es)}function pn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,xb(r)),je!==null)for(r=je.return;r!==null;){var n=r;switch(Su(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Eo();break;case 3:gs(),de(rt),de(Ue),Lu();break;case 5:Du(n);break;case 4:gs();break;case 13:de(me);break;case 19:de(me);break;case 10:Eu(n.type._context);break;case 22:case 23:Vu()}r=r.return}if(Oe=t,je=t=zr(t.current,null),Le=it=e,Pe=0,Bi=null,Uu=pl=jn=0,Je=gi=null,hn!==null){for(e=0;e<hn.length;e++)if(r=hn[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}hn=null}return t}function C0(t,e){do{var r=je;try{if(Pu(),io.current=Fo,Io){for(var n=ge.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Io=!1}if(_n=0,Te=Ne=ge=null,fi=!1,Fi=0,Bu.current=null,r===null||r.return===null){Pe=1,Bi=e,je=null;break}e:{var i=t,a=r.return,o=r,c=e;if(e=Le,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=pf(a);if(m!==null){m.flags&=-257,yf(m,a,o,i,e),m.mode&1&&gf(i,d,e),e=m,c=d;var g=e.updateQueue;if(g===null){var p=new Set;p.add(c),e.updateQueue=p}else g.add(c);break e}else{if(!(e&1)){gf(i,d,e),qu();break e}c=Error(M(426))}}else if(fe&&o.mode&1){var b=pf(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),yf(b,a,o,i,e),Nu(ps(c,o));break e}}i=c=ps(c,o),Pe!==4&&(Pe=2),gi===null?gi=[i]:gi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=d0(i,c,e);cf(i,y);break e;case 1:o=c;var x=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Fr===null||!Fr.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=u0(i,o,e);cf(i,w);break e}}i=i.return}while(i!==null)}M0(r)}catch(k){e=k,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function P0(){var t=$o.current;return $o.current=Fo,t===null?Fo:t}function qu(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Oe===null||!(jn&268435455)&&!(pl&268435455)||jr(Oe,Le)}function Uo(t,e){var r=Q;Q|=2;var n=P0();(Oe!==t||Le!==e)&&(Qt=null,pn(t,e));do try{Wb();break}catch(s){C0(t,s)}while(!0);if(Pu(),Q=r,$o.current=n,je!==null)throw Error(M(261));return Oe=null,Le=0,Pe}function Wb(){for(;je!==null;)E0(je)}function Hb(){for(;je!==null&&!gv();)E0(je)}function E0(t){var e=O0(t.alternate,t,it);t.memoizedProps=t.pendingProps,e===null?M0(t):je=e,Bu.current=null}function M0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Ib(r,e),r!==null){r.flags&=32767,je=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pe=6,je=null;return}}else if(r=Ab(r,e,it),r!==null){je=r;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);Pe===0&&(Pe=5)}function sn(t,e,r){var n=ne,s=yt.transition;try{yt.transition=null,ne=1,Vb(t,e,r,n)}finally{yt.transition=s,ne=n}return null}function Vb(t,e,r,n){do as();while(Pr!==null);if(Q&6)throw Error(M(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Sv(t,i),t===Oe&&(je=Oe=null,Le=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ma||(Ma=!0,D0(_o,function(){return as(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=yt.transition,yt.transition=null;var a=ne;ne=1;var o=Q;Q|=4,Bu.current=null,$b(t,r),j0(r,t),ub(od),So=!!ad,od=ad=null,t.current=r,zb(r),pv(),Q=o,ne=a,yt.transition=i}else t.current=r;if(Ma&&(Ma=!1,Pr=t,Bo=s),i=t.pendingLanes,i===0&&(Fr=null),vv(r.stateNode),st(t,ke()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(zo)throw zo=!1,t=Cd,Cd=null,t;return Bo&1&&t.tag!==0&&as(),i=t.pendingLanes,i&1?t===Pd?pi++:(pi=0,Pd=t):pi=0,Gr(),null}function as(){if(Pr!==null){var t=dp(Bo),e=yt.transition,r=ne;try{if(yt.transition=null,ne=16>t?16:t,Pr===null)var n=!1;else{if(t=Pr,Pr=null,Bo=0,Q&6)throw Error(M(331));var s=Q;for(Q|=4,D=t.current;D!==null;){var i=D,a=i.child;if(D.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(D=d;D!==null;){var u=D;switch(u.tag){case 0:case 11:case 15:mi(8,u,i)}var h=u.child;if(h!==null)h.return=u,D=h;else for(;D!==null;){u=D;var f=u.sibling,m=u.return;if(w0(u),u===d){D=null;break}if(f!==null){f.return=m,D=f;break}D=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}D=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,D=a;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mi(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,D=y;break e}D=i.return}}var x=t.current;for(D=x;D!==null;){a=D;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,D=v;else e:for(a=x;D!==null;){if(o=D,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:gl(9,o)}}catch(k){ve(o,o.return,k)}if(o===a){D=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,D=w;break e}D=o.return}}if(Q=s,Gr(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(ol,t)}catch{}n=!0}return n}finally{ne=r,yt.transition=e}}return!1}function Mf(t,e,r){e=ps(r,e),e=d0(t,e,1),t=Ir(t,e,1),e=Ye(),t!==null&&(ra(t,1,e),st(t,e))}function ve(t,e,r){if(t.tag===3)Mf(t,t,r);else for(;e!==null;){if(e.tag===3){Mf(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fr===null||!Fr.has(n))){t=ps(r,t),t=u0(e,t,1),e=Ir(e,t,1),t=Ye(),e!==null&&(ra(e,1,t),st(e,t));break}}e=e.return}}function qb(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ye(),t.pingedLanes|=t.suspendedLanes&r,Oe===t&&(Le&r)===r&&(Pe===4||Pe===3&&(Le&130023424)===Le&&500>ke()-Wu?pn(t,0):Uu|=r),st(t,e)}function T0(t,e){e===0&&(t.mode&1?(e=ba,ba<<=1,!(ba&130023424)&&(ba=4194304)):e=1);var r=Ye();t=lr(t,e),t!==null&&(ra(t,e,r),st(t,r))}function Yb(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),T0(t,r)}function Kb(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(M(314))}n!==null&&n.delete(e),T0(t,r)}var O0;O0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||rt.current)tt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return tt=!1,Rb(t,e,r);tt=!!(t.flags&131072)}else tt=!1,fe&&e.flags&1048576&&Ap(e,Oo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;oo(t,e),t=e.pendingProps;var s=hs(e,Ue.current);is(e,r),s=Au(null,e,n,t,s,r);var i=Iu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nt(n)?(i=!0,Mo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Tu(e),s.updater=ml,e.stateNode=s,s._reactInternals=e,pd(e,n,t,r),e=vd(null,e,n,!0,i,r)):(e.tag=0,fe&&i&&ju(e),Ve(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(oo(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Xb(n),t=jt(n,t),s){case 0:e=xd(null,e,n,t,r);break e;case 1:e=bf(null,e,n,t,r);break e;case 11:e=xf(null,e,n,t,r);break e;case 14:e=vf(null,e,n,jt(n.type,t),r);break e}throw Error(M(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:jt(n,s),xd(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:jt(n,s),bf(t,e,n,s,r);case 3:e:{if(g0(e),t===null)throw Error(M(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Up(t,e),Ro(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ps(Error(M(423)),e),e=wf(t,e,n,r,s);break e}else if(n!==s){s=ps(Error(M(424)),e),e=wf(t,e,n,r,s);break e}else for(at=Ar(e.stateNode.containerInfo.firstChild),ot=e,fe=!0,Ct=null,r=zp(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fs(),n===s){e=cr(t,e,r);break e}Ve(t,e,n,r)}e=e.child}return e;case 5:return Wp(e),t===null&&fd(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,ld(n,s)?a=null:i!==null&&ld(n,i)&&(e.flags|=32),m0(t,e),Ve(t,e,a,r),e.child;case 6:return t===null&&fd(e),null;case 13:return p0(t,e,r);case 4:return Ou(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ms(e,null,n,r):Ve(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:jt(n,s),xf(t,e,n,s,r);case 7:return Ve(t,e,e.pendingProps,r),e.child;case 8:return Ve(t,e,e.pendingProps.children,r),e.child;case 12:return Ve(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,ae(Do,n._currentValue),n._currentValue=a,i!==null)if(Ot(i.value,a)){if(i.children===s.children&&!rt.current){e=cr(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=sr(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),md(i.return,r,e),o.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(M(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),md(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ve(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,is(e,r),s=vt(s),n=n(s),e.flags|=1,Ve(t,e,n,r),e.child;case 14:return n=e.type,s=jt(n,e.pendingProps),s=jt(n.type,s),vf(t,e,n,s,r);case 15:return h0(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:jt(n,s),oo(t,e),e.tag=1,nt(n)?(t=!0,Mo(e)):t=!1,is(e,r),c0(e,n,s),pd(e,n,s,r),vd(null,e,n,!0,t,r);case 19:return y0(t,e,r);case 22:return f0(t,e,r)}throw Error(M(156,e.tag))};function D0(t,e){return ap(t,e)}function Gb(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(t,e,r,n){return new Gb(t,e,r,n)}function Yu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xb(t){if(typeof t=="function")return Yu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hu)return 11;if(t===fu)return 14}return 2}function zr(t,e){var r=t.alternate;return r===null?(r=gt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function uo(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")Yu(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Hn:return yn(r.children,s,i,e);case uu:a=8,s|=8;break;case zc:return t=gt(12,r,e,s|2),t.elementType=zc,t.lanes=i,t;case Bc:return t=gt(13,r,e,s),t.elementType=Bc,t.lanes=i,t;case Uc:return t=gt(19,r,e,s),t.elementType=Uc,t.lanes=i,t;case Wg:return yl(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bg:a=10;break e;case Ug:a=9;break e;case hu:a=11;break e;case fu:a=14;break e;case br:a=16,n=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=gt(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function yn(t,e,r,n){return t=gt(7,t,n,e),t.lanes=r,t}function yl(t,e,r,n){return t=gt(22,t,n,e),t.elementType=Wg,t.lanes=r,t.stateNode={isHidden:!1},t}function hc(t,e,r){return t=gt(6,t,null,e),t.lanes=r,t}function fc(t,e,r){return e=gt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qb(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ku(t,e,r,n,s,i,a,o,c){return t=new Qb(t,e,r,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=gt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tu(i),t}function Jb(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function L0(t){if(!t)return Vr;t=t._reactInternals;e:{if(Mn(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var r=t.type;if(nt(r))return Lp(t,r,e)}return e}function R0(t,e,r,n,s,i,a,o,c){return t=Ku(r,n,!0,t,s,i,a,o,c),t.context=L0(null),r=t.current,n=Ye(),s=$r(r),i=sr(n,s),i.callback=e??null,Ir(r,i,s),t.current.lanes=s,ra(t,s,n),st(t,n),t}function xl(t,e,r,n){var s=e.current,i=Ye(),a=$r(s);return r=L0(r),e.context===null?e.context=r:e.pendingContext=r,e=sr(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ir(s,e,a),t!==null&&(Mt(t,s,a,i),so(t,s,a)),a}function Wo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Gu(t,e){Tf(t,e),(t=t.alternate)&&Tf(t,e)}function Zb(){return null}var A0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xu(t){this._internalRoot=t}vl.prototype.render=Xu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));xl(t,e,null,null)};vl.prototype.unmount=Xu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Sn(function(){xl(null,t,null,null)}),e[or]=null}};function vl(t){this._internalRoot=t}vl.prototype.unstable_scheduleHydration=function(t){if(t){var e=fp();t={blockedOn:null,target:t,priority:e};for(var r=0;r<_r.length&&e!==0&&e<_r[r].priority;r++);_r.splice(r,0,t),r===0&&gp(t)}};function Qu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Of(){}function ew(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=Wo(a);i.call(d)}}var a=R0(e,n,t,0,null,!1,!1,"",Of);return t._reactRootContainer=a,t[or]=a.current,Di(t.nodeType===8?t.parentNode:t),Sn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var d=Wo(c);o.call(d)}}var c=Ku(t,0,!1,null,null,!1,!1,"",Of);return t._reactRootContainer=c,t[or]=c.current,Di(t.nodeType===8?t.parentNode:t),Sn(function(){xl(e,c,r,n)}),c}function wl(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=Wo(a);o.call(c)}}xl(e,a,t,s)}else a=ew(r,e,t,s,n);return Wo(a)}up=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Zs(e.pendingLanes);r!==0&&(pu(e,r|1),st(e,ke()),!(Q&6)&&(ys=ke()+500,Gr()))}break;case 13:Sn(function(){var n=lr(t,1);if(n!==null){var s=Ye();Mt(n,t,1,s)}}),Gu(t,1)}};yu=function(t){if(t.tag===13){var e=lr(t,134217728);if(e!==null){var r=Ye();Mt(e,t,134217728,r)}Gu(t,134217728)}};hp=function(t){if(t.tag===13){var e=$r(t),r=lr(t,e);if(r!==null){var n=Ye();Mt(r,t,e,n)}Gu(t,e)}};fp=function(){return ne};mp=function(t,e){var r=ne;try{return ne=t,e()}finally{ne=r}};Jc=function(t,e,r){switch(e){case"input":if(Vc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ul(n);if(!s)throw Error(M(90));Vg(n),Vc(n,s)}}}break;case"textarea":Yg(t,r);break;case"select":e=r.value,e!=null&&ts(t,!!r.multiple,e,!1)}};ep=Hu;tp=Sn;var tw={usingClientEntryPoint:!1,Events:[sa,Kn,ul,Jg,Zg,Hu]},Us={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rw={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sp(t),t===null?null:t.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||Zb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ta.isDisabled&&Ta.supportsFiber)try{ol=Ta.inject(rw),Ut=Ta}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tw;ct.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qu(e))throw Error(M(200));return Jb(t,e,null,r)};ct.createRoot=function(t,e){if(!Qu(t))throw Error(M(299));var r=!1,n="",s=A0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ku(t,1,!1,null,null,r,!1,n,s),t[or]=e.current,Di(t.nodeType===8?t.parentNode:t),new Xu(e)};ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=sp(e),t=t===null?null:t.stateNode,t};ct.flushSync=function(t){return Sn(t)};ct.hydrate=function(t,e,r){if(!bl(e))throw Error(M(200));return wl(null,t,e,!0,r)};ct.hydrateRoot=function(t,e,r){if(!Qu(t))throw Error(M(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=A0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=R0(e,null,t,1,r??null,s,!1,i,a),t[or]=e.current,Di(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new vl(e)};ct.render=function(t,e,r){if(!bl(e))throw Error(M(200));return wl(null,t,e,!1,r)};ct.unmountComponentAtNode=function(t){if(!bl(t))throw Error(M(40));return t._reactRootContainer?(Sn(function(){wl(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1};ct.unstable_batchedUpdates=Hu;ct.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!bl(r))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return wl(t,e,r,!1,n)};ct.version="18.3.1-next-f1338f8080-20240426";function I0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I0)}catch(t){console.error(t)}}I0(),Ig.exports=ct;var nw=Ig.exports,Df=nw;Fc.createRoot=Df.createRoot,Fc.hydrateRoot=Df.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ui(){return Ui=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ui.apply(this,arguments)}var Er;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Er||(Er={}));const Lf="popstate";function sw(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return Td("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ho(s)}return aw(e,r,null,t)}function pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function F0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iw(){return Math.random().toString(36).substr(2,8)}function Rf(t,e){return{usr:t.state,key:t.key,idx:e}}function Td(t,e,r,n){return r===void 0&&(r=null),Ui({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Es(e):e,{state:r,key:e&&e.key||n||iw()})}function Ho(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Es(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function aw(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Er.Pop,c=null,d=u();d==null&&(d=0,a.replaceState(Ui({},a.state,{idx:d}),""));function u(){return(a.state||{idx:null}).idx}function h(){o=Er.Pop;let b=u(),y=b==null?null:b-d;d=b,c&&c({action:o,location:p.location,delta:y})}function f(b,y){o=Er.Push;let x=Td(p.location,b,y);d=u()+1;let v=Rf(x,d),w=p.createHref(x);try{a.pushState(v,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(w)}i&&c&&c({action:o,location:p.location,delta:1})}function m(b,y){o=Er.Replace;let x=Td(p.location,b,y);d=u();let v=Rf(x,d),w=p.createHref(x);a.replaceState(v,"",w),i&&c&&c({action:o,location:p.location,delta:0})}function g(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:Ho(b);return x=x.replace(/ $/,"%20"),pe(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let p={get action(){return o},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Lf,h),c=b,()=>{s.removeEventListener(Lf,h),c=null}},createHref(b){return e(s,b)},createURL:g,encodeLocation(b){let y=g(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(b){return a.go(b)}};return p}var Af;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Af||(Af={}));function ow(t,e,r){return r===void 0&&(r="/"),lw(t,e,r)}function lw(t,e,r,n){let s=typeof e=="string"?Es(e):e,i=xs(s.pathname||"/",r);if(i==null)return null;let a=$0(t);cw(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let d=bw(i);o=xw(a[c],d)}return o}function $0(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(pe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Br([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(pe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),$0(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:pw(d,i.index),routesMeta:u})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let c of z0(i.path))s(i,a,c)}),e}function z0(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=z0(n.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function cw(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:yw(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dw=/^:[\w-]+$/,uw=3,hw=2,fw=1,mw=10,gw=-2,If=t=>t==="*";function pw(t,e){let r=t.split("/"),n=r.length;return r.some(If)&&(n+=gw),e&&(n+=hw),r.filter(s=>!If(s)).reduce((s,i)=>s+(dw.test(i)?uw:i===""?fw:mw),n)}function yw(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function xw(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=Od({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Br([i,h.pathname]),pathnameBase:jw(Br([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Br([i,h.pathnameBase]))}return a}function Od(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=vw(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let p=o[h]||"";a=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=o[h];return m&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function vw(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),F0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function bw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return F0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function ww(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Es(t):t;return{pathname:r?r.startsWith("/")?r:kw(r,e):e,search:Sw(n),hash:Nw(s)}}function kw(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function mc(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _w(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Ju(t,e){let r=_w(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Zu(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Es(t):(s=Ui({},t),pe(!s.pathname||!s.pathname.includes("?"),mc("?","pathname","search",s)),pe(!s.pathname||!s.pathname.includes("#"),mc("#","pathname","hash",s)),pe(!s.search||!s.search.includes("#"),mc("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?e[h]:"/"}let c=ww(s,o),d=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Br=t=>t.join("/").replace(/\/\/+/g,"/"),jw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Sw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Nw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Cw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const B0=["post","put","patch","delete"];new Set(B0);const Pw=["get",...B0];new Set(Pw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wi(){return Wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wi.apply(this,arguments)}const kl=_.createContext(null),U0=_.createContext(null),fr=_.createContext(null),_l=_.createContext(null),Vt=_.createContext({outlet:null,matches:[],isDataRoute:!1}),W0=_.createContext(null);function Ew(t,e){let{relative:r}=e===void 0?{}:e;Ms()||pe(!1);let{basename:n,navigator:s}=_.useContext(fr),{hash:i,pathname:a,search:o}=jl(t,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Br([n,a])),s.createHref({pathname:c,search:o,hash:i})}function Ms(){return _.useContext(_l)!=null}function Tn(){return Ms()||pe(!1),_.useContext(_l).location}function H0(t){_.useContext(fr).static||_.useLayoutEffect(t)}function ut(){let{isDataRoute:t}=_.useContext(Vt);return t?Hw():Mw()}function Mw(){Ms()||pe(!1);let t=_.useContext(kl),{basename:e,future:r,navigator:n}=_.useContext(fr),{matches:s}=_.useContext(Vt),{pathname:i}=Tn(),a=JSON.stringify(Ju(s,r.v7_relativeSplatPath)),o=_.useRef(!1);return H0(()=>{o.current=!0}),_.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let h=Zu(d,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Br([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,a,i,t])}const Tw=_.createContext(null);function Ow(t){let e=_.useContext(Vt).outlet;return e&&_.createElement(Tw.Provider,{value:t},e)}function Ts(){let{matches:t}=_.useContext(Vt),e=t[t.length-1];return e?e.params:{}}function jl(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=_.useContext(fr),{matches:s}=_.useContext(Vt),{pathname:i}=Tn(),a=JSON.stringify(Ju(s,n.v7_relativeSplatPath));return _.useMemo(()=>Zu(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function Dw(t,e){return Lw(t,e)}function Lw(t,e,r,n){Ms()||pe(!1);let{navigator:s}=_.useContext(fr),{matches:i}=_.useContext(Vt),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Tn(),u;if(e){var h;let b=typeof e=="string"?Es(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||pe(!1),u=b}else u=d;let f=u.pathname||"/",m=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=ow(t,{pathname:m}),p=$w(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Br([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Br([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return e&&p?_.createElement(_l.Provider,{value:{location:Wi({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Er.Pop}},p):p}function Rw(){let t=Ww(),e=Cw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:s},r):null,null)}const Aw=_.createElement(Rw,null);class Iw extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?_.createElement(Vt.Provider,{value:this.props.routeContext},_.createElement(W0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fw(t){let{routeContext:e,match:r,children:n}=t,s=_.useContext(kl);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Vt.Provider,{value:e},n)}function $w(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(s=r)==null?void 0:s.errors;if(o!=null){let u=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||pe(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((u,h,f)=>{let m,g=!1,p=null,b=null;r&&(m=o&&h.route.id?o[h.route.id]:void 0,p=h.route.errorElement||Aw,c&&(d<0&&f===0?(Vw("route-fallback"),g=!0,b=null):d===f&&(g=!0,b=h.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),x=()=>{let v;return m?v=p:g?v=b:h.route.Component?v=_.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,_.createElement(Fw,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(Iw,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var V0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(V0||{}),q0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(q0||{});function zw(t){let e=_.useContext(kl);return e||pe(!1),e}function Bw(t){let e=_.useContext(U0);return e||pe(!1),e}function Uw(t){let e=_.useContext(Vt);return e||pe(!1),e}function Y0(t){let e=Uw(),r=e.matches[e.matches.length-1];return r.route.id||pe(!1),r.route.id}function Ww(){var t;let e=_.useContext(W0),r=Bw(),n=Y0();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Hw(){let{router:t}=zw(V0.UseNavigateStable),e=Y0(q0.UseNavigateStable),r=_.useRef(!1);return H0(()=>{r.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Wi({fromRouteId:e},i)))},[t,e])}const Ff={};function Vw(t,e,r){Ff[t]||(Ff[t]=!0)}function qw(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Yw(t){let{to:e,replace:r,state:n,relative:s}=t;Ms()||pe(!1);let{future:i,static:a}=_.useContext(fr),{matches:o}=_.useContext(Vt),{pathname:c}=Tn(),d=ut(),u=Zu(e,Ju(o,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(u);return _.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:s}),[d,h,s,r,n]),null}function Dd(t){return Ow(t.context)}function ee(t){pe(!1)}function Kw(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Er.Pop,navigator:i,static:a=!1,future:o}=t;Ms()&&pe(!1);let c=e.replace(/^\/*/,"/"),d=_.useMemo(()=>({basename:c,navigator:i,static:a,future:Wi({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof n=="string"&&(n=Es(n));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:g="default"}=n,p=_.useMemo(()=>{let b=xs(u,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:m,key:g},navigationType:s}},[c,u,h,f,m,g,s]);return p==null?null:_.createElement(fr.Provider,{value:d},_.createElement(_l.Provider,{children:r,value:p}))}function Gw(t){let{children:e,location:r}=t;return Dw(Ld(e),r)}new Promise(()=>{});function Ld(t,e){e===void 0&&(e=[]);let r=[];return _.Children.forEach(t,(n,s)=>{if(!_.isValidElement(n))return;let i=[...e,s];if(n.type===_.Fragment){r.push.apply(r,Ld(n.props.children,i));return}n.type!==ee&&pe(!1),!n.props.index||!n.props.children||pe(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Ld(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vo.apply(this,arguments)}function K0(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Xw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Qw(t,e){return t.button===0&&(!e||e==="_self")&&!Xw(t)}const Jw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Zw=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],e1="6";try{window.__reactRouterVersion=e1}catch{}const t1=_.createContext({isTransitioning:!1}),r1="startTransition",$f=qx[r1];function n1(t){let{basename:e,children:r,future:n,window:s}=t,i=_.useRef();i.current==null&&(i.current=sw({window:s,v5Compat:!0}));let a=i.current,[o,c]=_.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},u=_.useCallback(h=>{d&&$f?$f(()=>c(h)):c(h)},[c,d]);return _.useLayoutEffect(()=>a.listen(u),[a,u]),_.useEffect(()=>qw(n),[n]),_.createElement(Kw,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const s1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$=_.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,f=K0(e,Jw),{basename:m}=_.useContext(fr),g,p=!1;if(typeof d=="string"&&i1.test(d)&&(g=d,s1))try{let v=new URL(window.location.href),w=d.startsWith("//")?new URL(v.protocol+d):new URL(d),k=xs(w.pathname,m);w.origin===v.origin&&k!=null?d=k+w.search+w.hash:p=!0}catch{}let b=Ew(d,{relative:s}),y=l1(d,{replace:a,state:o,target:c,preventScrollReset:u,relative:s,viewTransition:h});function x(v){n&&n(v),v.defaultPrevented||y(v)}return _.createElement("a",Vo({},f,{href:g||b,onClick:p||i?n:x,ref:r,target:c}))}),a1=_.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:d,children:u}=e,h=K0(e,Zw),f=jl(c,{relative:h.relative}),m=Tn(),g=_.useContext(U0),{navigator:p,basename:b}=_.useContext(fr),y=g!=null&&c1(f)&&d===!0,x=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,v=m.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(v=v.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&b&&(w=xs(w,b)||w);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let j=v===x||!a&&v.startsWith(x)&&v.charAt(k)==="/",S=w!=null&&(w===x||!a&&w.startsWith(x)&&w.charAt(x.length)==="/"),N={isActive:j,isPending:S,isTransitioning:y},P=j?n:void 0,C;typeof i=="function"?C=i(N):C=[i,j?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(N):o;return _.createElement($,Vo({},h,{"aria-current":P,className:C,ref:r,style:E,to:c,viewTransition:d}),typeof u=="function"?u(N):u)});var Rd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Rd||(Rd={}));var zf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zf||(zf={}));function o1(t){let e=_.useContext(kl);return e||pe(!1),e}function l1(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,c=ut(),d=Tn(),u=jl(t,{relative:a});return _.useCallback(h=>{if(Qw(h,r)){h.preventDefault();let f=n!==void 0?n:Ho(d)===Ho(u);c(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[d,c,u,n,s,r,t,i,a,o])}function c1(t,e){e===void 0&&(e={});let r=_.useContext(t1);r==null&&pe(!1);let{basename:n}=o1(Rd.useViewTransitionState),s=jl(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=xs(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=xs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Od(s.pathname,a)!=null||Od(s.pathname,i)!=null}let d1={data:""},u1=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||d1,h1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,f1=/\/\*[^]*?\*\/|  +/g,Bf=/\n+/g,Sr=(t,e)=>{let r="",n="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+a+";":n+=i[1]=="f"?Sr(a,i):i+"{"+Sr(a,i[1]=="k"?"":e)+"}":typeof a=="object"?n+=Sr(a,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Sr.p?Sr.p(i,a):i+":"+a+";")}return r+(e&&s?e+"{"+s+"}":s)+n},Yt={},G0=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+G0(t[r]);return e}return t},m1=(t,e,r,n,s)=>{let i=G0(t),a=Yt[i]||(Yt[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!Yt[a]){let c=i!==t?t:(d=>{let u,h,f=[{}];for(;u=h1.exec(d.replace(f1,""));)u[4]?f.shift():u[3]?(h=u[3].replace(Bf," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace(Bf," ").trim();return f[0]})(t);Yt[a]=Sr(s?{["@keyframes "+a]:c}:c,r?"":"."+a)}let o=r&&Yt.g?Yt.g:null;return r&&(Yt.g=Yt[a]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Yt[a],e,n,o),a},g1=(t,e,r)=>t.reduce((n,s,i)=>{let a=e[i];if(a&&a.call){let o=a(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=c?"."+c:o&&typeof o=="object"?o.props?"":Sr(o,""):o===!1?"":o}return n+s+(a??"")},"");function Sl(t){let e=this||{},r=t.call?t(e.p):t;return m1(r.unshift?r.raw?g1(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,u1(e.target),e.g,e.o,e.k)}let X0,Ad,Id;Sl.bind({g:1});let dr=Sl.bind({k:1});function p1(t,e,r,n){Sr.p=e,X0=t,Ad=r,Id=n}function Xr(t,e){let r=this||{};return function(){let n=arguments;function s(i,a){let o=Object.assign({},i),c=o.className||s.className;r.p=Object.assign({theme:Ad&&Ad()},o),r.o=/ *go\d+/.test(c),o.className=Sl.apply(r,n)+(c?" "+c:"");let d=t;return t[0]&&(d=o.as||t,delete o.as),Id&&d[0]&&Id(o),X0(d,o)}return s}}var y1=t=>typeof t=="function",qo=(t,e)=>y1(t)?t(e):t,x1=(()=>{let t=0;return()=>(++t).toString()})(),Q0=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),v1=20,J0=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,v1)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:r}=e;return J0(t,{type:t.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},ho=[],mn={toasts:[],pausedAt:void 0},On=t=>{mn=J0(mn,t),ho.forEach(e=>{e(mn)})},b1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},w1=(t={})=>{let[e,r]=_.useState(mn),n=_.useRef(mn);_.useEffect(()=>(n.current!==mn&&r(mn),ho.push(r),()=>{let i=ho.indexOf(r);i>-1&&ho.splice(i,1)}),[]);let s=e.toasts.map(i=>{var a,o,c;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((a=t[i.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||b1[i.type],style:{...t.style,...(c=t[i.type])==null?void 0:c.style,...i.style}}});return{...e,toasts:s}},k1=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||x1()}),aa=t=>(e,r)=>{let n=k1(e,t,r);return On({type:2,toast:n}),n.id},qe=(t,e)=>aa("blank")(t,e);qe.error=aa("error");qe.success=aa("success");qe.loading=aa("loading");qe.custom=aa("custom");qe.dismiss=t=>{On({type:3,toastId:t})};qe.remove=t=>On({type:4,toastId:t});qe.promise=(t,e,r)=>{let n=qe.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?qo(e.success,s):void 0;return i?qe.success(i,{id:n,...r,...r==null?void 0:r.success}):qe.dismiss(n),s}).catch(s=>{let i=e.error?qo(e.error,s):void 0;i?qe.error(i,{id:n,...r,...r==null?void 0:r.error}):qe.dismiss(n)}),t};var _1=(t,e)=>{On({type:1,toast:{id:t,height:e}})},j1=()=>{On({type:5,time:Date.now()})},yi=new Map,S1=1e3,N1=(t,e=S1)=>{if(yi.has(t))return;let r=setTimeout(()=>{yi.delete(t),On({type:4,toastId:t})},e);yi.set(t,r)},C1=t=>{let{toasts:e,pausedAt:r}=w1(t);_.useEffect(()=>{if(r)return;let i=Date.now(),a=e.map(o=>{if(o.duration===1/0)return;let c=(o.duration||0)+o.pauseDuration-(i-o.createdAt);if(c<0){o.visible&&qe.dismiss(o.id);return}return setTimeout(()=>qe.dismiss(o.id),c)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[e,r]);let n=_.useCallback(()=>{r&&On({type:6,time:Date.now()})},[r]),s=_.useCallback((i,a)=>{let{reverseOrder:o=!1,gutter:c=8,defaultPosition:d}=a||{},u=e.filter(m=>(m.position||d)===(i.position||d)&&m.height),h=u.findIndex(m=>m.id===i.id),f=u.filter((m,g)=>g<h&&m.visible).length;return u.filter(m=>m.visible).slice(...o?[f+1]:[0,f]).reduce((m,g)=>m+(g.height||0)+c,0)},[e]);return _.useEffect(()=>{e.forEach(i=>{if(i.dismissed)N1(i.id,i.removeDelay);else{let a=yi.get(i.id);a&&(clearTimeout(a),yi.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:_1,startPause:j1,endPause:n,calculateOffset:s}}},P1=dr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,E1=dr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,M1=dr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,T1=Xr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${P1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${E1} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${M1} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,O1=dr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,D1=Xr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${O1} 1s linear infinite;
`,L1=dr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,R1=dr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,A1=Xr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${L1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${R1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,I1=Xr("div")`
  position: absolute;
`,F1=Xr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$1=dr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,z1=Xr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,B1=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?_.createElement(z1,null,e):e:r==="blank"?null:_.createElement(F1,null,_.createElement(D1,{...n}),r!=="loading"&&_.createElement(I1,null,r==="error"?_.createElement(T1,{...n}):_.createElement(A1,{...n})))},U1=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,W1=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,H1="0%{opacity:0;} 100%{opacity:1;}",V1="0%{opacity:1;} 100%{opacity:0;}",q1=Xr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Y1=Xr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,K1=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=Q0()?[H1,V1]:[U1(r),W1(r)];return{animation:e?`${dr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${dr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},G1=_.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?K1(t.position||e||"top-center",t.visible):{opacity:0},i=_.createElement(B1,{toast:t}),a=_.createElement(Y1,{...t.ariaProps},qo(t.message,t));return _.createElement(q1,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:i,message:a}):_.createElement(_.Fragment,null,i,a))});p1(_.createElement);var X1=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let i=_.useCallback(a=>{if(a){let o=()=>{let c=a.getBoundingClientRect().height;n(t,c)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return _.createElement("div",{ref:i,className:e,style:r},s)},Q1=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Q0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},J1=Sl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Oa=16,Z0=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:o,handlers:c}=C1(r);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Oa,left:Oa,right:Oa,bottom:Oa,pointerEvents:"none",...i},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},o.map(d=>{let u=d.position||e,h=c.calculateOffset(d,{reverseOrder:t,gutter:n,defaultPosition:e}),f=Q1(u,h);return _.createElement(X1,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?J1:"",style:f},d.type==="custom"?qo(d.message,d):s?s(d):_.createElement(G1,{toast:d,position:u}))}))},F=qe;const Z1="modulepreload",ek=function(t){return"/"+t},Uf={},oa=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=ek(c),c in Uf)return;Uf[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Z1,d||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),d)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},tk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>oa(async()=>{const{default:n}=await Promise.resolve().then(()=>Os);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class eh extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class rk extends eh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class nk extends eh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sk extends eh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Fd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Fd||(Fd={}));var ik=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class ak{constructor(e,{headers:r={},customFetch:n,region:s=Fd.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=tk(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return ik(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(g=>{throw new rk(g)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new nk(u);if(!u.ok)throw new sk(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield u.json():f==="application/octet-stream"?m=yield u.blob():f==="text/event-stream"?m=u:f==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Ze={},th={},Nl={},la={},Cl={},Pl={},ok=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vs=ok();const lk=vs.fetch,ey=vs.fetch.bind(vs),ty=vs.Headers,ck=vs.Request,dk=vs.Response,Os=Object.freeze(Object.defineProperty({__proto__:null,Headers:ty,Request:ck,Response:dk,default:ey,fetch:lk},Symbol.toStringTag,{value:"Module"})),uk=Mx(Os);var El={};Object.defineProperty(El,"__esModule",{value:!0});let hk=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};El.default=hk;var ry=xt&&xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pl,"__esModule",{value:!0});const fk=ry(uk),mk=ry(El);let gk=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=fk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,c;let d=null,u=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const p=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");p&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const p=await i.text();try{d=JSON.parse(p),Array.isArray(d)&&i.status===404&&(u=[],d=null,f=200,m="OK")}catch{i.status===404&&p===""?(f=204,m="No Content"):d={message:p}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,m="OK"),d&&this.shouldThrowOnError)throw new mk.default(d)}return{error:d,data:u,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Pl.default=gk;var pk=xt&&xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cl,"__esModule",{value:!0});const yk=pk(Pl);let xk=class extends yk.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Cl.default=xk;var vk=xt&&xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(la,"__esModule",{value:!0});const bk=vk(Cl);let wk=class extends bk.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};la.default=wk;var kk=xt&&xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nl,"__esModule",{value:!0});const Ws=kk(la);let _k=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Ws.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ws.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ws.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ws.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ws.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Nl.default=_k;var Ml={},Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.version=void 0;Tl.version="0.0.0-automated";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.DEFAULT_HEADERS=void 0;const jk=Tl;Ml.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${jk.version}`};var ny=xt&&xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(th,"__esModule",{value:!0});const Sk=ny(Nl),Nk=ny(la),Ck=Ml;let Pk=class sy{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ck.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Sk.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new sy(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{o.searchParams.append(u,h)})):(a="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new Nk.default({method:a,url:o,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};th.default=Pk;var Ds=xt&&xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const iy=Ds(th);Ze.PostgrestClient=iy.default;const ay=Ds(Nl);Ze.PostgrestQueryBuilder=ay.default;const oy=Ds(la);Ze.PostgrestFilterBuilder=oy.default;const ly=Ds(Cl);Ze.PostgrestTransformBuilder=ly.default;const cy=Ds(Pl);Ze.PostgrestBuilder=cy.default;const dy=Ds(El);Ze.PostgrestError=dy.default;var Ek=Ze.default={PostgrestClient:iy.default,PostgrestQueryBuilder:ay.default,PostgrestFilterBuilder:oy.default,PostgrestTransformBuilder:ly.default,PostgrestBuilder:cy.default,PostgrestError:dy.default};const{PostgrestClient:Mk,PostgrestQueryBuilder:d3,PostgrestFilterBuilder:u3,PostgrestTransformBuilder:h3,PostgrestBuilder:f3,PostgrestError:m3}=Ek;let $d;typeof window>"u"?$d=require("ws"):$d=window.WebSocket;const Tk="2.11.10",Ok={"X-Client-Info":`realtime-js/${Tk}`},Dk="1.0.0",uy=1e4,Lk=1e3;var os;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(os||(os={}));var He;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(He||(He={}));var Nt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Nt||(Nt={}));var zd;(function(t){t.websocket="websocket"})(zd||(zd={}));var dn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(dn||(dn={}));class Rk{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const c=n.decode(e.slice(a,a+i));a=a+i;const d=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class hy{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ie||(ie={}));const Wf=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=Ak(a,t,e,s),i),{})},Ak=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?fy(i,a):Bd(a)},fy=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return zk(e,r)}switch(t){case ie.bool:return Ik(e);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return Fk(e);case ie.json:case ie.jsonb:return $k(e);case ie.timestamp:return Bk(e);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return Bd(e);default:return Bd(e)}},Bd=t=>t,Ik=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Fk=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$k=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},zk=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>fy(e,o))}return t},Bk=t=>typeof t=="string"?t.replace(" ","T"):t,my=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class gc{constructor(e,r,n={},s=uy){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Hf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Hf||(Hf={}));class xi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xi.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=xi.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xi.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},c={};return this.map(i,(d,u)=>{a[d]||(c[d]=u)}),this.map(a,(d,u)=>{const h=i[d];if(h){const f=u.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),g=u.filter(b=>m.indexOf(b.presence_ref)<0),p=h.filter(b=>f.indexOf(b.presence_ref)<0);g.length>0&&(o[d]=g),p.length>0&&(c[d]=p)}else o[d]=u}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var d;const u=(d=e[o])!==null&&d!==void 0?d:[];if(e[o]=this.cloneDeep(c),u.length>0){const h=e[o].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);e[o].unshift(...f)}n(o,u,c)}),this.map(a,(o,c)=>{let d=e[o];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[o]=d,s(o,d,c),d.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Vf||(Vf={}));var qf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(qf||(qf={}));var Jt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Jt||(Jt={}));class rh{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gc(this,Nt.join,this.params,this.timeout),this.rejoinTimer=new hy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new xi(this),this.broadcastEndpointURL=my(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(u=>e==null?void 0:e(Jt.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Jt.CLOSED));const c={},d={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(Jt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let p=0;p<m;p++){const b=f[p],{filter:{event:y,schema:x,table:v,filter:w}}=b,k=u&&u[p];if(k&&k.event===y&&k.schema===x&&k.table===v&&k.filter===w)g.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),this.state=He.errored,e==null||e(Jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Jt.SUBSCRIBED);return}}).receive("error",u=>{this.state=He.errored,e==null||e(Jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=He.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new gc(this,Nt.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new gc(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=Nt;if(n&&[o,c,d,u].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,p,b;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(p=m.filter)===null||p===void 0?void 0:p.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(m=>m.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var g,p,b,y,x,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const w=m.id,k=(g=m.filter)===null||g===void 0?void 0:g.event;return w&&((p=r.ids)===null||p===void 0?void 0:p.includes(w))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(x=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return w==="*"||w===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:p,table:b,commit_timestamp:y,type:x,errors:v}=g;f=Object.assign(Object.assign({},{schema:p,table:b,commit_timestamp:y,eventType:x,new:{},old:{},errors:v}),this._getPayloadRecords(g))}m.callback(f,n)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&rh.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nt.close,{},e)}_onError(e){this._on(Nt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Wf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Wf(e.columns,e.old_record)),r}}const Yf=()=>{},Uk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wk{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Ok,this.params={},this.timeout=uy,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yf,this.ref=0,this.logger=Yf,this.conn=null,this.sendBuffer=[],this.serializer=new Rk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>oa(async()=>{const{default:c}=await Promise.resolve().then(()=>Os);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${zd.websocket}`,this.httpEndpoint=my(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new hy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=$d),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Hk(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dk}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return dn.Connecting;case os.open:return dn.Open;case os.closing:return dn.Closing;default:return dn.Closed}}isConnected(){return this.connectionState()===dn.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new rh(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Nt.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Lk,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Uk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Hk{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=os.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class nh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Vk extends nh{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ud extends nh{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var qk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const gy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>oa(async()=>{const{default:n}=await Promise.resolve().then(()=>Os);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Yk=()=>qk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oa(()=>Promise.resolve().then(()=>Os),void 0)).Response:Response}),Wd=t=>{if(Array.isArray(t))return t.map(r=>Wd(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Wd(n)}),e};var Dn=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const pc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Kk=(t,e,r)=>Dn(void 0,void 0,void 0,function*(){const n=yield Yk();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new Vk(pc(s),t.status||500))}).catch(s=>{e(new Ud(pc(s),s))}):e(new Ud(pc(t),t))}),Gk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function ca(t,e,r,n,s,i){return Dn(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,Gk(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Kk(c,o,n))})})}function Yo(t,e,r,n){return Dn(this,void 0,void 0,function*(){return ca(t,"GET",e,r,n)})}function kr(t,e,r,n,s){return Dn(this,void 0,void 0,function*(){return ca(t,"POST",e,n,s,r)})}function Xk(t,e,r,n,s){return Dn(this,void 0,void 0,function*(){return ca(t,"PUT",e,n,s,r)})}function Qk(t,e,r,n){return Dn(this,void 0,void 0,function*(){return ca(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function py(t,e,r,n,s){return Dn(this,void 0,void 0,function*(){return ca(t,"DELETE",e,n,s,r)})}var Xe=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const Jk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zk{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=gy(s)}uploadOrUpdate(e,r,n,s){return Xe(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Kf),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Me(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Kf.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:u}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Me(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield kr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new nh("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}})}update(e,r,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Xe(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Me(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield kr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Me(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield kr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Me(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Xe(this,void 0,void 0,function*(){try{const s=yield kr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Me(s))return{data:null,error:s};throw s}})}download(e,r){return Xe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Yo(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Me(o))return{data:null,error:o};throw o}})}info(e){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Yo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Wd(n),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}})}exists(e){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Qk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Me(n)&&n instanceof Ud){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield py(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}list(e,r,n){return Xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Jk),r),{prefix:e||""});return{data:yield kr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Me(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const e_="2.7.1",t_={"X-Client-Info":`storage-js/${e_}`};var An=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class r_{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},t_),r),this.fetch=gy(n)}listBuckets(){return An(this,void 0,void 0,function*(){try{return{data:yield Yo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Me(e))return{data:null,error:e};throw e}})}getBucket(e){return An(this,void 0,void 0,function*(){try{return{data:yield Yo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return An(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return An(this,void 0,void 0,function*(){try{return{data:yield Xk(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}})}emptyBucket(e){return An(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}deleteBucket(e){return An(this,void 0,void 0,function*(){try{return{data:yield py(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}}class n_ extends r_{constructor(e,r={},n){super(e,r,n)}from(e){return new Zk(this.url,this.headers,e,this.fetch)}}const s_="2.49.10";let ti="";typeof Deno<"u"?ti="deno":typeof document<"u"?ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ti="react-native":ti="node";const i_={"X-Client-Info":`supabase-js-${ti}/${s_}`},a_={headers:i_},o_={schema:"public"},l_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c_={};var d_=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const u_=t=>{let e;return t?e=t:typeof fetch>"u"?e=ey:e=fetch,(...r)=>e(...r)},h_=()=>typeof Headers>"u"?ty:Headers,f_=(t,e,r)=>{const n=u_(r),s=h_();return(i,a)=>d_(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:d}))})};var m_=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};function g_(t){return t.endsWith("/")?t:t+"/"}function p_(t,e){var r,n;const{db:s,auth:i,realtime:a,global:o}=t,{db:c,auth:d,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),a),global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>m_(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const yy="2.69.1",Un=30*1e3,Hd=3,yc=Hd*Un,y_="http://localhost:9999",x_="supabase.auth.token",v_={"X-Client-Info":`gotrue-js/${yy}`},Vd="X-Supabase-Api-Version",xy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,w_=6e5;class sh extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class k_ extends sh{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function __(t){return z(t)&&t.name==="AuthApiError"}class vy extends sh{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Qr extends sh{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class yr extends Qr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function j_(t){return z(t)&&t.name==="AuthSessionMissingError"}class xc extends Qr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Da extends Qr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class La extends Qr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function S_(t){return z(t)&&t.name==="AuthImplicitGrantRedirectError"}class Gf extends Qr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qd extends Qr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function vc(t){return z(t)&&t.name==="AuthRetryableFetchError"}class Xf extends Qr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class vi extends Qr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jf=` 	
\r=`.split(""),N_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Jf.length;e+=1)t[Jf[e].charCodeAt(0)]=-2;for(let e=0;e<Qf.length;e+=1)t[Qf[e].charCodeAt(0)]=e;return t})();function by(t,e,r){const n=N_[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Zf(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{E_(a,n,r)};for(let a=0;a<t.length;a+=1)by(t.charCodeAt(a),s,i);return e.join("")}function C_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function P_(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}C_(n,e)}}function E_(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function M_(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)by(t.charCodeAt(s),r,n);return new Uint8Array(e)}function T_(t){const e=[];return P_(t,r=>e.push(r)),new Uint8Array(e)}function O_(t){return Math.round(Date.now()/1e3)+t}function D_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",Jr={tested:!1,writable:!1},bi=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jr.tested)return Jr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jr.tested=!0,Jr.writable=!0}catch{Jr.tested=!0,Jr.writable=!1}return Jr.writable};function L_(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const wy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>oa(async()=>{const{default:n}=await Promise.resolve().then(()=>Os);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},R_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ky=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ra=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Aa=async(t,e)=>{await t.removeItem(e)};class Ol{constructor(){this.promise=new Ol.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ol.promiseConstructor=Promise;function bc(t){const e=t.split(".");if(e.length!==3)throw new vi("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!b_.test(e[n]))throw new vi("JWT not in base64url format");return{header:JSON.parse(Zf(e[0])),payload:JSON.parse(Zf(e[1])),signature:M_(e[2]),raw:{header:e[0],payload:e[1]}}}async function A_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function I_(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function F_(t){return("0"+t.toString(16)).substr(-2)}function $_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,F_).join("")}async function z_(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function B_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await z_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function In(t,e,r=!1){const n=$_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ky(t,`${e}-code-verifier`,s);const i=await B_(n);return[i,n===i?"plain":"s256"]}const U_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function W_(t){const e=t.headers.get(Vd);if(!e||!e.match(U_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function H_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function V_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var q_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const an=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Y_=[502,503,504];async function em(t){var e;if(!R_(t))throw new qd(an(t),0);if(Y_.includes(t.status))throw new qd(an(t),t.status);let r;try{r=await t.json()}catch(i){throw new vy(an(i),i)}let n;const s=W_(t);if(s&&s.getTime()>=xy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Xf(an(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new yr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Xf(an(r),t.status,r.weak_password.reasons);throw new k_(an(r),t.status||500,n)}const K_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Y(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Vd]||(i[Vd]=xy["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await G_(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function G_(t,e,r,n,s,i){const a=K_(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new qd(an(c),0)}if(o.ok||await em(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await em(c)}}function xr(t){var e;let r=null;Z_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=O_(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function tm(t){const e=xr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Nr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function X_(t){return{data:t,error:null}}function Q_(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=q_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function J_(t){return t}function Z_(t){return t.access_token&&t.refresh_token&&t.expires_in}var e2=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class t2{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=wy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Nr})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=e2(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Q_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Nr})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:J_});if(u.error)throw u.error;const h=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);d[`${b}Page`]=p}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(z(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Nr})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Nr})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Nr})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Y(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}const r2={getItem:t=>bi()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{bi()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{bi()&&globalThis.localStorage.removeItem(t)}};function rm(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function n2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fn={debug:!!(globalThis&&bi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _y extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class s2 extends _y{}async function i2(t,e,r){Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new s2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}n2();const a2={url:y_,storageKey:x_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nm(t,e,r){return await r()}class Hi{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hi.nextInstanceID,Hi.nextInstanceID+=1,this.instanceID>0&&It()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},a2),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new t2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=wy(s.fetch),this.lock=s.lock||nm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:It()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=i2:this.lock=nm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:bi()?this.storage=r2:(this.memoryStorage={},this.storage=rm(this.memoryStorage)):(this.memoryStorage={},this.storage=rm(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yy}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=L_(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),It()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),S_(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?{error:r}:{error:new vy("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:xr}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await In(this.storage,this.storageKey)),i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},xform:xr})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:xr})}else throw new Da("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:tm})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:tm})}else throw new Da("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new xc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Ra(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:xr});if(await Aa(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new xc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xr}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new xc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await In(this.storage,this.storageKey));const{error:h}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:c}=e,{data:d,error:u}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Da("You must provide either an email or phone number.")}catch(o){if(z(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:xr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await In(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:X_})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new yr;const{error:s}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Da("You must provide either an email or phone number and a type")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<yc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Nr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yr}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Nr})})}catch(r){if(z(r))return j_(r)&&(await this._removeSession(),await Aa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new yr;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await In(this.storage,this.storageKey));const{data:d,error:u}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:Nr});if(u)throw u;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=bc(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new yr;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!It())throw new La("No browser detected.");if(e.error||e.error_description||e.error_code)throw new La(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Gf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new La("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gf("No code detected.");const{data:x,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:d}=e;if(!i||!o||!a||!d)throw new La("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(o);let f=u+h;c&&(f=parseInt(c));const m=f-u;m*1e3<=Un&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:p,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:d,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ra(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(__(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Aa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=D_(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await In(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,c,d,u;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return It()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await I_(async s=>(s>0&&await A_(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&vc(i)&&Date.now()+a-n<Un})}catch(n){if(this._debug(r,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),It()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ra(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<yc;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${yc}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),vc(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new yr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ol;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new yr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),z(i)){const a={session:null,error:i};return vc(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ky(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Aa(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&It()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Un);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Un);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Un}ms, refresh threshold is ${Hd} ticks`),s<=Hd&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _y)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await In(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Y(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=bc(s.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n||(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+w_>Date.now()))return n;const{data:s,error:i}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new vi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===e),!n)throw new vi("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:c}}=bc(n);if(H_(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=V_(s.alg),u=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,T_(`${o}.${c}`)))throw new vi("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}Hi.nextInstanceID=0;const o2=Hi;class l2 extends o2{constructor(e){super(e)}}var c2=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?i(u.value):s(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class d2{constructor(e,r,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=g_(e),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:o_,realtime:c_,auth:Object.assign(Object.assign({},l_),{storageKey:d}),global:a_},h=p_(n??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=f_(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Mk(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new ak(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new n_(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return c2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l2({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Wk(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const u2=(t,e,r)=>new d2(t,e,r),h2="https://fdjjamjmfzwpvinxqcwv.supabase.co",f2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkamphbWptZnp3cHZpbnhxY3d2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5NTk2NzcsImV4cCI6MjA2NDUzNTY3N30.ZMipJP-eu6OjcFV63_oyaZvIkWTLR0EauFjVPZY0Kzc",I=u2(h2,f2),jy=_.createContext();function m2({children:t}){const[e,r]=_.useState(null),[n,s]=_.useState(null),[i,a]=_.useState(!0),[o,c]=_.useState(null),[d,u]=_.useState(null),[h,f]=_.useState(!1);_.useEffect(()=>{I.auth.getSession().then(({data:{session:k}})=>{s(k),r((k==null?void 0:k.user)??null),k!=null&&k.user?m(k.user.id):a(!1)});const{data:{subscription:w}}=I.auth.onAuthStateChange((k,j)=>{s(j),r((j==null?void 0:j.user)??null),j!=null&&j.user?m(j.user.id):(u(null),f(!1),a(!1))});return()=>w.unsubscribe()},[]);const m=async w=>{try{const{data:k,error:j}=await I.from("profiles").select("role").eq("id",w).single();j&&j.code!=="PGRST116"&&console.error("Error fetching user profile:",j);const{data:S,error:N}=await I.from("admin_users").select("id").eq("id",w).single();N&&N.code!=="PGRST116"&&console.error("Error checking admin status:",N),f(!!S),u((k==null?void 0:k.role)||"user")}catch(k){console.error("Error in fetchUserData:",k),u("user"),f(!1)}finally{a(!1)}},v={user:e,session:n,loading:i,error:o,userRole:d,signUp:async(w,k)=>{try{a(!0),c(null);const{data:j,error:S}=await I.auth.signUp({email:w,password:k});if(S)throw S;return{success:!0,data:j}}catch(j){return console.error("Error signing up:",j),c(j),{success:!1,error:j}}finally{a(!1)}},signIn:async(w,k)=>{try{a(!0),c(null);const{data:j,error:S}=await I.auth.signInWithPassword({email:w,password:k});if(S)throw S;return{success:!0,data:j}}catch(j){return console.error("Error signing in:",j),c(j),{success:!1,error:j}}finally{a(!1)}},signOut:async()=>{try{a(!0),c(null);const{error:w}=await I.auth.signOut();if(w)throw w;return{success:!0}}catch(w){return console.error("Error signing out:",w),c(w),{success:!1,error:w}}finally{a(!1)}},resetPassword:async w=>{try{a(!0),c(null);const{data:k,error:j}=await I.auth.resetPasswordForEmail(w,{redirectTo:`${window.location.origin}/reset-password`});if(j)throw j;return{success:!0,data:k}}catch(k){return console.error("Error resetting password:",k),c(k),{success:!1,error:k}}finally{a(!1)}},updatePassword:async w=>{try{a(!0),c(null);const{data:k,error:j}=await I.auth.updateUser({password:w});if(j)throw j;return{success:!0,data:k}}catch(k){return console.error("Error updating password:",k),c(k),{success:!1,error:k}}finally{a(!1)}},isAdmin:h,isSeller:d==="seller",isUser:d==="user",hasRole:w=>w==="admin"?h:w==="seller"?h||d==="seller":!0};return l.jsx(jy.Provider,{value:v,children:t})}function se(){return _.useContext(jy)}var Sy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sm=Pt.createContext&&Pt.createContext(Sy),Ur=function(){return Ur=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ur.apply(this,arguments)},g2=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};function Ny(t){return t&&t.map(function(e,r){return Pt.createElement(e.tag,Ur({key:r},e.attr),Ny(e.child))})}function B(t){return function(e){return Pt.createElement(p2,Ur({attr:Ur({},t.attr)},e),Ny(t.child))}}function p2(t){var e=function(r){var n=t.attr,s=t.size,i=t.title,a=g2(t,["attr","size","title"]),o=s||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),Pt.createElement("svg",Ur({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:c,style:Ur(Ur({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&Pt.createElement("title",null,i),t.children)};return sm!==void 0?Pt.createElement(sm.Consumer,null,function(r){return e(r)}):e(Sy)}function im(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(t)}function bs(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(t)}function Dl(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"}}]})(t)}function y2(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"}}]})(t)}function Vi(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})(t)}function x2(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(t)}function v2(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(t)}function ws(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"}}]})(t)}function Dt(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(t)}function ih(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(t)}function xn(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(t)}function b2(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}},{tag:"polyline",attr:{points:"15 3 21 3 21 9"}},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"}}]})(t)}function Ll(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(t)}function Rl(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"}},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"}},{tag:"polyline",attr:{points:"10 9 9 9 8 9"}}]})(t)}function Al(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(t)}function Cy(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}}]})(t)}function Py(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(t)}function Ey(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}}]})(t)}function w2(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"}},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"}},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"}},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"}},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}}]})(t)}function ls(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"}}]})(t)}function k2(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(t)}function Ko(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}},{tag:"polyline",attr:{points:"22,6 12,13 2,6"}}]})(t)}function _2(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(t)}function wc(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}}]})(t)}function ur(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(t)}function j2(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(t)}function ks(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(t)}function ir(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(t)}function Il(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(t)}function S2(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(t)}function N2(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}}]})(t)}function C2(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"}}]})(t)}function kc(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(t)}function _s(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(t)}function Ia(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(t)}function My(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(t)}function P2(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(t)}function da(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(t)}function Ty(t){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(t)}function Go(t){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(t)}function Nn(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ue(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function oe(t){ue(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Go(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function E2(t,e){ue(2,arguments);var r=oe(t).getTime(),n=Nn(e);return new Date(r+n)}var M2={};function ua(){return M2}function Yd(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function fo(t,e){ue(2,arguments);var r=oe(t),n=oe(e),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function T2(t){return ue(1,arguments),t instanceof Date||Go(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function O2(t){if(ue(1,arguments),!T2(t)&&typeof t!="number")return!1;var e=oe(t);return!isNaN(Number(e))}function D2(t,e){ue(2,arguments);var r=oe(t),n=oe(e),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function L2(t,e){return ue(2,arguments),oe(t).getTime()-oe(e).getTime()}var R2={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},A2="trunc";function I2(t){return R2[A2]}function F2(t){ue(1,arguments);var e=oe(t);return e.setHours(23,59,59,999),e}function $2(t){ue(1,arguments);var e=oe(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function z2(t){ue(1,arguments);var e=oe(t);return F2(e).getTime()===$2(e).getTime()}function B2(t,e){ue(2,arguments);var r=oe(t),n=oe(e),s=fo(r,n),i=Math.abs(D2(r,n)),a;if(i<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);var o=fo(r,n)===-s;z2(oe(t))&&i===1&&fo(t,n)===1&&(o=!1),a=s*(i-Number(o))}return a===0?0:a}function U2(t,e,r){ue(2,arguments);var n=L2(t,e)/1e3;return I2()(n)}function W2(t,e){ue(2,arguments);var r=Nn(e);return E2(t,-r)}var H2=864e5;function V2(t){ue(1,arguments);var e=oe(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),s=r-n;return Math.floor(s/H2)+1}function Xo(t){ue(1,arguments);var e=1,r=oe(t),n=r.getUTCDay(),s=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function Oy(t){ue(1,arguments);var e=oe(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=Xo(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var a=Xo(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function q2(t){ue(1,arguments);var e=Oy(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=Xo(r);return n}var Y2=6048e5;function K2(t){ue(1,arguments);var e=oe(t),r=Xo(e).getTime()-q2(e).getTime();return Math.round(r/Y2)+1}function Qo(t,e){var r,n,s,i,a,o,c,d;ue(1,arguments);var u=ua(),h=Nn((r=(n=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=oe(t),m=f.getUTCDay(),g=(m<h?7:0)+m-h;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function Dy(t,e){var r,n,s,i,a,o,c,d;ue(1,arguments);var u=oe(t),h=u.getUTCFullYear(),f=ua(),m=Nn((r=(n=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&n!==void 0?n:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,m),g.setUTCHours(0,0,0,0);var p=Qo(g,e),b=new Date(0);b.setUTCFullYear(h,0,m),b.setUTCHours(0,0,0,0);var y=Qo(b,e);return u.getTime()>=p.getTime()?h+1:u.getTime()>=y.getTime()?h:h-1}function G2(t,e){var r,n,s,i,a,o,c,d;ue(1,arguments);var u=ua(),h=Nn((r=(n=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1),f=Dy(t,e),m=new Date(0);m.setUTCFullYear(f,0,h),m.setUTCHours(0,0,0,0);var g=Qo(m,e);return g}var X2=6048e5;function Q2(t,e){ue(1,arguments);var r=oe(t),n=Qo(r,e).getTime()-G2(r,e).getTime();return Math.round(n/X2)+1}function te(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var gr={y:function(e,r){var n=e.getUTCFullYear(),s=n>0?n:1-n;return te(r==="yy"?s%100:s,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):te(n+1,2)},d:function(e,r){return te(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return te(e.getUTCHours()%12||12,r.length)},H:function(e,r){return te(e.getUTCHours(),r.length)},m:function(e,r){return te(e.getUTCMinutes(),r.length)},s:function(e,r){return te(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,n-3));return te(i,r.length)}},$n={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},J2={G:function(e,r,n){var s=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return gr.y(e,r)},Y:function(e,r,n,s){var i=Dy(e,s),a=i>0?i:1-i;if(r==="YY"){var o=a%100;return te(o,2)}return r==="Yo"?n.ordinalNumber(a,{unit:"year"}):te(a,r.length)},R:function(e,r){var n=Oy(e);return te(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return te(n,r.length)},Q:function(e,r,n){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return te(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,r,n){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return te(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,r,n){var s=e.getUTCMonth();switch(r){case"M":case"MM":return gr.M(e,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,r,n){var s=e.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return te(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,r,n,s){var i=Q2(e,s);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):te(i,r.length)},I:function(e,r,n){var s=K2(e);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):te(s,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):gr.d(e,r)},D:function(e,r,n){var s=V2(e);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):te(s,r.length)},E:function(e,r,n){var s=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,r,n,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return te(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,r,n,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return te(a,r.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,r,n){var s=e.getUTCDay(),i=s===0?7:s;switch(r){case"i":return String(i);case"ii":return te(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,r,n){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,r,n){var s=e.getUTCHours(),i;switch(s===12?i=$n.noon:s===0?i=$n.midnight:i=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,r,n){var s=e.getUTCHours(),i;switch(s>=17?i=$n.evening:s>=12?i=$n.afternoon:s>=4?i=$n.morning:i=$n.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return gr.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):gr.H(e,r)},K:function(e,r,n){var s=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):te(s,r.length)},k:function(e,r,n){var s=e.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):te(s,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):gr.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):gr.s(e,r)},S:function(e,r){return gr.S(e,r)},X:function(e,r,n,s){var i=s._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return om(a);case"XXXX":case"XX":return on(a);case"XXXXX":case"XXX":default:return on(a,":")}},x:function(e,r,n,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(r){case"x":return om(a);case"xxxx":case"xx":return on(a);case"xxxxx":case"xxx":default:return on(a,":")}},O:function(e,r,n,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+am(a,":");case"OOOO":default:return"GMT"+on(a,":")}},z:function(e,r,n,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+am(a,":");case"zzzz":default:return"GMT"+on(a,":")}},t:function(e,r,n,s){var i=s._originalDate||e,a=Math.floor(i.getTime()/1e3);return te(a,r.length)},T:function(e,r,n,s){var i=s._originalDate||e,a=i.getTime();return te(a,r.length)}};function am(t,e){var r=t>0?"-":"+",n=Math.abs(t),s=Math.floor(n/60),i=n%60;if(i===0)return r+String(s);var a=e;return r+String(s)+a+te(i,2)}function om(t,e){if(t%60===0){var r=t>0?"-":"+";return r+te(Math.abs(t)/60,2)}return on(t,e)}function on(t,e){var r=e||"",n=t>0?"-":"+",s=Math.abs(t),i=te(Math.floor(s/60),2),a=te(s%60,2);return n+i+r+a}var lm=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Ly=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Z2=function(e,r){var n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return lm(e,r);var a;switch(s){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",lm(s,r)).replace("{{time}}",Ly(i,r))},ej={p:Ly,P:Z2},tj=["D","DD"],rj=["YY","YYYY"];function nj(t){return tj.indexOf(t)!==-1}function sj(t){return rj.indexOf(t)!==-1}function cm(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ij={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aj=function(e,r,n){var s,i=ij[e];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function _c(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var oj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dj={date:_c({formats:oj,defaultWidth:"full"}),time:_c({formats:lj,defaultWidth:"full"}),dateTime:_c({formats:cj,defaultWidth:"full"})},uj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hj=function(e,r,n,s){return uj[e]};function Hs(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=t.formattingValues[a]||t.formattingValues[i]}else{var o=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[c]||t.values[o]}var d=t.argumentCallback?t.argumentCallback(e):e;return s[d]}}var fj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vj=function(e,r){var n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bj={ordinalNumber:vj,era:Hs({values:fj,defaultWidth:"wide"}),quarter:Hs({values:mj,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Hs({values:gj,defaultWidth:"wide"}),day:Hs({values:pj,defaultWidth:"wide"}),dayPeriod:Hs({values:yj,defaultWidth:"wide",formattingValues:xj,defaultFormattingWidth:"wide"})};function Vs(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var a=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?kj(o,function(h){return h.test(a)}):wj(o,function(h){return h.test(a)}),d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;var u=e.slice(a.length);return{value:d,rest:u}}}function wj(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function kj(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function _j(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var s=n[0],i=e.match(t.parsePattern);if(!i)return null;var a=t.valueCallback?t.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;var o=e.slice(s.length);return{value:a,rest:o}}}var jj=/^(\d+)(th|st|nd|rd)?/i,Sj=/\d+/i,Nj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Cj={any:[/^b/i,/^(a|c)/i]},Pj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ej={any:[/1/i,/2/i,/3/i,/4/i]},Mj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Oj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Dj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Aj={ordinalNumber:_j({matchPattern:jj,parsePattern:Sj,valueCallback:function(e){return parseInt(e,10)}}),era:Vs({matchPatterns:Nj,defaultMatchWidth:"wide",parsePatterns:Cj,defaultParseWidth:"any"}),quarter:Vs({matchPatterns:Pj,defaultMatchWidth:"wide",parsePatterns:Ej,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Vs({matchPatterns:Mj,defaultMatchWidth:"wide",parsePatterns:Tj,defaultParseWidth:"any"}),day:Vs({matchPatterns:Oj,defaultMatchWidth:"wide",parsePatterns:Dj,defaultParseWidth:"any"}),dayPeriod:Vs({matchPatterns:Lj,defaultMatchWidth:"any",parsePatterns:Rj,defaultParseWidth:"any"})},Ry={code:"en-US",formatDistance:aj,formatLong:dj,formatRelative:hj,localize:bj,match:Aj,options:{weekStartsOn:0,firstWeekContainsDate:1}},Ij=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$j=/^'([^]*?)'?$/,zj=/''/g,Bj=/[a-zA-Z]/;function Tt(t,e,r){var n,s,i,a,o,c,d,u,h,f,m,g,p,b;ue(2,arguments);var y=String(e),x=ua(),v=(n=(s=void 0)!==null&&s!==void 0?s:x.locale)!==null&&n!==void 0?n:Ry,w=Nn((i=(a=(o=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&o!==void 0?o:x.firstWeekContainsDate)!==null&&a!==void 0?a:(d=x.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Nn((h=(f=(m=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&m!==void 0?m:x.weekStartsOn)!==null&&f!==void 0?f:(p=x.locale)===null||p===void 0||(b=p.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&h!==void 0?h:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!v.localize)throw new RangeError("locale must contain localize property");if(!v.formatLong)throw new RangeError("locale must contain formatLong property");var j=oe(t);if(!O2(j))throw new RangeError("Invalid time value");var S=Yd(j),N=W2(j,S),P={firstWeekContainsDate:w,weekStartsOn:k,locale:v,_originalDate:j},C=y.match(Fj).map(function(E){var L=E[0];if(L==="p"||L==="P"){var K=ej[L];return K(E,v.formatLong)}return E}).join("").match(Ij).map(function(E){if(E==="''")return"'";var L=E[0];if(L==="'")return Uj(E);var K=J2[L];if(K)return sj(E)&&cm(E,e,String(t)),nj(E)&&cm(E,e,String(t)),K(N,E,v.localize,P);if(L.match(Bj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return E}).join("");return C}function Uj(t){var e=t.match($j);return e?e[1].replace(zj,"'"):t}function Ay(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function Wj(t){return Ay({},t)}var dm=1440,Hj=2520,jc=43200,Vj=86400;function qj(t,e,r){var n,s;ue(2,arguments);var i=ua(),a=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:i.locale)!==null&&n!==void 0?n:Ry;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=fo(t,e);if(isNaN(o))throw new RangeError("Invalid time value");var c=Ay(Wj(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),d,u;o>0?(d=oe(e),u=oe(t)):(d=oe(t),u=oe(e));var h=U2(u,d),f=(Yd(u)-Yd(d))/1e3,m=Math.round((h-f)/60),g;if(m<2)return r!=null&&r.includeSeconds?h<5?a.formatDistance("lessThanXSeconds",5,c):h<10?a.formatDistance("lessThanXSeconds",10,c):h<20?a.formatDistance("lessThanXSeconds",20,c):h<40?a.formatDistance("halfAMinute",0,c):h<60?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",1,c):m===0?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",m,c);if(m<45)return a.formatDistance("xMinutes",m,c);if(m<90)return a.formatDistance("aboutXHours",1,c);if(m<dm){var p=Math.round(m/60);return a.formatDistance("aboutXHours",p,c)}else{if(m<Hj)return a.formatDistance("xDays",1,c);if(m<jc){var b=Math.round(m/dm);return a.formatDistance("xDays",b,c)}else if(m<Vj)return g=Math.round(m/jc),a.formatDistance("aboutXMonths",g,c)}if(g=B2(u,d),g<12){var y=Math.round(m/jc);return a.formatDistance("xMonths",y,c)}else{var x=g%12,v=Math.floor(g/12);return x<3?a.formatDistance("aboutXYears",v,c):x<9?a.formatDistance("overXYears",v,c):a.formatDistance("almostXYears",v+1,c)}}function Yj(t,e){return ue(1,arguments),qj(t,Date.now(),e)}function um(){const[t,e]=_.useState(!1),[r,n]=_.useState([]),[s,i]=_.useState(0),a=_.useRef(null);_.useEffect(()=>{const m=[{id:1,title:"New customer sign-up",message:"John Doe just signed up for a membership.",time:new Date(Date.now()-18e5),read:!1,type:"customer"},{id:2,title:"Payment received",message:"You received a payment of $49.99 for Premium Plan.",time:new Date(Date.now()-72e5),read:!1,type:"payment"},{id:3,title:"Product update",message:'Your product "Digital Marketing Guide" was updated successfully.',time:new Date(Date.now()-864e5),read:!0,type:"product"}];n(m),i(m.filter(g=>!g.read).length)},[]),_.useEffect(()=>{function m(g){a.current&&!a.current.contains(g.target)&&e(!1)}return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const o=()=>{e(!t)},c=m=>{n(r.map(g=>g.id===m?{...g,read:!0}:g)),i(g=>Math.max(0,g-1))},d=()=>{n(r.map(m=>({...m,read:!0}))),i(0)},u=m=>{n(r.filter(p=>p.id!==m));const g=r.find(p=>p.id===m);g&&!g.read&&i(p=>Math.max(0,p-1))},h=()=>{const m=r.filter(g=>!g.read);n(m)},f=m=>{switch(m){case"customer":return l.jsx("span",{className:"flex h-8 w-8 rounded-full bg-blue-100 dark:bg-blue-900 items-center justify-center",children:l.jsx("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})});case"payment":return l.jsx("span",{className:"flex h-8 w-8 rounded-full bg-green-100 dark:bg-green-900 items-center justify-center",children:l.jsx("svg",{className:"h-5 w-5 text-green-600 dark:text-green-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})});case"product":return l.jsx("span",{className:"flex h-8 w-8 rounded-full bg-purple-100 dark:bg-purple-900 items-center justify-center",children:l.jsx("svg",{className:"h-5 w-5 text-purple-600 dark:text-purple-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})});default:return l.jsx("span",{className:"flex h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-700 items-center justify-center",children:l.jsx("svg",{className:"h-5 w-5 text-gray-600 dark:text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}};return l.jsxs("div",{className:"relative",ref:a,children:[l.jsxs("button",{onClick:o,className:"relative p-1 rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none","aria-label":"Notifications",children:[l.jsx(y2,{className:"h-6 w-6"}),s>0&&l.jsx("span",{className:"absolute top-0 right-0 block h-4 w-4 rounded-full bg-red-500 text-white text-xs font-bold flex items-center justify-center transform translate-x-1 -translate-y-1",children:s})]}),t&&l.jsx("div",{className:"dropdown-menu w-80 sm:w-96 animate-fade-in",children:l.jsxs("div",{className:"py-2",children:[l.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Notifications"}),l.jsxs("div",{className:"flex space-x-2",children:[s>0&&l.jsx("button",{onClick:d,className:"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-300",children:"Mark all as read"}),r.some(m=>m.read)&&l.jsx("button",{onClick:h,className:"text-xs text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:"Delete read"})]})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length>0?r.map(m=>l.jsx("div",{className:`px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 ${m.read?"":"bg-blue-50 dark:bg-blue-900/20"}`,children:l.jsxs("div",{className:"flex items-start",children:[f(m.type),l.jsxs("div",{className:"ml-3 w-0 flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:m.title}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.message}),l.jsx("p",{className:"mt-1 text-xs text-gray-400 dark:text-gray-500",children:Yj(m.time,{addSuffix:!0})})]}),l.jsxs("div",{className:"ml-2 flex flex-col space-y-1",children:[!m.read&&l.jsx("button",{onClick:()=>c(m.id),className:"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-300",children:"Mark as read"}),l.jsx("button",{onClick:()=>u(m.id),className:"text-xs text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:"Delete"})]})]})},m.id)):l.jsx("div",{className:"px-4 py-6 text-center",children:l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No notifications yet"})})}),l.jsx("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700 text-center",children:l.jsx("button",{className:"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-300",children:"View all notifications"})})]})})]})}function Kj(){const t=localStorage.getItem("darkMode"),e=window.matchMedia("(prefers-color-scheme: dark)").matches,[r,n]=_.useState(t!==null?t==="true":e);return _.useEffect(()=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",r)},[r]),_.useEffect(()=>{const i=window.matchMedia("(prefers-color-scheme: dark)"),a=()=>{localStorage.getItem("darkMode")===null&&n(i.matches)};return i.addEventListener("change",a),()=>i.removeEventListener("change",a)},[]),{isDarkMode:r,toggleDarkMode:()=>{n(i=>!i)}}}function Gj(){var h;const{user:t,signOut:e}=se(),[r,n]=_.useState(!1),[s,i]=_.useState(!1),{isDarkMode:a,toggleDarkMode:o}=Kj(),c=async()=>{try{await e(),i(!1),n(!1)}catch(f){console.error("Error signing out:",f.message)}},d=()=>{n(!r),s&&i(!1)},u=()=>{i(!s)};return l.jsxs("nav",{className:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50",children:[l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsx($,{to:"/",className:"flex items-center",children:l.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-indigo-600 bg-clip-text text-transparent",children:"MyDigitalShelf"})})}),l.jsx("div",{className:"hidden md:flex md:items-center md:space-x-6",children:t?l.jsxs(l.Fragment,{children:[l.jsx($,{to:"/dashboard",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium",children:"Dashboard"}),l.jsx(um,{}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:u,className:"flex items-center space-x-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 focus:outline-none",children:[l.jsx("div",{className:"avatar avatar-sm bg-primary-100 dark:bg-primary-900 flex items-center justify-center",children:l.jsx(P2,{className:"text-primary-600 dark:text-primary-400"})}),l.jsx("span",{className:"font-medium hidden lg:inline-block",children:(h=t.email)==null?void 0:h.split("@")[0]})]}),s&&l.jsx("div",{className:"dropdown-menu animate-fade-in",children:l.jsxs("div",{className:"py-1",children:[l.jsxs("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700",children:["Signed in as ",l.jsx("span",{className:"font-medium",children:t.email})]}),l.jsx($,{to:"/settings",className:"dropdown-item",onClick:()=>i(!1),children:"Account Settings"}),l.jsx("button",{onClick:o,className:"dropdown-item w-full text-left flex items-center",children:a?l.jsxs(l.Fragment,{children:[l.jsx(kc,{className:"mr-2"}),"Light Mode"]}):l.jsxs(l.Fragment,{children:[l.jsx(wc,{className:"mr-2"}),"Dark Mode"]})}),l.jsxs("button",{onClick:c,className:"dropdown-item w-full text-left text-red-600 dark:text-red-400 flex items-center",children:[l.jsx(k2,{className:"mr-2"}),"Sign Out"]})]})})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:o,className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400","aria-label":"Toggle dark mode",children:a?l.jsx(kc,{size:20}):l.jsx(wc,{size:20})}),l.jsx($,{to:"/login",className:"btn btn-outline",children:"Login"}),l.jsx($,{to:"/register",className:"btn btn-primary",children:"Sign Up"})]})}),l.jsxs("div",{className:"md:hidden flex items-center space-x-4",children:[l.jsx("button",{onClick:o,className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400","aria-label":"Toggle dark mode",children:a?l.jsx(kc,{size:20}):l.jsx(wc,{size:20})}),t&&l.jsx(um,{}),l.jsx("button",{onClick:d,className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 focus:outline-none","aria-label":"Toggle mobile menu",children:r?l.jsx(Ty,{size:24}):l.jsx(_2,{size:24})})]})]})}),r&&l.jsx("div",{className:"md:hidden bg-white dark:bg-gray-800 shadow-lg animate-fade-in",children:l.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:t?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700",children:["Signed in as ",l.jsx("span",{className:"font-medium",children:t.email})]}),l.jsx($,{to:"/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>n(!1),children:"Dashboard"}),l.jsx($,{to:"/settings",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>n(!1),children:"Account Settings"}),l.jsx("button",{onClick:c,className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Sign Out"})]}):l.jsxs(l.Fragment,{children:[l.jsx($,{to:"/login",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>n(!1),children:"Login"}),l.jsx($,{to:"/register",className:"block px-3 py-2 rounded-md text-base font-medium text-primary-600 dark:text-primary-400 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>n(!1),children:"Sign Up"})]})})})]})}function Xj(){const t=[{path:"/dashboard",label:"Dashboard",icon:l.jsx(Py,{className:"w-5 h-5"})},{path:"/products",label:"Products",icon:l.jsx(ur,{className:"w-5 h-5"})},{path:"/memberships",label:"Memberships",icon:l.jsx(ws,{className:"w-5 h-5"})},{path:"/customers",label:"Customers",icon:l.jsx(da,{className:"w-5 h-5"})},{path:"/sales",label:"Sales",icon:l.jsx(Dt,{className:"w-5 h-5"})},{path:"/analytics",label:"Analytics",icon:l.jsx(Dl,{className:"w-5 h-5"})},{path:"/settings",label:"Settings",icon:l.jsx(S2,{className:"w-5 h-5"})}];return l.jsxs("aside",{className:"w-full md:w-64 bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 sticky top-24",children:[l.jsx("nav",{className:"space-y-1",children:t.map(e=>l.jsxs(a1,{to:e.path,className:({isActive:r})=>`flex items-center justify-between p-3 rounded-md transition-all duration-200 ${r?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"mr-3",children:e.icon}),l.jsx("span",{children:e.label})]}),l.jsx(x2,{className:({isActive:r})=>`w-4 h-4 transition-transform duration-200 ${r?"transform rotate-90 opacity-100":"opacity-0"}`})]},e.path))}),l.jsxs("div",{className:"mt-8 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Storage"}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5",children:l.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:"45%"}})}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:[l.jsx("span",{className:"font-medium",children:"45%"})," of 10GB used"]})]})]})}function Qj(){const{user:t}=se(),e=Tn(),r=t&&(e.pathname.startsWith("/dashboard")||e.pathname.startsWith("/products")||e.pathname.startsWith("/customers")||e.pathname.startsWith("/sales")||e.pathname.startsWith("/analytics")||e.pathname.startsWith("/memberships")||e.pathname.startsWith("/settings"));return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col",children:[l.jsx(Z0,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--toaster-bg, #fff)",color:"var(--toaster-color, #333)",border:"1px solid var(--toaster-border, #e2e8f0)"},success:{style:{"--toaster-bg":"#f0fdf4","--toaster-color":"#166534","--toaster-border":"#bbf7d0"}},error:{style:{"--toaster-bg":"#fef2f2","--toaster-color":"#b91c1c","--toaster-border":"#fecaca"}}}}),l.jsx(Gj,{}),l.jsx("div",{className:"flex-1",children:r?l.jsx("div",{className:"container mx-auto px-4 py-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[l.jsx(Xj,{}),l.jsx("main",{className:"flex-1 animate-fade-in",children:l.jsx(Dd,{})})]})}):l.jsx("main",{className:"container mx-auto px-4 py-8 animate-fade-in",children:l.jsx(Dd,{})})}),!r&&l.jsx("footer",{className:"bg-white dark:bg-gray-800 shadow-inner py-6",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[l.jsx("div",{className:"mb-4 md:mb-0",children:l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["© ",new Date().getFullYear()," MyDigitalShelf. All rights reserved."]})}),l.jsxs("div",{className:"flex space-x-6",children:[l.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 text-sm",children:"Privacy Policy"}),l.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 text-sm",children:"Terms of Service"}),l.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 text-sm",children:"Contact"})]})]})})})]})}function Jj({size:t="medium",color:e="primary"}){const r={small:"h-4 w-4",medium:"h-8 w-8",large:"h-12 w-12"},n={primary:"text-primary-600 dark:text-primary-400",white:"text-white",gray:"text-gray-500 dark:text-gray-400"};return l.jsx("div",{className:"flex justify-center items-center",children:l.jsxs("svg",{className:`animate-spin ${r[t]} ${n[e]}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}function Zr(){const{user:t,loading:e}=se();return e?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(Jj,{size:"large"})}):t?l.jsx(Dd,{}):l.jsx(Yw,{to:"/login",replace:!0})}function Zj(){const{user:t}=se();return l.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-primary-500 to-primary-700 bg-clip-text text-transparent",children:"MyDigitalShelf"}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto",children:"Create, sell, and deliver digital products with ease. Manage your digital inventory, process payments, and automate delivery all in one place."}),l.jsx("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:t?l.jsx($,{to:"/dashboard",className:"btn btn-primary px-8 py-3 text-lg",children:"Go to Dashboard"}):l.jsxs(l.Fragment,{children:[l.jsx($,{to:"/register",className:"btn btn-primary px-8 py-3 text-lg",children:"Get Started"}),l.jsx($,{to:"/login",className:"btn btn-outline px-8 py-3 text-lg",children:"Sign In"})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-primary-500 mb-4",children:l.jsx(ur,{className:"h-12 w-12"})}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Digital Products"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Sell e-books, courses, software, templates, and any other digital products with secure delivery."})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-primary-500 mb-4",children:l.jsx(ws,{className:"h-12 w-12"})}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Membership Sites"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create and manage membership sites with recurring payments and protected content access."})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-primary-500 mb-4",children:l.jsx(ih,{className:"h-12 w-12"})}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Automated Delivery"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Automatically deliver products to customers after purchase with secure download links."})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-primary-500 mb-4",children:l.jsx(N2,{className:"h-12 w-12"})}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"License Protection"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Protect your digital products with license keys and download limits to prevent unauthorized sharing."})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-primary-500 mb-4",children:l.jsx(Dl,{className:"h-12 w-12"})}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Sales Analytics"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your sales, revenue, and customer behavior with detailed analytics and reports."})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-primary-500 mb-4",children:l.jsx(Cy,{className:"h-12 w-12"})}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Global Payments"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Accept payments from customers worldwide with multiple payment gateway integrations."})]})]}),l.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-xl p-8 mb-16",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"How It Works"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Our platform makes selling digital products simple and straightforward."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"1"}),l.jsx("h3",{className:"font-semibold mb-2",children:"Create Account"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Sign up and set up your seller profile"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"2"}),l.jsx("h3",{className:"font-semibold mb-2",children:"Upload Products"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Add your digital products and set prices"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"3"}),l.jsx("h3",{className:"font-semibold mb-2",children:"Share Your Store"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Promote your products with a custom storefront"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"4"}),l.jsx("h3",{className:"font-semibold mb-2",children:"Get Paid"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Receive payments directly to your account"})]})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Ready to start selling?"}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:"Join thousands of creators who are successfully selling digital products online."}),t?l.jsx($,{to:"/dashboard",className:"btn btn-primary px-8 py-3 text-lg",children:"Go to Dashboard"}):l.jsx($,{to:"/register",className:"btn btn-primary px-8 py-3 text-lg",children:"Create Your Account"})]})]})}function eS(){const[t,e]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(!1),{signIn:a}=se(),o=ut(),c=async d=>{if(d.preventDefault(),!t||!r){F.error("Please fill in all fields");return}try{i(!0),await a(t,r),F.success("Logged in successfully!"),o("/dashboard")}catch(u){console.error("Login error:",u),F.error(u.message||"Failed to log in")}finally{i(!1)}};return l.jsx("div",{className:"max-w-md mx-auto",children:l.jsxs("div",{className:"card",children:[l.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Log In"}),l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),l.jsx("input",{id:"email",type:"email",value:t,onChange:d=>e(d.target.value),className:"input",placeholder:"your@email.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),l.jsx("input",{id:"password",type:"password",value:r,onChange:d=>n(d.target.value),className:"input",placeholder:"••••••••",required:!0}),l.jsx("div",{className:"flex justify-end mt-1",children:l.jsx($,{to:"/forgot-password",className:"text-sm text-primary-600 hover:underline",children:"Forgot password?"})})]}),l.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:s,children:s?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Log In"})]}),l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",l.jsx($,{to:"/signup",className:"text-primary-600 hover:underline",children:"Sign up"})]})})]})})}function tS(){const[t,e]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(""),[a,o]=_.useState(!1),[c,d]=_.useState(!1),{signUp:u}=se(),h=ut(),f=async m=>{if(m.preventDefault(),!t||!r||!s){F.error("Please fill in all fields");return}if(r!==s){F.error("Passwords do not match");return}if(r.length<6){F.error("Password must be at least 6 characters");return}try{o(!0);const{data:g,needsEmailConfirmation:p}=await u(t,r);!p&&g.session?(F.success("Account created successfully!"),h("/dashboard")):(d(!0),F.success("Please check your email for a confirmation link"))}catch(g){console.error("Signup error:",g),F.error(g.message||"Failed to create account")}finally{o(!1)}};return c?l.jsx("div",{className:"max-w-md mx-auto",children:l.jsxs("div",{className:"card",children:[l.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Check Your Email"}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),l.jsxs("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:["We've sent a confirmation link to ",l.jsx("strong",{children:t})]}),l.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Please check your email and click the link to activate your account."})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx($,{to:"/login",className:"btn btn-outline w-full",children:"Return to Login"})})]})}):l.jsx("div",{className:"max-w-md mx-auto",children:l.jsxs("div",{className:"card",children:[l.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Create an Account"}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),l.jsx("input",{id:"email",type:"email",value:t,onChange:m=>e(m.target.value),className:"input",placeholder:"your@email.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),l.jsx("input",{id:"password",type:"password",value:r,onChange:m=>n(m.target.value),className:"input",placeholder:"••••••••",required:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 6 characters"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),l.jsx("input",{id:"confirmPassword",type:"password",value:s,onChange:m=>i(m.target.value),className:"input",placeholder:"••••••••",required:!0})]}),l.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:a,children:a?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Sign Up"})]}),l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",l.jsx($,{to:"/login",className:"text-primary-600 hover:underline",children:"Log in"})]})})]})})}function rS(){const{user:t}=se(),[e,r]=_.useState({totalProducts:0,totalCustomers:0,totalMemberships:0,recentSales:[],revenue:{today:0,thisWeek:0,thisMonth:0,total:0}}),[n,s]=_.useState(!0),[i,a]=_.useState(null);return _.useEffect(()=>{if(!t){s(!1);return}async function o(){try{s(!0);const{data:c,error:d}=await I.from("information_schema.tables").select("table_name").eq("table_schema","public");d&&console.error("Error checking tables:",d);const u=c?c.map(E=>E.table_name):[],h=!c||u.includes("products"),f=!c||u.includes("customers"),m=!c||u.includes("memberships");if(!h&&!f&&!m){r({totalProducts:5,totalCustomers:12,totalMemberships:8,recentSales:[{id:"1",created_at:new Date().toISOString(),status:"active",amount:29.99,customer:{name:"John Doe",email:"john@example.com"},product:{name:"Premium Course"}},{id:"2",created_at:new Date(Date.now()-864e5).toISOString(),status:"active",amount:19.99,customer:{name:"Jane Smith",email:"jane@example.com"},product:{name:"Basic Membership"}}],revenue:{today:49.98,thisWeek:149.95,thisMonth:299.9,total:599.8}}),s(!1);return}const g=[];let p={count:0},b={count:0},y={count:0},x={data:[]};h&&g.push(I.from("products").select("id",{count:"exact",head:!0}).eq("user_id",t.id).then(E=>{p=E})),f&&g.push(I.from("customers").select("id",{count:"exact",head:!0}).eq("user_id",t.id).then(E=>{b=E})),m&&(g.push(I.from("memberships").select("id",{count:"exact",head:!0}).eq("user_id",t.id).then(E=>{y=E})),f&&h&&g.push(I.from("memberships").select(`
                  id,
                  created_at,
                  status,
                  amount,
                  customer:customers(name, email),
                  product:products(name)
                `).eq("user_id",t.id).eq("status","active").order("created_at",{ascending:!1}).limit(5).then(E=>{x=E}))),await Promise.all(g),p.error&&console.error(p.error),b.error&&console.error(b.error),y.error&&console.error(y.error),x.error&&console.error(x.error);const v=new Date,w=new Date(v.getFullYear(),v.getMonth(),v.getDate()).toISOString(),k=new Date(v.getFullYear(),v.getMonth(),v.getDate()-v.getDay()).toISOString(),j=new Date(v.getFullYear(),v.getMonth(),1).toISOString();let S=0,N=0,P=0,C=0;if(m){const E=[];let L={data:[]},K={data:[]},he={data:[]},U={data:[]};E.push(I.from("memberships").select("amount").eq("user_id",t.id).eq("status","active").gte("created_at",w).then(W=>{L=W})),E.push(I.from("memberships").select("amount").eq("user_id",t.id).eq("status","active").gte("created_at",k).then(W=>{K=W})),E.push(I.from("memberships").select("amount").eq("user_id",t.id).eq("status","active").gte("created_at",j).then(W=>{he=W})),E.push(I.from("memberships").select("amount").eq("user_id",t.id).eq("status","active").then(W=>{U=W})),await Promise.all(E),L.error&&console.error(L.error),K.error&&console.error(K.error),he.error&&console.error(he.error),U.error&&console.error(U.error);const q=W=>W.reduce((T,R)=>T+(parseFloat(R.amount)||0),0);S=q(L.data||[]),N=q(K.data||[]),P=q(he.data||[]),C=q(U.data||[])}else S=49.98,N=149.95,P=299.9,C=599.8;r({totalProducts:p.count||0,totalCustomers:b.count||0,totalMemberships:y.count||0,recentSales:x.data||[],revenue:{today:S,thisWeek:N,thisMonth:P,total:C}})}catch(c){console.error("Error fetching dashboard stats:",c),r({totalProducts:5,totalCustomers:12,totalMemberships:8,recentSales:[{id:"1",created_at:new Date().toISOString(),status:"active",amount:29.99,customer:{name:"John Doe",email:"john@example.com"},product:{name:"Premium Course"}},{id:"2",created_at:new Date(Date.now()-864e5).toISOString(),status:"active",amount:19.99,customer:{name:"Jane Smith",email:"jane@example.com"},product:{name:"Basic Membership"}}],revenue:{today:49.98,thisWeek:149.95,thisMonth:299.9,total:599.8}})}finally{s(!1)}}o()},[t]),{stats:e,loading:n,error:i}}function qi(t,e="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:2,maximumFractionDigits:2}).format(t||0)}function nS(t,e={}){if(!t)return"";const n={...{year:"numeric",month:"short",day:"numeric"},...e};return new Intl.DateTimeFormat("en-US",n).format(new Date(t))}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ha=(t,e)=>{const r=_.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,...d},u)=>_.createElement("svg",{ref:u,...sS,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${iS(t)}`,o].join(" "),...d},[...e.map(([h,f])=>_.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=ha("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=ha("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=ha("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=ha("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=ha("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function uS(){const{stats:t,loading:e,error:r}=rS();return e?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(oS,{className:"w-8 h-8 animate-spin text-blue-500"})}):r?l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l.jsx("p",{children:"Error loading dashboard data. Please try again."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(Fa,{title:"Total Products",value:t.totalProducts,icon:l.jsx(lS,{className:"w-5 h-5"}),color:"bg-blue-500"}),l.jsx(Fa,{title:"Total Customers",value:t.totalCustomers,icon:l.jsx(dS,{className:"w-5 h-5"}),color:"bg-green-500"}),l.jsx(Fa,{title:"Active Memberships",value:t.totalMemberships,icon:l.jsx(aS,{className:"w-5 h-5"}),color:"bg-purple-500"}),l.jsx(Fa,{title:"Total Revenue",value:qi(t.revenue.total),icon:l.jsx(cS,{className:"w-5 h-5"}),color:"bg-indigo-500"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Revenue"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(Sc,{title:"Today",value:t.revenue.today}),l.jsx(Sc,{title:"This Week",value:t.revenue.thisWeek}),l.jsx(Sc,{title:"This Month",value:t.revenue.thisMonth})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b",children:l.jsx("h3",{className:"text-lg font-medium",children:"Recent Sales"})}),l.jsx("div",{className:"divide-y",children:t.recentSales.length>0?t.recentSales.map(n=>{var s,i,a;return l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:((s=n.customer)==null?void 0:s.name)||"Unknown Customer"}),l.jsx("p",{className:"text-sm text-gray-500",children:(i=n.customer)==null?void 0:i.email}),l.jsx("p",{className:"text-xs text-gray-400",children:nS(n.created_at)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-medium",children:qi(n.amount)}),l.jsx("p",{className:"text-sm text-gray-500",children:(a=n.product)==null?void 0:a.name}),l.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:n.status})]})]},n.id)}):l.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:l.jsx("p",{children:"No recent sales found"})})})]})]})}function Fa({title:t,value:e,icon:r,color:n}){return l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`${n} rounded-full p-3 text-white mr-4`,children:r}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:t}),l.jsx("p",{className:"text-2xl font-bold",children:e})]})]})})}function Sc({title:t,value:e}){return l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:t}),l.jsx("p",{className:"text-xl font-bold",children:qi(e)})]})}function hS(){const{user:t}=se();return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs($,{to:"/products/create",className:"btn btn-primary",children:[l.jsx(ur,{className:"mr-2"}),"Add Product"]}),l.jsxs($,{to:"/memberships/create",className:"btn btn-outline",children:[l.jsx(ws,{className:"mr-2"}),"Create Membership"]})]})]}),l.jsx(uS,{}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx($,{to:"/products/create",className:"btn btn-primary",children:"Add New Product"}),l.jsx($,{to:"/memberships/create",className:"btn btn-outline",children:"Create Membership"}),l.jsx($,{to:"/customers",className:"btn btn-outline",children:"View Customers"}),l.jsx($,{to:"/analytics",className:"btn btn-outline",children:"View Analytics"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Tips & Resources"}),l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 p-1 rounded mr-2",children:l.jsx(ur,{className:"h-4 w-4"})}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:l.jsx("a",{href:"#",className:"text-primary-600 hover:underline",children:"How to create your first digital product"})})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 p-1 rounded mr-2",children:l.jsx(da,{className:"h-4 w-4"})}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:l.jsx("a",{href:"#",className:"text-primary-600 hover:underline",children:"Growing your customer base"})})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 p-1 rounded mr-2",children:l.jsx(ws,{className:"h-4 w-4"})}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:l.jsx("a",{href:"#",className:"text-primary-600 hover:underline",children:"Setting up recurring memberships"})})]})]})]})]})]})}function fS(){const{user:t}=se(),[e,r]=_.useState([]),[n,s]=_.useState(!0),[i,a]=_.useState(""),[o,c]=_.useState("all");_.useEffect(()=>{async function h(){try{if(s(!0),!t)return;const{data:f,error:m}=await I.from("products").select("*").order("created_at",{ascending:!1});if(m)throw m;r(f||[]),s(!1)}catch(f){console.error("Error fetching products:",f),F.error("Failed to load products"),s(!1)}}h()},[t]);const d=e.filter(h=>!(i&&!h.name.toLowerCase().includes(i.toLowerCase())||o!=="all"&&h.status!==o)),u=async h=>{if(confirm("Are you sure you want to delete this product?"))try{const{error:f}=await I.from("products").delete().eq("id",h);if(f)throw f;r(e.filter(m=>m.id!==h)),F.success("Product deleted successfully")}catch(f){console.error("Error deleting product:",f),F.error("Failed to delete product")}};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Products"}),l.jsxs($,{to:"/products/create",className:"btn btn-primary mt-2 sm:mt-0",children:[l.jsx(ks,{className:"mr-2"}),"Add Product"]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Il,{className:"text-gray-400"})}),l.jsx("input",{type:"text",placeholder:"Search products...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:i,onChange:h=>a(h.target.value)})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Al,{className:"mr-2 text-gray-500 dark:text-gray-400"}),l.jsxs("select",{className:"border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",value:o,onChange:h=>c(h.target.value),children:[l.jsx("option",{value:"all",children:"All Products"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"draft",children:"Draft"})]})]})]}),n?l.jsx("div",{className:"animate-pulse",children:[...Array(5)].map((h,f)=>l.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 py-4",children:[l.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]},f))}):d.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-500 dark:text-gray-400 text-sm",children:[l.jsx("th",{className:"pb-3",children:"Name"}),l.jsx("th",{className:"pb-3",children:"Type"}),l.jsx("th",{className:"pb-3",children:"Price"}),l.jsx("th",{className:"pb-3",children:"Sales"}),l.jsx("th",{className:"pb-3",children:"Status"}),l.jsx("th",{className:"pb-3",children:"Created"}),l.jsx("th",{className:"pb-3",children:"Actions"})]})}),l.jsx("tbody",{children:d.map(h=>l.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[l.jsx("td",{className:"py-3 font-medium",children:h.name}),l.jsx("td",{className:"py-3 capitalize",children:h.type}),l.jsxs("td",{className:"py-3",children:["$",parseFloat(h.price).toFixed(2)]}),l.jsx("td",{className:"py-3",children:h.total_sales||0}),l.jsx("td",{className:"py-3",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:h.status})}),l.jsx("td",{className:"py-3",children:Tt(new Date(h.created_at),"MMM dd, yyyy")}),l.jsx("td",{className:"py-3",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx($,{to:`/products/${h.id}`,className:"text-gray-500 hover:text-primary-600",children:l.jsx(Ll,{})}),l.jsx($,{to:`/products/${h.id}/edit`,className:"text-gray-500 hover:text-primary-600",children:l.jsx(xn,{})}),l.jsx("button",{onClick:()=>u(h.id),className:"text-gray-500 hover:text-red-600",children:l.jsx(_s,{})})]})})]},h.id))})]})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No products found."}),l.jsxs($,{to:"/products/create",className:"btn btn-primary",children:[l.jsx(ks,{className:"mr-2"}),"Add Your First Product"]})]})]})]})}function mS(){const{user:t}=se(),e=ut(),[r,n]=_.useState({name:"",description:"",type:"ebook",price:"",status:"draft",download_url:"",license_type:"standard",download_limit:3,file_size:"",file_type:""}),[s,i]=_.useState(null),[a,o]=_.useState(!1),c=h=>{const{name:f,value:m}=h.target;n(g=>({...g,[f]:m}))},d=h=>{if(h.target.files&&h.target.files[0]){const f=h.target.files[0];i(f);const m=(f.size/(1024*1024)).toFixed(2);n(g=>({...g,file_size:`${m} MB`,file_type:f.type.split("/")[1].toUpperCase()}))}},u=async h=>{if(h.preventDefault(),!r.name||!r.price){F.error("Please fill in all required fields");return}try{o(!0);let f=r.download_url;if(s){const b=s.name.split(".").pop(),y=`${Math.random().toString(36).substring(2,15)}.${b}`,x=`${t.id}/${y}`;console.log("Uploading file to path:",x);const{error:v,data:w}=await I.storage.from("product_files").upload(x,s,{cacheControl:"3600",upsert:!1});if(v)throw console.error("File upload error:",v),v;console.log("File uploaded successfully:",w);const{data:{publicUrl:k}}=I.storage.from("product_files").getPublicUrl(x);f=k,console.log("File public URL:",f)}const m={name:r.name,description:r.description,type:r.type,price:parseFloat(r.price),status:r.status,download_url:f,license_type:r.license_type,download_limit:parseInt(r.download_limit),file_size:r.file_size,file_type:r.file_type,user_id:t.id};console.log("Creating product with data:",m);const{error:g,data:p}=await I.from("products").insert(m).select();if(g)throw console.error("Database insert error:",g),g;console.log("Product created successfully:",p),F.success("Product created successfully!"),e("/products")}catch(f){console.error("Error creating product:",f),F.error(`Failed to create product: ${f.message||"Unknown error"}`),o(!1)}};return l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h1",{className:"text-2xl font-bold",children:"Create New Product"})}),l.jsxs("form",{onSubmit:u,className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product Name *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ur,{className:"text-gray-400"})}),l.jsx("input",{type:"text",name:"name",value:r.name,onChange:c,placeholder:"e.g., Ultimate Web Design Course",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product Type"}),l.jsxs("select",{name:"type",value:r.type,onChange:c,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",children:[l.jsx("option",{value:"ebook",children:"E-Book"}),l.jsx("option",{value:"course",children:"Course"}),l.jsx("option",{value:"software",children:"Software"}),l.jsx("option",{value:"templates",children:"Templates"}),l.jsx("option",{value:"graphics",children:"Graphics"}),l.jsx("option",{value:"audio",children:"Audio"}),l.jsx("option",{value:"video",children:"Video"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Price ($) *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Dt,{className:"text-gray-400"})}),l.jsx("input",{type:"number",name:"price",value:r.price,onChange:c,placeholder:"29.99",min:"0",step:"0.01",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),l.jsxs("select",{name:"status",value:r.status,onChange:c,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",children:[l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"active",children:"Active"})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute top-3 left-3 flex items-start pointer-events-none",children:l.jsx(Rl,{className:"text-gray-400"})}),l.jsx("textarea",{name:"description",value:r.description,onChange:c,rows:"4",placeholder:"Describe your product...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product File"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-md p-6 text-center",children:[l.jsx("input",{type:"file",onChange:d,className:"hidden",id:"product-file"}),l.jsxs("label",{htmlFor:"product-file",className:"cursor-pointer",children:[l.jsx(My,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:s?s.name:"Click to upload or drag and drop"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"PDF, ZIP, MP4, MP3 (max. 500MB)"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Or External Download URL"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Ey,{className:"text-gray-400"})}),l.jsx("input",{type:"url",name:"download_url",value:r.download_url,onChange:c,placeholder:"https://example.com/download/file.pdf",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"If your product is hosted elsewhere, provide the download URL"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"License Type"}),l.jsxs("select",{name:"license_type",value:r.license_type,onChange:c,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",children:[l.jsx("option",{value:"standard",children:"Standard License"}),l.jsx("option",{value:"extended",children:"Extended License"}),l.jsx("option",{value:"unlimited",children:"Unlimited License"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Download Limit"}),l.jsx("input",{type:"number",name:"download_limit",value:r.download_limit,onChange:c,min:"1",max:"100",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Number of times a customer can download this product"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[l.jsx("button",{type:"button",onClick:()=>e("/products"),className:"btn btn-outline",disabled:a,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):l.jsxs("span",{className:"flex items-center",children:[l.jsx(ir,{className:"mr-2"}),"Create Product"]})})]})]})]})}function gS(){const{user:t}=se(),{id:e}=Ts(),r=ut(),[n,s]=_.useState(null),[i,a]=_.useState(!0),[o,c]=_.useState([]);_.useEffect(()=>{async function u(){try{if(a(!0),!t||!e)return;const{data:h,error:f}=await I.from("products").select("*").eq("id",e).single();if(f)throw f;if(!h){F.error("Product not found"),r("/products");return}s(h);const m=[{date:new Date(2023,10,1),count:3,revenue:149.97},{date:new Date(2023,10,2),count:2,revenue:99.98},{date:new Date(2023,10,3),count:5,revenue:249.95},{date:new Date(2023,10,4),count:4,revenue:199.96},{date:new Date(2023,10,5),count:2,revenue:99.98},{date:new Date(2023,10,6),count:3,revenue:149.97},{date:new Date(2023,10,7),count:5,revenue:249.95}];c(m),a(!1)}catch(h){console.error("Error fetching product:",h),F.error("Failed to load product"),a(!1),r("/products")}}u()},[e,t,r]);const d=async()=>{if(window.confirm("Are you sure you want to delete this product? This action cannot be undone."))try{const{error:u}=await I.from("products").delete().eq("id",e);if(u)throw u;F.success("Product deleted successfully"),r("/products")}catch(u){console.error("Error deleting product:",u),F.error("Failed to delete product")}};return i?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:n.name}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Product ID: ",n.id]})]}),l.jsxs("div",{className:"flex space-x-2 mt-4 sm:mt-0",children:[l.jsxs($,{to:`/products/${e}/edit`,className:"btn btn-outline",children:[l.jsx(xn,{className:"mr-2"}),"Edit"]}),l.jsxs("button",{onClick:d,className:"btn btn-danger",children:[l.jsx(_s,{className:"mr-2"}),"Delete"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Product Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Product Type"}),l.jsxs("p",{className:"text-gray-900 dark:text-gray-100 capitalize flex items-center",children:[l.jsx(ur,{className:"mr-2 text-gray-400"}),n.type]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Price"}),l.jsxs("p",{className:"text-gray-900 dark:text-gray-100 flex items-center",children:[l.jsx(Dt,{className:"mr-2 text-gray-400"}),"$",parseFloat(n.price).toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Created"}),l.jsxs("p",{className:"text-gray-900 dark:text-gray-100 flex items-center",children:[l.jsx(Vi,{className:"mr-2 text-gray-400"}),Tt(new Date(n.created_at),"MMM dd, yyyy")]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Last Updated"}),l.jsxs("p",{className:"text-gray-900 dark:text-gray-100 flex items-center",children:[l.jsx(Vi,{className:"mr-2 text-gray-400"}),Tt(new Date(n.updated_at),"MMM dd, yyyy")]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),l.jsx("p",{className:"flex items-center",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:n.status})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"License Type"}),l.jsx("p",{className:"text-gray-900 dark:text-gray-100 capitalize",children:n.license_type||"Standard"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Description"}),l.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:n.description||"No description provided."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"File Information"}),l.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:n.file_type?`${n.file_type} • ${n.file_size}`:"No file uploaded"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Download Limit"}),l.jsxs("p",{className:"text-gray-900 dark:text-gray-100",children:[n.download_limit||3," downloads per purchase"]})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Download Options"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.file_type&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Direct Download"}),l.jsxs("button",{className:"btn btn-primary w-full",children:[l.jsx(ih,{className:"mr-2"}),"Download File"]})]}),n.download_url&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"External Link"}),l.jsxs("a",{href:n.download_url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline w-full",children:[l.jsx(b2,{className:"mr-2"}),"Open Download URL"]})]}),!n.file_type&&!n.download_url&&l.jsxs("div",{className:"col-span-2 text-center py-4",children:[l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No download options available."}),l.jsxs($,{to:`/products/${e}/edit`,className:"btn btn-outline mt-2",children:[l.jsx(xn,{className:"mr-2"}),"Add Download Options"]})]})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sales Summary"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Total Sales"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center",children:[l.jsx(da,{className:"mr-2 text-primary-500"}),n.total_sales||0]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Revenue"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center",children:[l.jsx(Dt,{className:"mr-2 text-primary-500"}),"$",parseFloat(n.revenue||0).toFixed(2)]})]})]}),l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Recent Sales"}),n.total_sales>0?l.jsx("div",{className:"space-y-3",children:o.map((u,h)=>l.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-700 pb-2 last:border-0 last:pb-0",children:[l.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:Tt(u.date,"MMM dd")}),l.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[u.count," sales"]}),l.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:["$",u.revenue.toFixed(2)]})]},h))}):l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No sales data available yet."})})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs($,{to:`/products/${e}/edit`,className:"btn btn-outline w-full justify-start",children:[l.jsx(xn,{className:"mr-2"}),"Edit Product"]}),l.jsxs("button",{className:"btn btn-outline w-full justify-start",children:[l.jsx(Dl,{className:"mr-2"}),"View Analytics"]}),l.jsxs("button",{onClick:d,className:"btn btn-danger w-full justify-start",children:[l.jsx(_s,{className:"mr-2"}),"Delete Product"]})]})]})]})]})]})}function pS(){const{user:t}=se(),e=ut(),{id:r}=Ts(),[n,s]=_.useState({name:"",description:"",type:"ebook",price:"",status:"draft",download_url:"",license_type:"standard",download_limit:3,file_size:"",file_type:""}),[i,a]=_.useState(null),[o,c]=_.useState(!1),[d,u]=_.useState(!0);_.useEffect(()=>{async function g(){try{if(u(!0),!t||!r)return;const{data:p,error:b}=await I.from("products").select("*").eq("id",r).single();if(b)throw b;if(!p){F.error("Product not found"),e("/products");return}s(p),u(!1)}catch(p){console.error("Error fetching product:",p),F.error("Failed to load product"),u(!1),e("/products")}}g()},[r,t,e]);const h=g=>{const{name:p,value:b}=g.target;s(y=>({...y,[p]:b}))},f=g=>{if(g.target.files&&g.target.files[0]){const p=g.target.files[0];a(p);const b=(p.size/(1024*1024)).toFixed(2);s(y=>({...y,file_size:`${b} MB`,file_type:p.type.split("/")[1].toUpperCase()}))}},m=async g=>{if(g.preventDefault(),!n.name||!n.price){F.error("Please fill in all required fields");return}try{c(!0);let p=n.download_url;if(i){const y=i.name.split(".").pop(),x=`${Math.random().toString(36).substring(2,15)}.${y}`,v=`${t.id}/${x}`,{error:w}=await I.storage.from("product_files").upload(v,i);if(w)throw w;const{data:{publicUrl:k}}=I.storage.from("product_files").getPublicUrl(v);p=k}const{error:b}=await I.from("products").update({...n,price:parseFloat(n.price),download_url:p,updated_at:new Date().toISOString()}).eq("id",r);if(b)throw b;F.success("Product updated successfully!"),e("/products")}catch(p){console.error("Error updating product:",p),F.error("Failed to update product"),c(!1)}};return d?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h1",{className:"text-2xl font-bold",children:"Edit Product"})}),l.jsxs("form",{onSubmit:m,className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product Name *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ur,{className:"text-gray-400"})}),l.jsx("input",{type:"text",name:"name",value:n.name,onChange:h,placeholder:"e.g., Ultimate Web Design Course",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product Type"}),l.jsxs("select",{name:"type",value:n.type,onChange:h,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",children:[l.jsx("option",{value:"ebook",children:"E-Book"}),l.jsx("option",{value:"course",children:"Course"}),l.jsx("option",{value:"software",children:"Software"}),l.jsx("option",{value:"templates",children:"Templates"}),l.jsx("option",{value:"graphics",children:"Graphics"}),l.jsx("option",{value:"audio",children:"Audio"}),l.jsx("option",{value:"video",children:"Video"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Price ($) *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Dt,{className:"text-gray-400"})}),l.jsx("input",{type:"number",name:"price",value:n.price,onChange:h,placeholder:"29.99",min:"0",step:"0.01",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),l.jsxs("select",{name:"status",value:n.status,onChange:h,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",children:[l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"active",children:"Active"})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute top-3 left-3 flex items-start pointer-events-none",children:l.jsx(Rl,{className:"text-gray-400"})}),l.jsx("textarea",{name:"description",value:n.description||"",onChange:h,rows:"4",placeholder:"Describe your product...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product File"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-md p-6 text-center",children:[l.jsx("input",{type:"file",onChange:f,className:"hidden",id:"product-file"}),l.jsxs("label",{htmlFor:"product-file",className:"cursor-pointer",children:[l.jsx(My,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:i?i.name:n.file_size?"File already uploaded (click to replace)":"Click to upload or drag and drop"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"PDF, ZIP, MP4, MP3 (max. 500MB)"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Or External Download URL"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Ey,{className:"text-gray-400"})}),l.jsx("input",{type:"url",name:"download_url",value:n.download_url||"",onChange:h,placeholder:"https://example.com/download/file.pdf",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"If your product is hosted elsewhere, provide the download URL"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"License Type"}),l.jsxs("select",{name:"license_type",value:n.license_type||"standard",onChange:h,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",children:[l.jsx("option",{value:"standard",children:"Standard License"}),l.jsx("option",{value:"extended",children:"Extended License"}),l.jsx("option",{value:"unlimited",children:"Unlimited License"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Download Limit"}),l.jsx("input",{type:"number",name:"download_limit",value:n.download_limit||3,onChange:h,min:"1",max:"100",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Number of times a customer can download this product"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[l.jsx("button",{type:"button",onClick:()=>e("/products"),className:"btn btn-outline",disabled:o,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):l.jsxs("span",{className:"flex items-center",children:[l.jsx(ir,{className:"mr-2"}),"Save Changes"]})})]})]})]})}function yS(){const{user:t}=se(),[e,r]=_.useState([]),[n,s]=_.useState(!0),[i,a]=_.useState(""),[o,c]=_.useState("all");_.useEffect(()=>{d()},[t]);async function d(){try{if(s(!0),!t)return;const{data:f,error:m}=await I.from("memberships").select("*").order("created_at",{ascending:!1});if(m)throw m;f&&r(f)}catch(f){console.error("Error fetching memberships:",f),F.error("Failed to load memberships")}finally{s(!1)}}const u=e.filter(f=>!(i&&!f.name.toLowerCase().includes(i.toLowerCase())||o!=="all"&&f.status!==o)),h=async f=>{try{const{error:m}=await I.from("memberships").delete().eq("id",f);if(m)throw m;r(e.filter(g=>g.id!==f)),F.success("Membership deleted successfully")}catch(m){console.error("Error deleting membership:",m),F.error("Failed to delete membership")}};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Memberships"}),l.jsxs($,{to:"/memberships/create",className:"btn btn-primary mt-2 sm:mt-0",children:[l.jsx(ks,{className:"mr-2"}),"Create Membership"]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Il,{className:"text-gray-400"})}),l.jsx("input",{type:"text",placeholder:"Search memberships...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:i,onChange:f=>a(f.target.value)})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Al,{className:"mr-2 text-gray-500 dark:text-gray-400"}),l.jsxs("select",{className:"border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",value:o,onChange:f=>c(f.target.value),children:[l.jsx("option",{value:"all",children:"All Memberships"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"archived",children:"Archived"})]})]})]}),n?l.jsx("div",{className:"animate-pulse",children:[...Array(2)].map((f,m)=>l.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 py-4",children:[l.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]},m))}):u.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-500 dark:text-gray-400 text-sm",children:[l.jsx("th",{className:"pb-3",children:"Name"}),l.jsx("th",{className:"pb-3",children:"Price"}),l.jsx("th",{className:"pb-3",children:"Billing"}),l.jsx("th",{className:"pb-3",children:"Status"}),l.jsx("th",{className:"pb-3",children:"Created"}),l.jsx("th",{className:"pb-3",children:"Actions"})]})}),l.jsx("tbody",{children:u.map(f=>l.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[l.jsx("td",{className:"py-3 font-medium",children:f.name}),l.jsxs("td",{className:"py-3",children:["$",parseFloat(f.price).toFixed(2)]}),l.jsx("td",{className:"py-3 capitalize",children:f.billing_cycle}),l.jsx("td",{className:"py-3",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":f.status==="archived"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:f.status})}),l.jsx("td",{className:"py-3",children:Tt(new Date(f.created_at),"MMM dd, yyyy")}),l.jsx("td",{className:"py-3",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx($,{to:`/memberships/${f.id}`,className:"text-gray-500 hover:text-primary-600",children:l.jsx(Ll,{})}),l.jsx($,{to:`/memberships/${f.id}/edit`,className:"text-gray-500 hover:text-primary-600",children:l.jsx(xn,{})}),l.jsx("button",{onClick:()=>h(f.id),className:"text-gray-500 hover:text-red-600",children:l.jsx(_s,{})})]})})]},f.id))})]})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No memberships found."}),l.jsxs($,{to:"/memberships/create",className:"btn btn-primary",children:[l.jsx(ks,{className:"mr-2"}),"Create Your First Membership"]})]})]})]})}function xS(){const{user:t}=se(),e=ut(),[r,n]=_.useState({name:"",description:"",price:"",billing_cycle:"monthly",status:"draft",trial_days:0,access_type:"standard"}),[s,i]=_.useState(!1),a=c=>{const{name:d,value:u}=c.target;n(h=>({...h,[d]:u}))},o=async c=>{if(c.preventDefault(),!r.name||!r.price){F.error("Please fill in all required fields");return}try{i(!0);const{data:d,error:u}=await I.from("memberships").insert([{...r,seller_id:t.id,price:parseFloat(r.price)}]).select();if(u)throw u;F.success("Membership created successfully!"),e("/memberships")}catch(d){console.error("Error creating membership:",d),F.error("Failed to create membership")}finally{i(!1)}};return l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h1",{className:"text-2xl font-bold",children:"Create Membership"})}),l.jsxs("form",{onSubmit:o,className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Membership Name *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ws,{className:"text-gray-400"})}),l.jsx("input",{type:"text",name:"name",value:r.name,onChange:a,placeholder:"e.g., Premium Membership",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Price ($) *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Dt,{className:"text-gray-400"})}),l.jsx("input",{type:"number",name:"price",value:r.price,onChange:a,placeholder:"19.99",min:"0",step:"0.01",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Billing Cycle"}),l.jsxs("select",{name:"billing_cycle",value:r.billing_cycle,onChange:a,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",children:[l.jsx("option",{value:"monthly",children:"Monthly"}),l.jsx("option",{value:"quarterly",children:"Quarterly"}),l.jsx("option",{value:"yearly",children:"Yearly"}),l.jsx("option",{value:"lifetime",children:"Lifetime (one-time)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),l.jsxs("select",{name:"status",value:r.status,onChange:a,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",children:[l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"archived",children:"Archived"})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute top-3 left-3 flex items-start pointer-events-none",children:l.jsx(Rl,{className:"text-gray-400"})}),l.jsx("textarea",{name:"description",value:r.description,onChange:a,rows:"4",placeholder:"Describe the membership benefits...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Trial Period (Days)"}),l.jsx("input",{type:"number",name:"trial_days",value:r.trial_days,onChange:a,min:"0",max:"90",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Number of days for free trial (0 for no trial)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Access Type"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ls,{className:"text-gray-400"})}),l.jsxs("select",{name:"access_type",value:r.access_type,onChange:a,className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[l.jsx("option",{value:"standard",children:"Standard Access"}),l.jsx("option",{value:"premium",children:"Premium Access"}),l.jsx("option",{value:"vip",children:"VIP Access"})]})]})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg mb-6",children:[l.jsx("h3",{className:"font-medium mb-2",children:"Included Products"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Select which products are included with this membership:"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"rounded text-primary-600 focus:ring-primary-500"}),l.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Ultimate Web Design Course"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"rounded text-primary-600 focus:ring-primary-500"}),l.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Digital Marketing Ebook"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"rounded text-primary-600 focus:ring-primary-500"}),l.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"SEO Toolkit"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"rounded text-primary-600 focus:ring-primary-500"}),l.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Content Creation Templates"})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[l.jsx("button",{type:"button",onClick:()=>e("/memberships"),className:"btn btn-outline",disabled:s,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s,children:s?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):l.jsxs("span",{className:"flex items-center",children:[l.jsx(ir,{className:"mr-2"}),"Create Membership"]})})]})]})]})}function vS(){const{user:t}=se(),{id:e}=Ts(),r=ut(),[n,s]=_.useState(null),[i,a]=_.useState(!0),[o,c]=_.useState([]),[d,u]=_.useState(!0),[h,f]=_.useState([]),[m,g]=_.useState(!0);_.useEffect(()=>{e&&(p(),b(),y())},[e,t]);async function p(){try{if(a(!0),!t||!e)return;const{data:v,error:w}=await I.from("memberships").select("*").eq("id",e).single();if(w)throw w;v&&s(v)}catch(v){console.error("Error fetching membership:",v),F.error("Failed to load membership details")}finally{a(!1)}}async function b(){try{u(!0),setTimeout(()=>{c([{id:1,name:"John Smith",email:"john@example.com",joined:"2023-10-15",status:"active"},{id:2,name:"Sarah Johnson",email:"sarah@example.com",joined:"2023-09-22",status:"active"},{id:3,name:"Michael Brown",email:"michael@example.com",joined:"2023-11-05",status:"trial"}]),u(!1)},500)}catch(v){console.error("Error fetching subscribers:",v),u(!1)}}async function y(){try{g(!0),setTimeout(()=>{f([{id:1,name:"Ultimate Web Design Course",type:"course"},{id:2,name:"Digital Marketing Ebook",type:"ebook"},{id:3,name:"SEO Toolkit",type:"software"}]),g(!1)},700)}catch(v){console.error("Error fetching included products:",v),g(!1)}}const x=async()=>{if(confirm("Are you sure you want to delete this membership? This action cannot be undone."))try{const{error:v}=await I.from("memberships").delete().eq("id",e);if(v)throw v;F.success("Membership deleted successfully"),r("/memberships")}catch(v){console.error("Error deleting membership:",v),F.error("Failed to delete membership")}};return i?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):n?l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx($,{to:"/memberships",className:"mr-4 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:l.jsx(bs,{size:20})}),l.jsx("h1",{className:"text-2xl font-bold",children:n.name}),l.jsx("span",{className:`ml-3 px-2 py-1 rounded-full text-xs font-medium ${n.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":n.status==="archived"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:n.status})]}),l.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-2",children:[l.jsxs($,{to:`/memberships/edit/${n.id}`,className:"btn btn-outline",children:[l.jsx(xn,{className:"mr-2"}),"Edit"]}),l.jsxs("button",{onClick:x,className:"btn btn-danger",children:[l.jsx(_s,{className:"mr-2"}),"Delete"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Membership Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-start mb-4",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(Dt,{className:"h-5 w-5 text-gray-500"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Price"}),l.jsxs("p",{className:"text-base font-medium",children:["$",parseFloat(n.price).toFixed(2)]})]})]}),l.jsxs("div",{className:"flex items-start mb-4",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(Vi,{className:"h-5 w-5 text-gray-500"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Billing Cycle"}),l.jsx("p",{className:"text-base font-medium capitalize",children:n.billing_cycle})]})]}),l.jsxs("div",{className:"flex items-start mb-4",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(v2,{className:"h-5 w-5 text-gray-500"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Trial Period"}),l.jsx("p",{className:"text-base font-medium",children:n.trial_days>0?`${n.trial_days} days`:"No trial"})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-start mb-4",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(ls,{className:"h-5 w-5 text-gray-500"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Access Type"}),l.jsx("p",{className:"text-base font-medium capitalize",children:n.access_type||"Standard"})]})]}),l.jsxs("div",{className:"flex items-start mb-4",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(da,{className:"h-5 w-5 text-gray-500"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active Subscribers"}),l.jsx("p",{className:"text-base font-medium",children:o.filter(v=>v.status==="active").length})]})]}),l.jsxs("div",{className:"flex items-start mb-4",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(Vi,{className:"h-5 w-5 text-gray-500"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Created"}),l.jsx("p",{className:"text-base font-medium",children:Tt(new Date(n.created_at),"MMM dd, yyyy")})]})]})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Description"}),l.jsx("p",{className:"text-base",children:n.description||"No description provided."})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Included Products"}),l.jsxs("span",{className:"text-sm text-gray-500",children:[h.length," products"]})]}),m?l.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((v,w)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-10 w-10 bg-gray-200 dark:bg-gray-700 rounded-md"}),l.jsxs("div",{className:"ml-4 flex-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]},w))}):h.length>0?l.jsx("div",{className:"space-y-4",children:h.map(v=>l.jsxs("div",{className:"flex items-center p-3 border border-gray-200 dark:border-gray-700 rounded-lg",children:[l.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary-100 dark:bg-primary-900 rounded-md flex items-center justify-center",children:l.jsx(ur,{className:"text-primary-600 dark:text-primary-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"text-sm font-medium",children:v.name}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:v.type})]})]},v.id))}):l.jsx("div",{className:"text-center py-6",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products included in this membership."})})]})]}),l.jsxs("div",{className:"lg:col-span-1",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Recent Subscribers"}),l.jsx($,{to:"#",className:"text-sm text-primary-600 hover:underline",children:"View all"})]}),d?l.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((v,w)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-8 w-8 bg-gray-200 dark:bg-gray-700 rounded-full"}),l.jsxs("div",{className:"ml-3 flex-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-1"}),l.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]},w))}):o.length>0?l.jsx("div",{className:"space-y-4",children:o.map(v=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs font-medium",children:v.name.charAt(0)})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium",children:v.name}),l.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[l.jsxs("span",{children:["Joined ",Tt(new Date(v.joined),"MMM dd, yyyy")]}),l.jsx("span",{className:"mx-1",children:"•"}),l.jsx("span",{className:`capitalize ${v.status==="active"?"text-green-600 dark:text-green-400":v.status==="trial"?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:v.status})]})]})]},v.id))}):l.jsx("div",{className:"text-center py-6",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No subscribers yet."})})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Membership Stats"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Revenue"}),l.jsx("span",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"+12%"})]}),l.jsx("p",{className:"text-2xl font-bold",children:"$1,248.42"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Last 30 days"})]}),l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Conversion Rate"}),l.jsx("span",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"+5%"})]}),l.jsx("p",{className:"text-2xl font-bold",children:"24.8%"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Trial to paid conversion"})]}),l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Churn Rate"}),l.jsx("span",{className:"text-red-600 dark:text-red-400 text-sm font-medium",children:"+2%"})]}),l.jsx("p",{className:"text-2xl font-bold",children:"7.3%"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Monthly cancellation rate"})]})]})]})]})]})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Membership Not Found"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The membership you're looking for doesn't exist or you don't have permission to view it."}),l.jsxs($,{to:"/memberships",className:"btn btn-primary",children:[l.jsx(bs,{className:"mr-2"}),"Back to Memberships"]})]})}function bS(){const{user:t}=se(),e=ut(),{id:r}=Ts(),[n,s]=_.useState({name:"",description:"",price:"",billing_cycle:"monthly",status:"draft",trial_days:0,access_type:"standard"}),[i,a]=_.useState(!1),[o,c]=_.useState(!0),[d,u]=_.useState([{id:1,name:"Ultimate Web Design Course",checked:!1},{id:2,name:"Digital Marketing Ebook",checked:!1},{id:3,name:"SEO Toolkit",checked:!1},{id:4,name:"Content Creation Templates",checked:!1}]);_.useEffect(()=>{h()},[r,t]);async function h(){try{if(c(!0),!t||!r)return;const{data:p,error:b}=await I.from("memberships").select("*").eq("id",r).eq("seller_id",t.id).single();if(b)throw b;p&&(s({name:p.name,description:p.description||"",price:p.price,billing_cycle:p.billing_cycle,status:p.status,trial_days:p.trial_days||0,access_type:p.access_type||"standard"}),u(y=>y.map((x,v)=>({...x,checked:v%2===0}))))}catch(p){console.error("Error fetching membership:",p),F.error("Failed to load membership")}finally{c(!1)}}const f=p=>{const{name:b,value:y}=p.target;s(x=>({...x,[b]:y}))},m=p=>{u(b=>b.map(y=>y.id===p?{...y,checked:!y.checked}:y))},g=async p=>{if(p.preventDefault(),!n.name||!n.price){F.error("Please fill in all required fields");return}try{a(!0);const{error:b}=await I.from("memberships").update({name:n.name,description:n.description,price:parseFloat(n.price),billing_cycle:n.billing_cycle,status:n.status,trial_days:n.trial_days,access_type:n.access_type,updated_at:new Date}).eq("id",r).eq("seller_id",t.id);if(b)throw b;F.success("Membership updated successfully!"),e("/memberships")}catch(b){console.error("Error updating membership:",b),F.error("Failed to update membership")}finally{a(!1)}};return o?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h1",{className:"text-2xl font-bold",children:"Edit Membership"})}),l.jsxs("form",{onSubmit:g,className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Membership Name *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ws,{className:"text-gray-400"})}),l.jsx("input",{type:"text",name:"name",value:n.name,onChange:f,placeholder:"e.g., Premium Membership",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Price ($) *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Dt,{className:"text-gray-400"})}),l.jsx("input",{type:"number",name:"price",value:n.price,onChange:f,placeholder:"19.99",min:"0",step:"0.01",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Billing Cycle"}),l.jsxs("select",{name:"billing_cycle",value:n.billing_cycle,onChange:f,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",children:[l.jsx("option",{value:"monthly",children:"Monthly"}),l.jsx("option",{value:"quarterly",children:"Quarterly"}),l.jsx("option",{value:"yearly",children:"Yearly"}),l.jsx("option",{value:"lifetime",children:"Lifetime (one-time)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),l.jsxs("select",{name:"status",value:n.status,onChange:f,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",children:[l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"archived",children:"Archived"})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute top-3 left-3 flex items-start pointer-events-none",children:l.jsx(Rl,{className:"text-gray-400"})}),l.jsx("textarea",{name:"description",value:n.description,onChange:f,rows:"4",placeholder:"Describe the membership benefits...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Trial Period (Days)"}),l.jsx("input",{type:"number",name:"trial_days",value:n.trial_days,onChange:f,min:"0",max:"90",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Number of days for free trial (0 for no trial)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Access Type"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ls,{className:"text-gray-400"})}),l.jsxs("select",{name:"access_type",value:n.access_type,onChange:f,className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[l.jsx("option",{value:"standard",children:"Standard Access"}),l.jsx("option",{value:"premium",children:"Premium Access"}),l.jsx("option",{value:"vip",children:"VIP Access"})]})]})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg mb-6",children:[l.jsx("h3",{className:"font-medium mb-2",children:"Included Products"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Select which products are included with this membership:"}),l.jsx("div",{className:"space-y-2",children:d.map(p=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:p.checked,onChange:()=>m(p.id),className:"rounded text-primary-600 focus:ring-primary-500"}),l.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:p.name})]},p.id))})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg mb-6",children:[l.jsx("h3",{className:"font-medium mb-2",children:"Membership Settings"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"rounded text-primary-600 focus:ring-primary-500",defaultChecked:!0}),l.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Allow Cancellation"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1 ml-6",children:"Members can cancel their subscription"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"rounded text-primary-600 focus:ring-primary-500",defaultChecked:!0}),l.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Automatic Renewal"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1 ml-6",children:"Subscriptions renew automatically"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"rounded text-primary-600 focus:ring-primary-500"}),l.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Limited Availability"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1 ml-6",children:"Limit the number of memberships sold"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"rounded text-primary-600 focus:ring-primary-500"}),l.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Send Welcome Email"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1 ml-6",children:"Send an email when someone joins"})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[l.jsx("button",{type:"button",onClick:()=>e("/memberships"),className:"btn btn-outline",disabled:i,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):l.jsxs("span",{className:"flex items-center",children:[l.jsx(ir,{className:"mr-2"}),"Save Changes"]})})]})]})]})}function wS(){const{user:t}=se(),[e,r]=_.useState([]),[n,s]=_.useState(!0),[i,a]=_.useState(""),[o,c]=_.useState("all");_.useEffect(()=>{t&&d()},[t]);async function d(){try{s(!0);const{data:h,error:f}=await I.from("customers").select("*").eq("seller_id",t.id).order("created_at",{ascending:!1});if(f)throw f;console.log("Fetched customers:",h),r(h||[])}catch(h){console.error("Error fetching customers:",h),F.error("Failed to load customers")}finally{s(!1)}}const u=e.filter(h=>{var f,m;return!(i&&!((f=h.name)!=null&&f.toLowerCase().includes(i.toLowerCase()))&&!((m=h.email)!=null&&m.toLowerCase().includes(i.toLowerCase()))||o!=="all"&&h.status!==o)});return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Customers"}),l.jsxs($,{to:"/customers/new",className:"btn btn-primary mt-4 sm:mt-0",children:[l.jsx(ks,{className:"mr-2"}),"Add Customer"]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Il,{className:"text-gray-400"})}),l.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:i,onChange:h=>a(h.target.value)})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Al,{className:"mr-2 text-gray-500 dark:text-gray-400"}),l.jsxs("select",{className:"border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",value:o,onChange:h=>c(h.target.value),children:[l.jsx("option",{value:"all",children:"All Customers"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),n?l.jsx("div",{className:"animate-pulse",children:[...Array(5)].map((h,f)=>l.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 py-4",children:[l.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]},f))}):u.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-500 dark:text-gray-400 text-sm",children:[l.jsx("th",{className:"pb-3",children:"Name"}),l.jsx("th",{className:"pb-3",children:"Email"}),l.jsx("th",{className:"pb-3",children:"Purchases"}),l.jsx("th",{className:"pb-3",children:"Total Spent"}),l.jsx("th",{className:"pb-3",children:"Joined"}),l.jsx("th",{className:"pb-3",children:"Actions"})]})}),l.jsx("tbody",{children:u.map(h=>l.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[l.jsx("td",{className:"py-3 font-medium",children:h.name}),l.jsx("td",{className:"py-3",children:h.email}),l.jsx("td",{className:"py-3",children:h.purchases||0}),l.jsxs("td",{className:"py-3",children:["$",parseFloat(h.total_spent||0).toFixed(2)]}),l.jsx("td",{className:"py-3",children:Tt(new Date(h.created_at),"MMM dd, yyyy")}),l.jsx("td",{className:"py-3",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx($,{to:`/customers/${h.id}`,className:"text-gray-500 hover:text-primary-600",children:l.jsx(Ll,{})}),l.jsx("a",{href:`mailto:${h.email}`,className:"text-gray-500 hover:text-primary-600",children:l.jsx(Ko,{})})]})})]},h.id))})]})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No customers found."}),l.jsxs($,{to:"/customers/new",className:"btn btn-primary mt-4",children:[l.jsx(ks,{className:"mr-2"}),"Add Your First Customer"]})]})]})]})}function kS(){const{user:t}=se(),e=ut(),[r,n]=_.useState(!1),[s,i]=_.useState({name:"",email:"",phone:"",status:"active",notes:"",country:"",city:""}),a=c=>{const{name:d,value:u}=c.target;i(h=>({...h,[d]:u}))},o=async c=>{c.preventDefault();try{if(n(!0),!s.name||!s.email){F.error("Name and email are required");return}if(!t){F.error("You must be logged in to create a customer");return}console.log("Creating customer with data:",{...s,seller_id:t.id});const{data:d,error:u}=await I.from("customers").insert([{...s,seller_id:t.id,purchases:0,total_spent:0}]).select();if(u)throw console.error("Supabase error:",u),u;console.log("Customer created successfully:",d),F.success("Customer created successfully"),e("/customers")}catch(d){console.error("Error creating customer:",d),F.error(`Failed to create customer: ${d.message||"Unknown error"}`)}finally{n(!1)}};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Add New Customer"}),l.jsxs("button",{onClick:()=>e("/customers"),className:"btn btn-ghost",children:[l.jsx(Ty,{className:"mr-2"}),"Cancel"]})]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:l.jsxs("form",{onSubmit:o,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name *"}),l.jsx("input",{type:"text",name:"name",value:s.name,onChange:a,required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),l.jsx("input",{type:"email",name:"email",value:s.email,onChange:a,required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone"}),l.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:a,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),l.jsxs("select",{name:"status",value:s.status,onChange:a,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Country"}),l.jsx("input",{type:"text",name:"country",value:s.country,onChange:a,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"City"}),l.jsx("input",{type:"text",name:"city",value:s.city,onChange:a,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),l.jsx("textarea",{name:"notes",value:s.notes,onChange:a,rows:"4",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end",children:[l.jsx("button",{type:"button",onClick:()=>e("/customers"),className:"btn btn-ghost mr-2",children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:r,children:r?l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Saving..."]}):l.jsxs("span",{className:"flex items-center",children:[l.jsx(ir,{className:"mr-2"}),"Save Customer"]})})]})]})})]})}function _S(){const{id:t}=Ts(),e=ut(),{user:r}=se(),[n,s]=_.useState(null),[i,a]=_.useState(!0),[o,c]=_.useState([]),[d,u]=_.useState(!1);_.useEffect(()=>{r&&t&&(h(),f())},[r,t]);async function h(){try{a(!0);const{data:g,error:p}=await I.from("customers").select("*").eq("id",t).eq("seller_id",r.id).single();if(p)throw p;s(g)}catch(g){console.error("Error fetching customer:",g),F.error("Failed to load customer details"),e("/customers")}finally{a(!1)}}async function f(){c([{id:"1",product_name:"Digital Marketing Guide",amount:29.99,date:"2023-05-15T10:30:00Z",status:"completed"},{id:"2",product_name:"SEO Masterclass",amount:49.99,date:"2023-06-02T14:45:00Z",status:"completed"}])}async function m(){try{a(!0);const{error:g}=await I.from("customers").delete().eq("id",t).eq("seller_id",r.id);if(g)throw g;F.success("Customer deleted successfully"),e("/customers")}catch(g){console.error("Error deleting customer:",g),F.error("Failed to delete customer")}finally{a(!1),u(!1)}}return i?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):n?l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx($,{to:"/customers",className:"mr-4 text-gray-500 hover:text-primary-600",children:l.jsx(bs,{size:20})}),l.jsx("h1",{className:"text-2xl font-bold",children:n.name}),l.jsx("span",{className:`ml-3 px-2 py-1 text-xs rounded-full ${n.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:n.status==="active"?"Active":"Inactive"})]}),l.jsxs("div",{className:"flex mt-4 sm:mt-0",children:[l.jsxs($,{to:`/customers/edit/${t}`,className:"btn btn-outline mr-2",children:[l.jsx(xn,{className:"mr-2"}),"Edit"]}),l.jsxs("button",{onClick:()=>u(!0),className:"btn btn-danger",children:[l.jsx(_s,{className:"mr-2"}),"Delete"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Customer Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx(Ko,{className:"text-gray-500 dark:text-gray-400 mt-1 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),l.jsx("p",{className:"font-medium",children:n.email})]})]}),n.phone&&l.jsxs("div",{className:"flex items-start",children:[l.jsx(j2,{className:"text-gray-500 dark:text-gray-400 mt-1 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Phone"}),l.jsx("p",{className:"font-medium",children:n.phone})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx(Vi,{className:"text-gray-500 dark:text-gray-400 mt-1 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Customer Since"}),l.jsx("p",{className:"font-medium",children:Tt(new Date(n.created_at),"MMMM dd, yyyy")})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx(C2,{className:"text-gray-500 dark:text-gray-400 mt-1 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Purchases"}),l.jsx("p",{className:"font-medium",children:n.purchases||0})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx(Dt,{className:"text-gray-500 dark:text-gray-400 mt-1 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Spent"}),l.jsxs("p",{className:"font-medium",children:["$",parseFloat(n.total_spent||0).toFixed(2)]})]})]})]}),n.notes&&l.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[l.jsx("h3",{className:"text-md font-medium mb-2",children:"Notes"}),l.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-line",children:n.notes})]})]})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Purchase History"}),o.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-500 dark:text-gray-400 text-sm",children:[l.jsx("th",{className:"pb-3",children:"Product"}),l.jsx("th",{className:"pb-3",children:"Date"}),l.jsx("th",{className:"pb-3",children:"Amount"}),l.jsx("th",{className:"pb-3",children:"Status"})]})}),l.jsx("tbody",{children:o.map(g=>l.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[l.jsx("td",{className:"py-3 font-medium",children:g.product_name}),l.jsx("td",{className:"py-3",children:Tt(new Date(g.date),"MMM dd, yyyy")}),l.jsxs("td",{className:"py-3",children:["$",g.amount.toFixed(2)]}),l.jsx("td",{className:"py-3",children:l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${g.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:g.status==="completed"?"Completed":"Pending"})})]},g.id))})]})}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No purchase history available."})})]})})]}),d&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Delete Customer"}),l.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:["Are you sure you want to delete ",n.name,"? This action cannot be undone."]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>u(!1),className:"btn btn-ghost",children:"Cancel"}),l.jsx("button",{onClick:m,className:"btn btn-danger",disabled:i,children:i?"Deleting...":"Delete"})]})]})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Customer not found."}),l.jsxs($,{to:"/customers",className:"btn btn-primary mt-4",children:[l.jsx(bs,{className:"mr-2"}),"Back to Customers"]})]})}function jS(){const{id:t}=Ts(),e=ut(),{user:r}=se(),[n,s]=_.useState(!0),[i,a]=_.useState(!1),[o,c]=_.useState({name:"",email:"",phone:"",status:"active",notes:""});_.useEffect(()=>{r&&t&&d()},[r,t]);async function d(){try{s(!0);const{data:f,error:m}=await I.from("customers").select("*").eq("id",t).eq("seller_id",r.id).single();if(m)throw m;c({name:f.name||"",email:f.email||"",phone:f.phone||"",status:f.status||"active",notes:f.notes||""})}catch(f){console.error("Error fetching customer:",f),F.error("Failed to load customer details"),e("/customers")}finally{s(!1)}}const u=f=>{const{name:m,value:g}=f.target;c(p=>({...p,[m]:g}))},h=async f=>{f.preventDefault();try{if(a(!0),!o.name||!o.email){F.error("Name and email are required");return}const{error:m}=await I.from("customers").update(o).eq("id",t).eq("seller_id",r.id);if(m)throw m;F.success("Customer updated successfully"),e(`/customers/${t}`)}catch(m){console.error("Error updating customer:",m),F.error("Failed to update customer")}finally{a(!1)}};return n?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx($,{to:`/customers/${t}`,className:"mr-4 text-gray-500 hover:text-primary-600",children:l.jsx(bs,{size:20})}),l.jsx("h1",{className:"text-2xl font-bold",children:"Edit Customer"})]})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:l.jsxs("form",{onSubmit:h,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name *"}),l.jsx("input",{type:"text",name:"name",value:o.name,onChange:u,required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),l.jsx("input",{type:"email",name:"email",value:o.email,onChange:u,required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone"}),l.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:u,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),l.jsxs("select",{name:"status",value:o.status,onChange:u,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),l.jsx("textarea",{name:"notes",value:o.notes,onChange:u,rows:"4",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end",children:[l.jsx($,{to:`/customers/${t}`,className:"btn btn-ghost mr-2",children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Saving..."]}):l.jsxs("span",{className:"flex items-center",children:[l.jsx(ir,{className:"mr-2"}),"Save Changes"]})})]})]})})]})}function SS(){const{user:t}=se(),[e,r]=_.useState([]),[n,s]=_.useState(!0),[i,a]=_.useState(null);return _.useEffect(()=>{if(!t){r([]),s(!1);return}async function u(){try{s(!0);const{data:h,error:f}=await I.from("sales").select(`
            *,
            product:products(*),
            membership:memberships(*),
            customer:customers(*)
          `).eq("seller_id",t.id).order("created_at",{ascending:!1});if(f)throw f;r(h||[])}catch(h){console.error("Error fetching sales:",h),a(h)}finally{s(!1)}}u()},[t]),{sales:e,loading:n,error:i,addSale:async u=>{try{if(!t)throw new Error("User not authenticated");s(!0);const h={...u,seller_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:f,error:m}=await I.from("sales").insert([h]).select(`
          *,
          product:products(*),
          membership:memberships(*),
          customer:customers(*)
        `).single();if(m)throw m;return r(g=>[f,...g]),{success:!0,data:f}}catch(h){return console.error("Error adding sale:",h),a(h),{success:!1,error:h}}finally{s(!1)}},updateSale:async(u,h)=>{try{if(!t)throw new Error("User not authenticated");s(!0);const f={...h,updated_at:new Date().toISOString()},{data:m,error:g}=await I.from("sales").update(f).eq("id",u).eq("seller_id",t.id).select(`
          *,
          product:products(*),
          membership:memberships(*),
          customer:customers(*)
        `).single();if(g)throw g;return r(p=>p.map(b=>b.id===u?m:b)),{success:!0,data:m}}catch(f){return console.error("Error updating sale:",f),a(f),{success:!1,error:f}}finally{s(!1)}},deleteSale:async u=>{try{if(!t)throw new Error("User not authenticated");s(!0);const{error:h}=await I.from("sales").delete().eq("id",u).eq("seller_id",t.id);if(h)throw h;return r(f=>f.filter(m=>m.id!==u)),{success:!0}}catch(h){return console.error("Error deleting sale:",h),a(h),{success:!1,error:h}}finally{s(!1)}}}}function NS(){const{user:t}=se(),{sales:e,loading:r}=SS(),[n,s]=_.useState(""),[i,a]=_.useState("all"),[o,c]=_.useState("all"),d=e.filter(m=>{var y,x,v,w;const g=((y=m.customer)==null?void 0:y.name)||"",p=((x=m.product)==null?void 0:x.name)||((v=m.membership)==null?void 0:v.name)||"",b=((w=m.customer)==null?void 0:w.email)||"";if(n&&!g.toLowerCase().includes(n.toLowerCase())&&!p.toLowerCase().includes(n.toLowerCase())&&!b.toLowerCase().includes(n.toLowerCase())||i!=="all"&&m.status!==i)return!1;if(o!=="all"){const k=new Date,j=new Date(m.created_at);if(o==="7days"){const S=new Date(k.setDate(k.getDate()-7));if(j<S)return!1}else if(o==="30days"){const S=new Date(k.setDate(k.getDate()-30));if(j<S)return!1}else if(o==="90days"){const S=new Date(k.setDate(k.getDate()-90));if(j<S)return!1}}return!0}),u=d.length,h=d.reduce((m,g)=>m+Number(g.amount),0),f=d.filter(m=>m.status==="refunded").length;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Sales"}),l.jsxs("button",{className:"btn btn-outline mt-2 sm:mt-0",children:[l.jsx(ih,{className:"mr-2"}),"Export CSV"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Total Sales"}),l.jsx("p",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:u})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Total Revenue"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:["$",h.toFixed(2)]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Refunded"}),l.jsx("p",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:f})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Il,{className:"text-gray-400"})}),l.jsx("input",{type:"text",placeholder:"Search by customer, email or product...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n,onChange:m=>s(m.target.value)})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Al,{className:"mr-2 text-gray-500 dark:text-gray-400"}),l.jsxs("select",{className:"border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",value:i,onChange:m=>a(m.target.value),children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"completed",children:"Completed"}),l.jsx("option",{value:"refunded",children:"Refunded"})]})]}),l.jsx("div",{className:"flex items-center",children:l.jsxs("select",{className:"border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",value:o,onChange:m=>c(m.target.value),children:[l.jsx("option",{value:"all",children:"All Time"}),l.jsx("option",{value:"7days",children:"Last 7 Days"}),l.jsx("option",{value:"30days",children:"Last 30 Days"}),l.jsx("option",{value:"90days",children:"Last 90 Days"})]})})]})]}),r?l.jsx("div",{className:"animate-pulse",children:[...Array(7)].map((m,g)=>l.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 py-4",children:[l.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]},g))}):d.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-500 dark:text-gray-400 text-sm",children:[l.jsx("th",{className:"pb-3",children:"Date"}),l.jsx("th",{className:"pb-3",children:"Customer"}),l.jsx("th",{className:"pb-3",children:"Product/Membership"}),l.jsx("th",{className:"pb-3",children:"Amount"}),l.jsx("th",{className:"pb-3",children:"Status"}),l.jsx("th",{className:"pb-3",children:"Actions"})]})}),l.jsx("tbody",{children:d.map(m=>{var g,p,b,y;return l.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[l.jsx("td",{className:"py-3",children:Tt(new Date(m.created_at),"MMM dd, yyyy")}),l.jsx("td",{className:"py-3",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:((g=m.customer)==null?void 0:g.name)||"Unknown"}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:((p=m.customer)==null?void 0:p.email)||"No email"})]})}),l.jsx("td",{className:"py-3",children:((b=m.product)==null?void 0:b.name)||((y=m.membership)==null?void 0:y.name)||"Unknown"}),l.jsxs("td",{className:"py-3",children:["$",Number(m.amount).toFixed(2)]}),l.jsx("td",{className:"py-3",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:m.status})}),l.jsx("td",{className:"py-3",children:l.jsx("div",{className:"flex space-x-2",children:l.jsx("button",{className:"text-gray-500 hover:text-primary-600",children:l.jsx(Ll,{})})})})]},m.id)})})]})}):l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No sales found."})})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fa(t){return t+.5|0}const Mr=(t,e,r)=>Math.max(Math.min(t,r),e);function ri(t){return Mr(fa(t*2.55),0,255)}function Wr(t){return Mr(fa(t*255),0,255)}function er(t){return Mr(fa(t/2.55)/100,0,1)}function hm(t){return Mr(fa(t*100),0,100)}const ht={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Kd=[..."0123456789ABCDEF"],CS=t=>Kd[t&15],PS=t=>Kd[(t&240)>>4]+Kd[t&15],$a=t=>(t&240)>>4===(t&15),ES=t=>$a(t.r)&&$a(t.g)&&$a(t.b)&&$a(t.a);function MS(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&ht[t[1]]*17,g:255&ht[t[2]]*17,b:255&ht[t[3]]*17,a:e===5?ht[t[4]]*17:255}:(e===7||e===9)&&(r={r:ht[t[1]]<<4|ht[t[2]],g:ht[t[3]]<<4|ht[t[4]],b:ht[t[5]]<<4|ht[t[6]],a:e===9?ht[t[7]]<<4|ht[t[8]]:255})),r}const TS=(t,e)=>t<255?e(t):"";function OS(t){var e=ES(t)?CS:PS;return t?"#"+e(t.r)+e(t.g)+e(t.b)+TS(t.a,e):void 0}const DS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Iy(t,e,r){const n=e*Math.min(r,1-r),s=(i,a=(i+t/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function LS(t,e,r){const n=(s,i=(s+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function RS(t,e,r){const n=Iy(t,1,.5);let s;for(e+r>1&&(s=1/(e+r),e*=s,r*=s),s=0;s<3;s++)n[s]*=1-e-r,n[s]+=e;return n}function AS(t,e,r,n,s){return t===s?(e-r)/n+(e<r?6:0):e===s?(r-t)/n+2:(t-e)/n+4}function ah(t){const r=t.r/255,n=t.g/255,s=t.b/255,i=Math.max(r,n,s),a=Math.min(r,n,s),o=(i+a)/2;let c,d,u;return i!==a&&(u=i-a,d=o>.5?u/(2-i-a):u/(i+a),c=AS(r,n,s,u,i),c=c*60+.5),[c|0,d||0,o]}function oh(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Wr)}function lh(t,e,r){return oh(Iy,t,e,r)}function IS(t,e,r){return oh(RS,t,e,r)}function FS(t,e,r){return oh(LS,t,e,r)}function Fy(t){return(t%360+360)%360}function $S(t){const e=DS.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?ri(+e[5]):Wr(+e[5]));const s=Fy(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=IS(s,i,a):e[1]==="hsv"?n=FS(s,i,a):n=lh(s,i,a),{r:n[0],g:n[1],b:n[2],a:r}}function zS(t,e){var r=ah(t);r[0]=Fy(r[0]+e),r=lh(r),t.r=r[0],t.g=r[1],t.b=r[2]}function BS(t){if(!t)return;const e=ah(t),r=e[0],n=hm(e[1]),s=hm(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${s}%, ${er(t.a)})`:`hsl(${r}, ${n}%, ${s}%)`}const fm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},mm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function US(){const t={},e=Object.keys(mm),r=Object.keys(fm);let n,s,i,a,o;for(n=0;n<e.length;n++){for(a=o=e[n],s=0;s<r.length;s++)i=r[s],o=o.replace(i,fm[i]);i=parseInt(mm[a],16),t[o]=[i>>16&255,i>>8&255,i&255]}return t}let za;function WS(t){za||(za=US(),za.transparent=[0,0,0,0]);const e=za[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const HS=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function VS(t){const e=HS.exec(t);let r=255,n,s,i;if(e){if(e[7]!==n){const a=+e[7];r=e[8]?ri(a):Mr(a*255,0,255)}return n=+e[1],s=+e[3],i=+e[5],n=255&(e[2]?ri(n):Mr(n,0,255)),s=255&(e[4]?ri(s):Mr(s,0,255)),i=255&(e[6]?ri(i):Mr(i,0,255)),{r:n,g:s,b:i,a:r}}}function qS(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${er(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Nc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,zn=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function YS(t,e,r){const n=zn(er(t.r)),s=zn(er(t.g)),i=zn(er(t.b));return{r:Wr(Nc(n+r*(zn(er(e.r))-n))),g:Wr(Nc(s+r*(zn(er(e.g))-s))),b:Wr(Nc(i+r*(zn(er(e.b))-i))),a:t.a+r*(e.a-t.a)}}function Ba(t,e,r){if(t){let n=ah(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=lh(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function $y(t,e){return t&&Object.assign(e||{},t)}function gm(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Wr(t[3]))):(e=$y(t,{r:0,g:0,b:0,a:1}),e.a=Wr(e.a)),e}function KS(t){return t.charAt(0)==="r"?VS(t):$S(t)}class Yi{constructor(e){if(e instanceof Yi)return e;const r=typeof e;let n;r==="object"?n=gm(e):r==="string"&&(n=MS(e)||WS(e)||KS(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=$y(this._rgb);return e&&(e.a=er(e.a)),e}set rgb(e){this._rgb=gm(e)}rgbString(){return this._valid?qS(this._rgb):void 0}hexString(){return this._valid?OS(this._rgb):void 0}hslString(){return this._valid?BS(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,s=e.rgb;let i;const a=r===i?.5:r,o=2*a-1,c=n.a-s.a,d=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;i=1-d,n.r=255&d*n.r+i*s.r+.5,n.g=255&d*n.g+i*s.g+.5,n.b=255&d*n.b+i*s.b+.5,n.a=a*n.a+(1-a)*s.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=YS(this._rgb,e._rgb,r)),this}clone(){return new Yi(this.rgb)}alpha(e){return this._rgb.a=Wr(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=fa(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ba(this._rgb,2,e),this}darken(e){return Ba(this._rgb,2,-e),this}saturate(e){return Ba(this._rgb,1,e),this}desaturate(e){return Ba(this._rgb,1,-e),this}rotate(e){return zS(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Kt(){}const GS=(()=>{let t=0;return()=>t++})();function Z(t){return t==null}function Ce(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function J(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function wt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function At(t,e){return wt(t)?t:e}function H(t,e){return typeof t>"u"?e:t}const XS=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,zy=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ce(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function re(t,e,r,n){let s,i,a;if(Ce(t))for(i=t.length,s=0;s<i;s++)e.call(r,t[s],s);else if(J(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(r,t[a[s]],a[s])}function Jo(t,e){let r,n,s,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(s=t[r],i=e[r],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Zo(t){if(Ce(t))return t.map(Zo);if(J(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let s=0;for(;s<n;++s)e[r[s]]=Zo(t[r[s]]);return e}return t}function By(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function QS(t,e,r,n){if(!By(t))return;const s=e[t],i=r[t];J(s)&&J(i)?Ki(s,i,n):e[t]=Zo(i)}function Ki(t,e,r){const n=Ce(e)?e:[e],s=n.length;if(!J(t))return t;r=r||{};const i=r.merger||QS;let a;for(let o=0;o<s;++o){if(a=n[o],!J(a))continue;const c=Object.keys(a);for(let d=0,u=c.length;d<u;++d)i(c[d],t,a,r)}return t}function wi(t,e){return Ki(t,e,{merger:JS})}function JS(t,e,r){if(!By(t))return;const n=e[t],s=r[t];J(n)&&J(s)?wi(n,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Zo(s))}const pm={"":t=>t,x:t=>t.x,y:t=>t.y};function ZS(t){const e=t.split("."),r=[];let n="";for(const s of e)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function eN(t){const e=ZS(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Cn(t,e){return(pm[e]||(pm[e]=eN(e)))(t)}function ch(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Gi=t=>typeof t<"u",qr=t=>typeof t=="function",ym=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function tN(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const we=Math.PI,be=2*we,rN=be+we,el=Number.POSITIVE_INFINITY,nN=we/180,Ee=we/2,en=we/4,xm=we*2/3,Uy=Math.log10,Ht=Math.sign;function ki(t,e,r){return Math.abs(t-e)<r}function vm(t){const e=Math.round(t);t=ki(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Uy(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function sN(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((s,i)=>s-i).pop(),e}function iN(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Xi(t){return!iN(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function aN(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function oN(t,e,r){let n,s,i;for(n=0,s=t.length;n<s;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function nr(t){return t*(we/180)}function lN(t){return t*(180/we)}function bm(t){if(!wt(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function Wy(t,e){const r=e.x-t.x,n=e.y-t.y,s=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*we&&(i+=be),{angle:i,distance:s}}function Gd(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function cN(t,e){return(t-e+rN)%be-we}function vr(t){return(t%be+be)%be}function Qi(t,e,r,n){const s=vr(t),i=vr(e),a=vr(r),o=vr(i-s),c=vr(a-s),d=vr(s-i),u=vr(s-a);return s===i||s===a||n&&i===a||o>c&&d<u}function ze(t,e,r){return Math.max(e,Math.min(r,t))}function dN(t){return ze(t,-32768,32767)}function Tr(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function dh(t,e,r){r=r||(a=>t[a]<e);let n=t.length-1,s=0,i;for(;n-s>1;)i=s+n>>1,r(i)?s=i:n=i;return{lo:s,hi:n}}const gn=(t,e,r,n)=>dh(t,r,n?s=>{const i=t[s][e];return i<r||i===r&&t[s+1][e]===r}:s=>t[s][e]<r),uN=(t,e,r)=>dh(t,r,n=>t[n][e]>=r);function hN(t,e,r){let n=0,s=t.length;for(;n<s&&t[n]<e;)n++;for(;s>n&&t[s-1]>r;)s--;return n>0||s<t.length?t.slice(n,s):t}const Hy=["push","pop","shift","splice","unshift"];function fN(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Hy.forEach(r=>{const n="_onData"+ch(r),s=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...i)}),a}})})}function wm(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(e);s!==-1&&n.splice(s,1),!(n.length>0)&&(Hy.forEach(i=>{delete t[i]}),delete t._chartjs)}function Vy(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const qy=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Yy(t,e){let r=[],n=!1;return function(...s){r=s,n||(n=!0,qy.call(window,()=>{n=!1,t.apply(e,r)}))}}function mN(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const uh=t=>t==="start"?"left":t==="end"?"right":"center",Fe=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,gN=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function pN(t,e,r){const n=e.length;let s=0,i=n;if(t._sorted){const{iScale:a,vScale:o,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:h,max:f,minDefined:m,maxDefined:g}=a.getUserBounds();if(m){if(s=Math.min(gn(c,u,h).lo,r?n:gn(e,u,a.getPixelForValue(h)).lo),d){const p=c.slice(0,s+1).reverse().findIndex(b=>!Z(b[o.axis]));s-=Math.max(0,p)}s=ze(s,0,n-1)}if(g){let p=Math.max(gn(c,a.axis,f,!0).hi+1,r?0:gn(e,u,a.getPixelForValue(f),!0).hi+1);if(d){const b=c.slice(p-1).findIndex(y=>!Z(y[o.axis]));p+=Math.max(0,b)}i=ze(p,s,n)-s}else i=n-s}return{start:s,count:i}}function yN(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,s={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=s,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,s),i}const Ua=t=>t===0||t===1,km=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*be/r)),_m=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*be/r)+1,_i={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ee)+1,easeOutSine:t=>Math.sin(t*Ee),easeInOutSine:t=>-.5*(Math.cos(we*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ua(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ua(t)?t:km(t,.075,.3),easeOutElastic:t=>Ua(t)?t:_m(t,.075,.3),easeInOutElastic(t){return Ua(t)?t:t<.5?.5*km(t*2,.1125,.45):.5+.5*_m(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-_i.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?_i.easeInBounce(t*2)*.5:_i.easeOutBounce(t*2-1)*.5+.5};function hh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function jm(t){return hh(t)?t:new Yi(t)}function Cc(t){return hh(t)?t:new Yi(t).saturate(.5).darken(.1).hexString()}const xN=["x","y","borderWidth","radius","tension"],vN=["color","borderColor","backgroundColor"];function bN(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:vN},numbers:{type:"number",properties:xN}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function wN(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Sm=new Map;function kN(t,e){e=e||{};const r=t+JSON.stringify(e);let n=Sm.get(r);return n||(n=new Intl.NumberFormat(t,e),Sm.set(r,n)),n}function fh(t,e,r){return kN(e,r).format(t)}const _N={values(t){return Ce(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let s,i=t;if(r.length>1){const d=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),i=jN(t,r)}const a=Uy(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),fh(t,n,c)}};function jN(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var Ky={formatters:_N};function SN(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ky.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Pn=Object.create(null),Xd=Object.create(null);function ji(t,e){if(!e)return t;const r=e.split(".");for(let n=0,s=r.length;n<s;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function Pc(t,e,r){return typeof e=="string"?Ki(ji(t,e),r):Ki(ji(t,""),e)}class NN{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>Cc(s.backgroundColor),this.hoverBorderColor=(n,s)=>Cc(s.borderColor),this.hoverColor=(n,s)=>Cc(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return Pc(this,e,r)}get(e){return ji(this,e)}describe(e,r){return Pc(Xd,e,r)}override(e,r){return Pc(Pn,e,r)}route(e,r,n,s){const i=ji(this,e),a=ji(this,n),o="_"+r;Object.defineProperties(i,{[o]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[o],d=a[s];return J(c)?Object.assign({},d,c):H(c,d)},set(c){this[o]=c}}})}apply(e){e.forEach(r=>r(this))}}var _e=new NN({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bN,wN,SN]);function CN(t){return!t||Z(t.size)||Z(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Nm(t,e,r,n,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,r.push(s)),i>n&&(n=i),n}function tn(t,e,r){const n=t.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((e-s)*n)/n+s}function Cm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Qd(t,e,r,n){Gy(t,e,r,n,null)}function Gy(t,e,r,n,s){let i,a,o,c,d,u,h,f;const m=e.pointStyle,g=e.rotation,p=e.radius;let b=(g||0)*nN;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(b),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),m){default:s?t.ellipse(r,n,s/2,p,0,0,be):t.arc(r,n,p,0,be),t.closePath();break;case"triangle":u=s?s/2:p,t.moveTo(r+Math.sin(b)*u,n-Math.cos(b)*p),b+=xm,t.lineTo(r+Math.sin(b)*u,n-Math.cos(b)*p),b+=xm,t.lineTo(r+Math.sin(b)*u,n-Math.cos(b)*p),t.closePath();break;case"rectRounded":d=p*.516,c=p-d,a=Math.cos(b+en)*c,h=Math.cos(b+en)*(s?s/2-d:c),o=Math.sin(b+en)*c,f=Math.sin(b+en)*(s?s/2-d:c),t.arc(r-h,n-o,d,b-we,b-Ee),t.arc(r+f,n-a,d,b-Ee,b),t.arc(r+h,n+o,d,b,b+Ee),t.arc(r-f,n+a,d,b+Ee,b+we),t.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*p,u=s?s/2:c,t.rect(r-u,n-c,2*u,2*c);break}b+=en;case"rectRot":h=Math.cos(b)*(s?s/2:p),a=Math.cos(b)*p,o=Math.sin(b)*p,f=Math.sin(b)*(s?s/2:p),t.moveTo(r-h,n-o),t.lineTo(r+f,n-a),t.lineTo(r+h,n+o),t.lineTo(r-f,n+a),t.closePath();break;case"crossRot":b+=en;case"cross":h=Math.cos(b)*(s?s/2:p),a=Math.cos(b)*p,o=Math.sin(b)*p,f=Math.sin(b)*(s?s/2:p),t.moveTo(r-h,n-o),t.lineTo(r+h,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"star":h=Math.cos(b)*(s?s/2:p),a=Math.cos(b)*p,o=Math.sin(b)*p,f=Math.sin(b)*(s?s/2:p),t.moveTo(r-h,n-o),t.lineTo(r+h,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a),b+=en,h=Math.cos(b)*(s?s/2:p),a=Math.cos(b)*p,o=Math.sin(b)*p,f=Math.sin(b)*(s?s/2:p),t.moveTo(r-h,n-o),t.lineTo(r+h,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"line":a=s?s/2:Math.cos(b)*p,o=Math.sin(b)*p,t.moveTo(r-a,n-o),t.lineTo(r+a,n+o);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(b)*(s?s/2:p),n+Math.sin(b)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ji(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function mh(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function gh(t){t.restore()}function PN(t,e,r,n,s){if(!e)return t.lineTo(r.x,r.y);if(s==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else s==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function EN(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function MN(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Z(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function TN(t,e,r,n,s){if(s.strikethrough||s.underline){const i=t.measureText(n),a=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,c=r-i.actualBoundingBoxAscent,d=r+i.actualBoundingBoxDescent,u=s.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function ON(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Zi(t,e,r,n,s,i={}){const a=Ce(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=s.string,MN(t,i),c=0;c<a.length;++c)d=a[c],i.backdrop&&ON(t,i.backdrop),o&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Z(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,r,n,i.maxWidth)),t.fillText(d,r,n,i.maxWidth),TN(t,r,n,d,i),n+=Number(s.lineHeight);t.restore()}function tl(t,e){const{x:r,y:n,w:s,h:i,radius:a}=e;t.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*we,we,!0),t.lineTo(r,n+i-a.bottomLeft),t.arc(r+a.bottomLeft,n+i-a.bottomLeft,a.bottomLeft,we,Ee,!0),t.lineTo(r+s-a.bottomRight,n+i),t.arc(r+s-a.bottomRight,n+i-a.bottomRight,a.bottomRight,Ee,0,!0),t.lineTo(r+s,n+a.topRight),t.arc(r+s-a.topRight,n+a.topRight,a.topRight,0,-Ee,!0),t.lineTo(r+a.topLeft,n)}const DN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,LN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function RN(t,e){const r=(""+t).match(DN);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const AN=t=>+t||0;function ph(t,e){const r={},n=J(e),s=n?Object.keys(e):e,i=J(t)?n?a=>H(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)r[a]=AN(i(a));return r}function Xy(t){return ph(t,{top:"y",right:"x",bottom:"y",left:"x"})}function cs(t){return ph(t,["topLeft","topRight","bottomLeft","bottomRight"])}function kt(t){const e=Xy(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Be(t,e){t=t||{},e=e||_e.font;let r=H(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=H(t.style,e.style);n&&!(""+n).match(LN)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:H(t.family,e.family),lineHeight:RN(H(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:H(t.weight,e.weight),string:""};return s.string=CN(s),s}function Wa(t,e,r,n){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function IN(t,e,r){const{min:n,max:s}=t,i=zy(e,(s-n)/2),a=(o,c)=>r&&o===0?0:o+c;return{min:a(n,-Math.abs(i)),max:a(s,i)}}function Ln(t,e){return Object.assign(Object.create(t),e)}function yh(t,e=[""],r,n,s=()=>t[0]){const i=r||t;typeof n>"u"&&(n=ex("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:s,override:o=>yh([o,...t],e,i,n)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete o._keys,delete t[0][c],!0},get(o,c){return Jy(o,c,()=>VN(c,e,t,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,c){return Em(o).includes(c)},ownKeys(o){return Em(o)},set(o,c,d){const u=o._storage||(o._storage=s());return o[c]=u[c]=d,delete o._keys,!0}})}function js(t,e,r,n){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:Qy(t,n),setContext:i=>js(t,i,r,n),override:i=>js(t.override(i),e,r,n)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,o){return Jy(i,a,()=>$N(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,o){return t[a]=o,delete i[a],!0}})}function Qy(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:r,indexable:n,isScriptable:qr(r)?r:()=>r,isIndexable:qr(n)?n:()=>n}}const FN=(t,e)=>t?t+ch(e):e,xh=(t,e)=>J(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Jy(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function $N(t,e,r){const{_proxy:n,_context:s,_subProxy:i,_descriptors:a}=t;let o=n[e];return qr(o)&&a.isScriptable(e)&&(o=zN(e,o,t,r)),Ce(o)&&o.length&&(o=BN(e,o,t,a.isIndexable)),xh(e,o)&&(o=js(o,s,i&&i[e],a)),o}function zN(t,e,r,n){const{_proxy:s,_context:i,_subProxy:a,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let c=e(i,a||n);return o.delete(t),xh(t,c)&&(c=vh(s._scopes,s,t,c)),c}function BN(t,e,r,n){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(J(e[0])){const c=e,d=s._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=vh(d,s,t,u);e.push(js(h,i,a&&a[t],o))}}return e}function Zy(t,e,r){return qr(t)?t(e,r):t}const UN=(t,e)=>t===!0?e:typeof t=="string"?Cn(e,t):void 0;function WN(t,e,r,n,s){for(const i of e){const a=UN(r,i);if(a){t.add(a);const o=Zy(a._fallback,r,s);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function vh(t,e,r,n){const s=e._rootScopes,i=Zy(e._fallback,r,n),a=[...t,...s],o=new Set;o.add(n);let c=Pm(o,a,r,i||r,n);return c===null||typeof i<"u"&&i!==r&&(c=Pm(o,a,i,c,n),c===null)?!1:yh(Array.from(o),[""],s,i,()=>HN(e,r,n))}function Pm(t,e,r,n,s){for(;r;)r=WN(t,e,r,n,s);return r}function HN(t,e,r){const n=t._getTarget();e in n||(n[e]={});const s=n[e];return Ce(s)&&J(r)?r:s||{}}function VN(t,e,r,n){let s;for(const i of e)if(s=ex(FN(i,t),r),typeof s<"u")return xh(t,s)?vh(r,n,t,s):s}function ex(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function Em(t){let e=t._keys;return e||(e=t._keys=qN(t._scopes)),e}function qN(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(s=>!s.startsWith("_")))e.add(n);return Array.from(e)}const YN=Number.EPSILON||1e-14,Ss=(t,e)=>e<t.length&&!t[e].skip&&t[e],tx=t=>t==="x"?"y":"x";function KN(t,e,r,n){const s=t.skip?e:t,i=e,a=r.skip?e:r,o=Gd(i,s),c=Gd(a,i);let d=o/(o+c),u=c/(o+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=n*d,f=n*u;return{previous:{x:i.x-h*(a.x-s.x),y:i.y-h*(a.y-s.y)},next:{x:i.x+f*(a.x-s.x),y:i.y+f*(a.y-s.y)}}}function GN(t,e,r){const n=t.length;let s,i,a,o,c,d=Ss(t,0);for(let u=0;u<n-1;++u)if(c=d,d=Ss(t,u+1),!(!c||!d)){if(ki(e[u],0,YN)){r[u]=r[u+1]=0;continue}s=r[u]/e[u],i=r[u+1]/e[u],o=Math.pow(s,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),r[u]=s*a*e[u],r[u+1]=i*a*e[u])}}function XN(t,e,r="x"){const n=tx(r),s=t.length;let i,a,o,c=Ss(t,0);for(let d=0;d<s;++d){if(a=o,o=c,c=Ss(t,d+1),!o)continue;const u=o[r],h=o[n];a&&(i=(u-a[r])/3,o[`cp1${r}`]=u-i,o[`cp1${n}`]=h-i*e[d]),c&&(i=(c[r]-u)/3,o[`cp2${r}`]=u+i,o[`cp2${n}`]=h+i*e[d])}}function QN(t,e="x"){const r=tx(e),n=t.length,s=Array(n).fill(0),i=Array(n);let a,o,c,d=Ss(t,0);for(a=0;a<n;++a)if(o=c,c=d,d=Ss(t,a+1),!!c){if(d){const u=d[e]-c[e];s[a]=u!==0?(d[r]-c[r])/u:0}i[a]=o?d?Ht(s[a-1])!==Ht(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}GN(t,s,i),XN(t,i,e)}function Ha(t,e,r){return Math.max(Math.min(t,r),e)}function JN(t,e){let r,n,s,i,a,o=Ji(t[0],e);for(r=0,n=t.length;r<n;++r)a=i,i=o,o=r<n-1&&Ji(t[r+1],e),i&&(s=t[r],a&&(s.cp1x=Ha(s.cp1x,e.left,e.right),s.cp1y=Ha(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=Ha(s.cp2x,e.left,e.right),s.cp2y=Ha(s.cp2y,e.top,e.bottom)))}function ZN(t,e,r,n,s){let i,a,o,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")QN(t,s);else{let d=n?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)o=t[i],c=KN(d,o,t[Math.min(i+1,a-(n?0:1))%a],e.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,d=o}e.capBezierPoints&&JN(t,r)}function bh(){return typeof window<"u"&&typeof document<"u"}function wh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function rl(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const Fl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function eC(t,e){return Fl(t).getPropertyValue(e)}const tC=["top","right","bottom","left"];function vn(t,e,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const i=tC[s];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const rC=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function nC(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:s,offsetY:i}=n;let a=!1,o,c;if(rC(s,i,t.target))o=s,c=i;else{const d=e.getBoundingClientRect();o=n.clientX-d.left,c=n.clientY-d.top,a=!0}return{x:o,y:c,box:a}}function ln(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,s=Fl(r),i=s.boxSizing==="border-box",a=vn(s,"padding"),o=vn(s,"border","width"),{x:c,y:d,box:u}=nC(t,r),h=a.left+(u&&o.left),f=a.top+(u&&o.top);let{width:m,height:g}=e;return i&&(m-=a.width+o.width,g-=a.height+o.height),{x:Math.round((c-h)/m*r.width/n),y:Math.round((d-f)/g*r.height/n)}}function sC(t,e,r){let n,s;if(e===void 0||r===void 0){const i=t&&wh(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const a=i.getBoundingClientRect(),o=Fl(i),c=vn(o,"border","width"),d=vn(o,"padding");e=a.width-d.width-c.width,r=a.height-d.height-c.height,n=rl(o.maxWidth,i,"clientWidth"),s=rl(o.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||el,maxHeight:s||el}}const Va=t=>Math.round(t*10)/10;function iC(t,e,r,n){const s=Fl(t),i=vn(s,"margin"),a=rl(s.maxWidth,t,"clientWidth")||el,o=rl(s.maxHeight,t,"clientHeight")||el,c=sC(t,e,r);let{width:d,height:u}=c;if(s.boxSizing==="content-box"){const f=vn(s,"border","width"),m=vn(s,"padding");d-=m.width+f.width,u-=m.height+f.height}return d=Math.max(0,d-i.width),u=Math.max(0,n?d/n:u-i.height),d=Va(Math.min(d,a,c.maxWidth)),u=Va(Math.min(u,o,c.maxHeight)),d&&!u&&(u=Va(d/2)),(e!==void 0||r!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=Va(Math.floor(u*n))),{width:d,height:u}}function Mm(t,e,r){const n=e||1,s=Math.floor(t.height*n),i=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=n,a.height=s,a.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const aC=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};bh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Tm(t,e){const r=eC(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function cn(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function oC(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function lC(t,e,r,n){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=cn(t,s,r),o=cn(s,i,r),c=cn(i,e,r),d=cn(a,o,r),u=cn(o,c,r);return cn(d,u,r)}const cC=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},dC=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ds(t,e,r){return t?cC(e,r):dC()}function rx(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function nx(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function sx(t){return t==="angle"?{between:Qi,compare:cN,normalize:vr}:{between:Tr,compare:(e,r)=>e-r,normalize:e=>e}}function Om({start:t,end:e,count:r,loop:n,style:s}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:s}}function uC(t,e,r){const{property:n,start:s,end:i}=r,{between:a,normalize:o}=sx(n),c=e.length;let{start:d,end:u,loop:h}=t,f,m;if(h){for(d+=c,u+=c,f=0,m=c;f<m&&a(o(e[d%c][n]),s,i);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:t.style}}function hC(t,e,r){if(!r)return[t];const{property:n,start:s,end:i}=r,a=e.length,{compare:o,between:c,normalize:d}=sx(n),{start:u,end:h,loop:f,style:m}=uC(t,e,r),g=[];let p=!1,b=null,y,x,v;const w=()=>c(s,v,y)&&o(s,v)!==0,k=()=>o(i,y)===0||c(i,v,y),j=()=>p||w(),S=()=>!p||k();for(let N=u,P=u;N<=h;++N)x=e[N%a],!x.skip&&(y=d(x[n]),y!==v&&(p=c(y,s,i),b===null&&j()&&(b=o(y,s)===0?N:P),b!==null&&S()&&(g.push(Om({start:b,end:N,loop:f,count:a,style:m})),b=null),P=N,v=y));return b!==null&&g.push(Om({start:b,end:h,loop:f,count:a,style:m})),g}function fC(t,e){const r=[],n=t.segments;for(let s=0;s<n.length;s++){const i=hC(n[s],t.points,e);i.length&&r.push(...i)}return r}function mC(t,e,r,n){let s=0,i=e-1;if(r&&!n)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,r&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function gC(t,e,r,n){const s=t.length,i=[];let a=e,o=t[e],c;for(c=e+1;c<=r;++c){const d=t[c%s];d.skip||d.stop?o.skip||(n=!1,i.push({start:e%s,end:(c-1)%s,loop:n}),e=a=d.stop?c:null):(a=c,o.skip&&(e=c)),o=d}return a!==null&&i.push({start:e%s,end:a%s,loop:n}),i}function pC(t,e){const r=t.points,n=t.options.spanGaps,s=r.length;if(!s)return[];const i=!!t._loop,{start:a,end:o}=mC(r,s,i,n);if(n===!0)return Dm(t,[{start:a,end:o,loop:i}],r,e);const c=o<a?o+s:o,d=!!t._fullLoop&&a===0&&o===s-1;return Dm(t,gC(r,a,c,d),r,e)}function Dm(t,e,r,n){return!n||!n.setContext||!r?e:yC(t,e,r,n)}function yC(t,e,r,n){const s=t._chart.getContext(),i=Lm(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,c=r.length,d=[];let u=i,h=e[0].start,f=h;function m(g,p,b,y){const x=o?-1:1;if(g!==p){for(g+=c;r[g%c].skip;)g-=x;for(;r[p%c].skip;)p+=x;g%c!==p%c&&(d.push({start:g%c,end:p%c,loop:b,style:y}),u=y,h=p%c)}}for(const g of e){h=o?h:g.start;let p=r[h%c],b;for(f=h+1;f<=g.end;f++){const y=r[f%c];b=Lm(n.setContext(Ln(s,{type:"segment",p0:p,p1:y,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:a}))),xC(b,u)&&m(h,f-1,g.loop,u),p=y,u=b}h<f-1&&m(h,f-1,g.loop,u)}return d}function Lm(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function xC(t,e){if(!e)return!1;const r=[],n=function(s,i){return hh(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function qa(t,e,r){return t.options.clip?t[r]:e[r]}function vC(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:qa(r,e,"left"),right:qa(r,e,"right"),top:qa(n,e,"top"),bottom:qa(n,e,"bottom")}:e}function bC(t,e){const r=e._clip;if(r.disabled)return!1;const n=vC(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class wC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,s){const i=r.listeners[s],a=r.duration;i.forEach(o=>o({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=qy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const i=n.items;let a=i.length-1,o=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(s.draw(),this._notify(s,n,e,"progress")),i.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Gt=new wC;const Rm="transparent",kC={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=jm(t||Rm),s=n.valid&&jm(e||Rm);return s&&s.valid?s.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class _C{constructor(e,r,n,s){const i=r[n];s=Wa([e.to,s,i,e.from]);const a=Wa([e.from,i,s]);this._active=!0,this._fn=e.fn||kC[e.type||typeof a],this._easing=_i[e.easing]||_i.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const s=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Wa([e.to,r,s,e.from]),this._from=Wa([e.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,s=this._prop,i=this._from,a=this._loop,o=this._to;let c;if(this._active=i!==o&&(a||r<n),!this._active){this._target[s]=o,this._notify(!0);return}if(r<0){this._target[s]=i;return}c=r/n%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,o,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][r]()}}class ix{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!J(e))return;const r=Object.keys(_e.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!J(i))return;const a={};for(const o of r)a[o]=i[o];(Ce(i.properties)&&i.properties||[s]).forEach(o=>{(o===s||!n.has(o))&&n.set(o,a)})})}_animateOptions(e,r){const n=r.options,s=SC(e,n);if(!s)return[];const i=this._createAnimations(s,n);return n.$shared&&jC(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(r),o=Date.now();let c;for(c=a.length-1;c>=0;--c){const d=a[c];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,r));continue}const u=r[d];let h=i[d];const f=n.get(d);if(h)if(f&&h.active()){h.update(f,u,o);continue}else h.cancel();if(!f||!f.duration){e[d]=u;continue}i[d]=h=new _C(f,e,d,u),s.push(h)}return s}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Gt.add(this._chart,n),!0}}function jC(t,e){const r=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const i=t[n[s]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function SC(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function Am(t,e){const r=t&&t.options||{},n=r.reverse,s=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:s,end:n?s:i}}function NC(t,e,r){if(r===!1)return!1;const n=Am(t,r),s=Am(e,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function CC(t){let e,r,n,s;return J(t)?(e=t.top,r=t.right,n=t.bottom,s=t.left):e=r=n=s=t,{top:e,right:r,bottom:n,left:s,disabled:t===!1}}function ax(t,e){const r=[],n=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=n.length;s<i;++s)r.push(n[s].index);return r}function Im(t,e,r,n={}){const s=t.keys,i=n.mode==="single";let a,o,c,d;if(e===null)return;let u=!1;for(a=0,o=s.length;a<o;++a){if(c=+s[a],c===r){if(u=!0,n.all)continue;break}d=t.values[c],wt(d)&&(i||e===0||Ht(e)===Ht(d))&&(e+=d)}return!u&&!n.all?0:e}function PC(t,e){const{iScale:r,vScale:n}=e,s=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let c,d,u;for(c=0,d=a.length;c<d;++c)u=a[c],o[c]={[s]:u,[i]:t[u]};return o}function Ec(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function EC(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function MC(t){const{min:e,max:r,minDefined:n,maxDefined:s}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function TC(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function Fm(t,e,r,n){for(const s of e.getMatchingVisibleMetas(n).reverse()){const i=t[s.index];if(r&&i>0||!r&&i<0)return s.index}return null}function $m(t,e){const{chart:r,_cachedMeta:n}=t,s=r._stacks||(r._stacks={}),{iScale:i,vScale:a,index:o}=n,c=i.axis,d=a.axis,u=EC(i,a,n),h=e.length;let f;for(let m=0;m<h;++m){const g=e[m],{[c]:p,[d]:b}=g,y=g._stacks||(g._stacks={});f=y[d]=TC(s,u,p),f[o]=b,f._top=Fm(f,a,!0,n.type),f._bottom=Fm(f,a,!1,n.type);const x=f._visualValues||(f._visualValues={});x[o]=b}}function Mc(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function OC(t,e){return Ln(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function DC(t,e,r){return Ln(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function qs(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const Tc=t=>t==="reset"||t==="none",zm=(t,e)=>e?t:Object.assign({},t),LC=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:ax(r,!0),values:null};class bn{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ec(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&qs(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),s=(h,f,m,g)=>h==="x"?f:h==="r"?g:m,i=r.xAxisID=H(n.xAxisID,Mc(e,"x")),a=r.yAxisID=H(n.yAxisID,Mc(e,"y")),o=r.rAxisID=H(n.rAxisID,Mc(e,"r")),c=r.indexAxis,d=r.iAxisID=s(c,i,a,o),u=r.vAxisID=s(c,a,i,o);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&wm(this._data,this),e._stacked&&qs(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(J(r)){const s=this._cachedMeta;this._data=PC(r,s)}else if(n!==r){if(n){wm(n,this);const s=this._cachedMeta;qs(s),s._parsed=[]}r&&Object.isExtensible(r)&&fN(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const i=r._stacked;r._stacked=Ec(r.vScale,r),r.stack!==n.stack&&(s=!0,qs(r),r.stack=n.stack),this._resyncElements(e),(s||i!==r._stacked)&&($m(this,r._parsed),r._stacked=Ec(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:s}=this,{iScale:i,_stacked:a}=n,o=i.axis;let c=e===0&&r===s.length?!0:n._sorted,d=e>0&&n._parsed[e-1],u,h,f;if(this._parsing===!1)n._parsed=s,n._sorted=!0,f=s;else{Ce(s[e])?f=this.parseArrayData(n,s,e,r):J(s[e])?f=this.parseObjectData(n,s,e,r):f=this.parsePrimitiveData(n,s,e,r);const m=()=>h[o]===null||d&&h[o]<d[o];for(u=0;u<r;++u)n._parsed[u+e]=h=f[u],c&&(m()&&(c=!1),d=h);n._sorted=c}a&&$m(this,f)}parsePrimitiveData(e,r,n,s){const{iScale:i,vScale:a}=e,o=i.axis,c=a.axis,d=i.getLabels(),u=i===a,h=new Array(s);let f,m,g;for(f=0,m=s;f<m;++f)g=f+n,h[f]={[o]:u||i.parse(d[g],g),[c]:a.parse(r[g],g)};return h}parseArrayData(e,r,n,s){const{xScale:i,yScale:a}=e,o=new Array(s);let c,d,u,h;for(c=0,d=s;c<d;++c)u=c+n,h=r[u],o[c]={x:i.parse(h[0],u),y:a.parse(h[1],u)};return o}parseObjectData(e,r,n,s){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=new Array(s);let u,h,f,m;for(u=0,h=s;u<h;++u)f=u+n,m=r[f],d[u]={x:i.parse(Cn(m,o),f),y:a.parse(Cn(m,c),f)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const s=this.chart,i=this._cachedMeta,a=r[e.axis],o={keys:ax(s,!0),values:r._stacks[e.axis]._visualValues};return Im(o,a,i.index,{mode:n})}updateRangeFromParsed(e,r,n,s){const i=n[r.axis];let a=i===null?NaN:i;const o=s&&n._stacks[r.axis];s&&o&&(s.values=o,a=Im(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const n=this._cachedMeta,s=n._parsed,i=n._sorted&&e===n.iScale,a=s.length,o=this._getOtherScale(e),c=LC(r,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=MC(o);let f,m;function g(){m=s[f];const p=m[o.axis];return!wt(m[e.axis])||u>p||h<p}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(d,e,m,c),i));++f);if(i){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(d,e,m,c);break}}return d}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let s,i,a;for(s=0,i=r.length;s<i;++s)a=r[s][e.axis],wt(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,s=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=CC(H(this.options.clip,NC(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,s=n.data||[],i=r.chartArea,a=[],o=this._drawStart||0,c=this._drawCount||s.length-o,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,o,c),u=o;u<o+c;++u){const h=s[u];h.hidden||(h.active&&d?a.push(h):h.draw(e,i))}for(u=0;u<a.length;++u)a[u].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=DC(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=OC(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const s=r==="active",i=this._cachedDataOpts,a=e+"-"+r,o=i[a],c=this.enableOptionSharing&&Gi(n);if(o)return zm(o,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],f=d.getOptionScopes(this.getDataset(),u),m=Object.keys(_e.elements[e]),g=()=>this.getContext(n,s,r),p=d.resolveNamedOptions(f,m,g,h);return p.$shared&&(p.$shared=c,i[a]=Object.freeze(zm(p,c))),p}_resolveAnimations(e,r,n){const s=this.chart,i=this._cachedDataOpts,a=`animation-${r}`,o=i[a];if(o)return o;let c;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,r),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(e,n,r))}const d=new ix(s,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||Tc(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),s=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(r,i)||i!==s;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:a}}updateElement(e,r,n,s){Tc(s)?Object.assign(e,n):this._resolveAnimations(r,s).update(e,n)}updateSharedOptions(e,r,n){e&&!Tc(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,s){e.active=s;const i=this.getStyle(r,s);this._resolveAnimations(r,n,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[o,c,d]of this._syncList)this[o](c,d);this._syncList=[];const s=n.length,i=r.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,r,n=!0){const s=this._cachedMeta,i=s.data,a=e+r;let o;const c=d=>{for(d.length+=r,o=d.length-1;o>=a;o--)d[o]=d[o-r]};for(c(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,s){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,r);n._stacked&&qs(n,s)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,s]=e;this[r](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}A(bn,"defaults",{}),A(bn,"datasetElementType",null),A(bn,"dataElementType",null);function RC(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let s=0,i=r.length;s<i;s++)n=n.concat(r[s].controller.getAllParsedValues(t));t._cache.$bar=Vy(n.sort((s,i)=>s-i))}return t._cache.$bar}function AC(t){const e=t.iScale,r=RC(e,t.type);let n=e._length,s,i,a,o;const c=()=>{a===32767||a===-32768||(Gi(o)&&(n=Math.min(n,Math.abs(a-o)||n)),o=a)};for(s=0,i=r.length;s<i;++s)a=e.getPixelForValue(r[s]),c();for(o=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),c();return n}function IC(t,e,r,n){const s=r.barThickness;let i,a;return Z(s)?(i=e.min*r.categoryPercentage,a=r.barPercentage):(i=s*n,a=1),{chunk:i/n,ratio:a,start:e.pixels[t]-i/2}}function FC(t,e,r,n){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,o=t<s.length-1?s[t+1]:null;const c=r.categoryPercentage;a===null&&(a=i-(o===null?e.end-e.start:o-i)),o===null&&(o=i+i-a);const d=i-(i-Math.min(a,o))/2*c;return{chunk:Math.abs(o-a)/2*c/n,ratio:r.barPercentage,start:d}}function $C(t,e,r,n){const s=r.parse(t[0],n),i=r.parse(t[1],n),a=Math.min(s,i),o=Math.max(s,i);let c=a,d=o;Math.abs(a)>Math.abs(o)&&(c=o,d=a),e[r.axis]=d,e._custom={barStart:c,barEnd:d,start:s,end:i,min:a,max:o}}function ox(t,e,r,n){return Ce(t)?$C(t,e,r,n):e[r.axis]=r.parse(t,n),e}function Bm(t,e,r,n){const s=t.iScale,i=t.vScale,a=s.getLabels(),o=s===i,c=[];let d,u,h,f;for(d=r,u=r+n;d<u;++d)f=e[d],h={},h[s.axis]=o||s.parse(a[d],d),c.push(ox(f,h,i,d));return c}function Oc(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function zC(t,e,r){return t!==0?Ht(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function BC(t){let e,r,n,s,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(s="end",i="start"):(s="start",i="end"),{start:r,end:n,reverse:e,top:s,bottom:i}}function UC(t,e,r,n){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:c,top:d,bottom:u}=BC(t);s==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?s=d:(r._bottom||0)===n?s=u:(i[Um(u,a,o,c)]=!0,s=d)),i[Um(s,a,o,c)]=!0,t.borderSkipped=i}function Um(t,e,r,n){return n?(t=WC(t,e,r),t=Wm(t,r,e)):t=Wm(t,e,r),t}function WC(t,e,r){return t===e?r:t===r?e:t}function Wm(t,e,r){return t==="start"?e:t==="end"?r:t}function HC(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class mo extends bn{parsePrimitiveData(e,r,n,s){return Bm(e,r,n,s)}parseArrayData(e,r,n,s){return Bm(e,r,n,s)}parseObjectData(e,r,n,s){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?o:c,u=a.axis==="x"?o:c,h=[];let f,m,g,p;for(f=n,m=n+s;f<m;++f)p=r[f],g={},g[i.axis]=i.parse(Cn(p,d),f),h.push(ox(Cn(p,u),g,a,f));return h}updateRangeFromParsed(e,r,n,s){super.updateRangeFromParsed(e,r,n,s);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:s}=r,i=this.getParsed(e),a=i._custom,o=Oc(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),d=o.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,s);for(let m=r;m<r+n;m++){const g=this.getParsed(m),p=i||Z(g[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),b=this._calculateBarIndexPixels(m,u),y=(g._stacks||{})[o.axis],x={horizontal:d,base:p.base,enableBorderRadius:!y||Oc(g._custom)||a===y._top||a===y._bottom,x:d?p.head:b.center,y:d?b.center:p.head,height:d?b.size:Math.abs(p.size),width:d?Math.abs(p.size):b.size};f&&(x.options=h||this.resolveDataElementOptions(m,e[m].active?"active":s));const v=x.options||e[m].options;UC(x,v,y,a),HC(x,v,u.ratio),this.updateElement(e[m],m,x,s)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(r),c=o&&o[n.axis],d=u=>{const h=u._parsed.find(m=>m[n.axis]===c),f=h&&h[u.vScale.axis];if(Z(f)||isNaN(f))return!0};for(const u of s)if(!(r!==void 0&&d(u))&&((i===!1||a.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){const s=this._getStacks(e,n),i=r!==void 0?s.indexOf(r):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,s=[];let i,a;for(i=0,a=r.data.length;i<a;++i)s.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const o=e.barThickness;return{min:o||AC(r),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:s},options:{base:i,minBarLength:a}}=this,o=i||0,c=this.getParsed(e),d=c._custom,u=Oc(d);let h=c[r.axis],f=0,m=n?this.applyStack(r,c,n):h,g,p;m!==h&&(f=m-h,m=h),u&&(h=d.barStart,m=d.barEnd-d.barStart,h!==0&&Ht(h)!==Ht(d.barEnd)&&(f=0),f+=h);const b=!Z(i)&&!u?i:f;let y=r.getPixelForValue(b);if(this.chart.getDataVisibility(e)?g=r.getPixelForValue(f+m):g=y,p=g-y,Math.abs(p)<a){p=zC(p,r,o)*a,h===o&&(y-=p/2);const x=r.getPixelForDecimal(0),v=r.getPixelForDecimal(1),w=Math.min(x,v),k=Math.max(x,v);y=Math.max(Math.min(y,k),w),g=y+p,n&&!u&&(c._stacks[r.axis]._visualValues[s]=r.getValueForPixel(g)-r.getValueForPixel(y))}if(y===r.getPixelForValue(o)){const x=Ht(p)*r.getLineWidthForValue(o)/2;y+=x,p-=x}return{size:p,base:y,head:g,center:g+p/2}}_calculateBarIndexPixels(e,r){const n=r.scale,s=this.options,i=s.skipNull,a=H(s.maxBarThickness,1/0);let o,c;if(r.grouped){const d=i?this._getStackCount(e):r.stackCount,u=s.barThickness==="flex"?FC(e,r,s,d):IC(e,r,s,d),h=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);o=u.start+u.chunk*h+u.chunk/2,c=Math.min(a,u.chunk*u.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(a,r.min*r.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,s=n.length;let i=0;for(;i<s;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}A(mo,"id","bar"),A(mo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),A(mo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function VC(t,e,r){let n=1,s=1,i=0,a=0;if(e<be){const o=t,c=o+e,d=Math.cos(o),u=Math.sin(o),h=Math.cos(c),f=Math.sin(c),m=(v,w,k)=>Qi(v,o,c,!0)?1:Math.max(w,w*r,k,k*r),g=(v,w,k)=>Qi(v,o,c,!0)?-1:Math.min(w,w*r,k,k*r),p=m(0,d,h),b=m(Ee,u,f),y=g(we,d,h),x=g(we+Ee,u,f);n=(p-y)/2,s=(b-x)/2,i=-(p+y)/2,a=-(b+x)/2}return{ratioX:n,ratioY:s,offsetX:i,offsetY:a}}class ni extends bn{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let i=c=>+n[c];if(J(n[e])){const{key:c="value"}=this._parsing;i=d=>+Cn(n[d],c)}let a,o;for(a=e,o=e+r;a<o;++a)s._parsed[a]=i(a)}}_getRotation(){return nr(this.options.rotation-90)}_getCircumference(){return nr(this.options.circumference)}_getRotationExtents(){let e=be,r=-be;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),r=Math.max(r,i+a)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),c=Math.min(XS(this.options.cutout,o),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:g,offsetY:p}=VC(h,u,c),b=(n.width-a)/f,y=(n.height-a)/m,x=Math.max(Math.min(b,y)/2,0),v=zy(this.options.radius,x),w=Math.max(v*c,0),k=(v-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*v,this.offsetY=p*v,s.total=this.calculateTotal(),this.outerRadius=v-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const n=this.options,s=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/be)}updateElements(e,r,n,s){const i=s==="reset",a=this.chart,o=a.chartArea,d=a.options.animation,u=(o.left+o.right)/2,h=(o.top+o.bottom)/2,f=i&&d.animateScale,m=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:p,includeOptions:b}=this._getSharedOptions(r,s);let y=this._getRotation(),x;for(x=0;x<r;++x)y+=this._circumference(x,i);for(x=r;x<r+n;++x){const v=this._circumference(x,i),w=e[x],k={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+v,circumference:v,outerRadius:g,innerRadius:m};b&&(k.options=p||this.resolveDataElementOptions(x,w.active?"active":s)),y+=v,this.updateElement(w,x,k,s)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,s;for(s=0;s<r.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?be*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,s=n.data.labels||[],i=fh(r._parsed[e],n.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const n=this.chart;let s,i,a,o,c;if(!e){for(s=0,i=n.data.datasets.length;s<i;++s)if(n.isDatasetVisible(s)){a=n.getDatasetMeta(s),e=a.data,o=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)c=o.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,s=e.length;n<s;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(H(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}A(ni,"id","doughnut"),A(ni,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),A(ni,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),A(ni,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:s}}=e.legend.options;return r.labels.map((i,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class go extends bn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:s=[],_dataset:i}=r,a=this.chart._animationsDisabled;let{start:o,count:c}=pN(r,s,a);this._drawStart=o,this._drawCount=c,yN(r)&&(o=0,c=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=s;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:d},e),this.updateElements(s,o,c,e)}updateElements(e,r,n,s){const i=s==="reset",{iScale:a,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(r,s),f=a.axis,m=o.axis,{spanGaps:g,segment:p}=this.options,b=Xi(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||s==="none",x=r+n,v=e.length;let w=r>0&&this.getParsed(r-1);for(let k=0;k<v;++k){const j=e[k],S=y?j:{};if(k<r||k>=x){S.skip=!0;continue}const N=this.getParsed(k),P=Z(N[m]),C=S[f]=a.getPixelForValue(N[f],k),E=S[m]=i||P?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,N,c):N[m],k);S.skip=isNaN(C)||isNaN(E)||P,S.stop=k>0&&Math.abs(N[f]-w[f])>b,p&&(S.parsed=N,S.raw=d.data[k]),h&&(S.options=u||this.resolveDataElementOptions(k,j.active?"active":s)),y||this.updateElement(j,k,S,s),w=N}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,s=e.data||[];if(!s.length)return n;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}A(go,"id","line"),A(go,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),A(go,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function rn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kh{constructor(e){A(this,"options");this.options=e||{}}static override(e){Object.assign(kh.prototype,e)}init(){}formats(){return rn()}parse(){return rn()}format(){return rn()}add(){return rn()}diff(){return rn()}startOf(){return rn()}endOf(){return rn()}}var qC={_date:kh};function YC(t,e,r,n){const{controller:s,data:i,_sorted:a}=t,o=s._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&i.length){const d=o._reversePixels?uN:gn;if(n){if(s._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=d(i,e,r-h),m=d(i,e,r+h);return{lo:f.lo,hi:m.hi}}}}else{const u=d(i,e,r);if(c){const{vScale:h}=s._cachedMeta,{_parsed:f}=t,m=f.slice(0,u.lo+1).reverse().findIndex(p=>!Z(p[h.axis]));u.lo-=Math.max(0,m);const g=f.slice(u.hi).findIndex(p=>!Z(p[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:i.length-1}}function $l(t,e,r,n,s){const i=t.getSortedVisibleDatasetMetas(),a=r[e];for(let o=0,c=i.length;o<c;++o){const{index:d,data:u}=i[o],{lo:h,hi:f}=YC(i[o],e,a,s);for(let m=h;m<=f;++m){const g=u[m];g.skip||n(g,d,m)}}}function KC(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,s){const i=e?Math.abs(n.x-s.x):0,a=r?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Dc(t,e,r,n,s){const i=[];return!s&&!t.isPointInArea(e)||$l(t,r,e,function(o,c,d){!s&&!Ji(o,t.chartArea,0)||o.inRange(e.x,e.y,n)&&i.push({element:o,datasetIndex:c,index:d})},!0),i}function GC(t,e,r,n){let s=[];function i(a,o,c){const{startAngle:d,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:h}=Wy(a,{x:e.x,y:e.y});Qi(h,d,u)&&s.push({element:a,datasetIndex:o,index:c})}return $l(t,r,e,i),s}function XC(t,e,r,n,s,i){let a=[];const o=KC(r);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const m=u.inRange(e.x,e.y,s);if(n&&!m)return;const g=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(g))&&!m)return;const b=o(e,g);b<c?(a=[{element:u,datasetIndex:h,index:f}],c=b):b===c&&a.push({element:u,datasetIndex:h,index:f})}return $l(t,r,e,d),a}function Lc(t,e,r,n,s,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?GC(t,e,r,s):XC(t,e,r,n,s,i)}function Hm(t,e,r,n,s){const i=[],a=r==="x"?"inXRange":"inYRange";let o=!1;return $l(t,r,e,(c,d,u)=>{c[a]&&c[a](e[r],s)&&(i.push({element:c,datasetIndex:d,index:u}),o=o||c.inRange(e.x,e.y,s))}),n&&!o?[]:i}var QC={modes:{index(t,e,r,n){const s=ln(e,t),i=r.axis||"x",a=r.includeInvisible||!1,o=r.intersect?Dc(t,s,i,n,a):Lc(t,s,i,!1,n,a),c=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=o[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,r,n){const s=ln(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;let o=r.intersect?Dc(t,s,i,n,a):Lc(t,s,i,!1,n,a);if(o.length>0){const c=o[0].datasetIndex,d=t.getDatasetMeta(c).data;o=[];for(let u=0;u<d.length;++u)o.push({element:d[u],datasetIndex:c,index:u})}return o},point(t,e,r,n){const s=ln(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;return Dc(t,s,i,n,a)},nearest(t,e,r,n){const s=ln(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;return Lc(t,s,i,r.intersect,n,a)},x(t,e,r,n){const s=ln(e,t);return Hm(t,s,"x",r.intersect,n)},y(t,e,r,n){const s=ln(e,t);return Hm(t,s,"y",r.intersect,n)}}};const lx=["left","top","right","bottom"];function Ys(t,e){return t.filter(r=>r.pos===e)}function Vm(t,e){return t.filter(r=>lx.indexOf(r.pos)===-1&&r.box.axis===e)}function Ks(t,e){return t.sort((r,n)=>{const s=e?n:r,i=e?r:n;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function JC(t){const e=[];let r,n,s,i,a,o;for(r=0,n=(t||[]).length;r<n;++r)s=t[r],{position:i,options:{stack:a,stackWeight:o=1}}=s,e.push({index:r,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:o});return e}function ZC(t){const e={};for(const r of t){const{stack:n,pos:s,stackWeight:i}=r;if(!n||!lx.includes(s))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function e4(t,e){const r=ZC(t),{vBoxMaxWidth:n,hBoxMaxHeight:s}=e;let i,a,o;for(i=0,a=t.length;i<a;++i){o=t[i];const{fullSize:c}=o.box,d=r[o.stack],u=d&&o.stackWeight/d.weight;o.horizontal?(o.width=u?u*n:c&&e.availableWidth,o.height=s):(o.width=n,o.height=u?u*s:c&&e.availableHeight)}return r}function t4(t){const e=JC(t),r=Ks(e.filter(d=>d.box.fullSize),!0),n=Ks(Ys(e,"left"),!0),s=Ks(Ys(e,"right")),i=Ks(Ys(e,"top"),!0),a=Ks(Ys(e,"bottom")),o=Vm(e,"x"),c=Vm(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:s.concat(c).concat(a).concat(o),chartArea:Ys(e,"chartArea"),vertical:n.concat(s).concat(c),horizontal:i.concat(a).concat(o)}}function qm(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function cx(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function r4(t,e,r,n){const{pos:s,box:i}=r,a=t.maxPadding;if(!J(s)){r.size&&(t[s]-=r.size);const h=n[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?i.height:i.width),r.size=h.size/h.count,t[s]+=r.size}i.getPadding&&cx(a,i.getPadding());const o=Math.max(0,e.outerWidth-qm(a,t,"left","right")),c=Math.max(0,e.outerHeight-qm(a,t,"top","bottom")),d=o!==t.w,u=c!==t.h;return t.w=o,t.h=c,r.horizontal?{same:d,other:u}:{same:u,other:d}}function n4(t){const e=t.maxPadding;function r(n){const s=Math.max(e[n]-t[n],0);return t[n]+=s,s}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function s4(t,e){const r=e.maxPadding;function n(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],r[a])}),i}return n(t?["left","right"]:["top","bottom"])}function si(t,e,r,n){const s=[];let i,a,o,c,d,u;for(i=0,a=t.length,d=0;i<a;++i){o=t[i],c=o.box,c.update(o.width||e.w,o.height||e.h,s4(o.horizontal,e));const{same:h,other:f}=r4(e,r,o,n);d|=h&&s.length,u=u||f,c.fullSize||s.push(o)}return d&&si(s,e,r,n)||u}function Ya(t,e,r,n,s){t.top=r,t.left=e,t.right=e+n,t.bottom=r+s,t.width=n,t.height=s}function Ym(t,e,r,n){const s=r.padding;let{x:i,y:a}=e;for(const o of t){const c=o.box,d=n[o.stack]||{placed:0,weight:1},u=o.stackWeight/d.weight||1;if(o.horizontal){const h=e.w*u,f=d.size||c.height;Gi(d.start)&&(a=d.start),c.fullSize?Ya(c,s.left,a,r.outerWidth-s.right-s.left,f):Ya(c,e.left+d.placed,a,h,f),d.start=a,d.placed+=h,a=c.bottom}else{const h=e.h*u,f=d.size||c.width;Gi(d.start)&&(i=d.start),c.fullSize?Ya(c,i,s.top,f,r.outerHeight-s.bottom-s.top):Ya(c,i,e.top+d.placed,f,h),d.start=i,d.placed+=h,i=c.right}}e.x=i,e.y=a}var pt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const s=kt(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(r-s.height,0),o=t4(t.boxes),c=o.vertical,d=o.horizontal;re(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=c.reduce((p,b)=>b.box.options&&b.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:r,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/u,hBoxMaxHeight:a/2}),f=Object.assign({},s);cx(f,kt(n));const m=Object.assign({maxPadding:f,w:i,h:a,x:s.left,y:s.top},s),g=e4(c.concat(d),h);si(o.fullSize,m,h,g),si(c,m,h,g),si(d,m,h,g)&&si(c,m,h,g),n4(m),Ym(o.leftAndTop,m,h,g),m.x+=m.w,m.y+=m.h,Ym(o.rightAndBottom,m,h,g),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},re(o.chartArea,p=>{const b=p.box;Object.assign(b,t.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class dx{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,s){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,s?Math.floor(r/s):n)}}isAttached(e){return!0}updateConfig(e){}}class i4 extends dx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const po="$chartjs",a4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Km=t=>t===null||t==="";function o4(t,e){const r=t.style,n=t.getAttribute("height"),s=t.getAttribute("width");if(t[po]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Km(s)){const i=Tm(t,"width");i!==void 0&&(t.width=i)}if(Km(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Tm(t,"height");i!==void 0&&(t.height=i)}return t}const ux=aC?{passive:!0}:!1;function l4(t,e,r){t&&t.addEventListener(e,r,ux)}function c4(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,ux)}function d4(t,e){const r=a4[t.type]||t.type,{x:n,y:s}=ln(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:s!==void 0?s:null}}function nl(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function u4(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||nl(o.addedNodes,n),a=a&&!nl(o.removedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function h4(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||nl(o.removedNodes,n),a=a&&!nl(o.addedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const ea=new Map;let Gm=0;function hx(){const t=window.devicePixelRatio;t!==Gm&&(Gm=t,ea.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function f4(t,e){ea.size||window.addEventListener("resize",hx),ea.set(t,e)}function m4(t){ea.delete(t),ea.size||window.removeEventListener("resize",hx)}function g4(t,e,r){const n=t.canvas,s=n&&wh(n);if(!s)return;const i=Yy((o,c)=>{const d=s.clientWidth;r(o,c),d<s.clientWidth&&r()},window),a=new ResizeObserver(o=>{const c=o[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return a.observe(s),f4(t,i),a}function Rc(t,e,r){r&&r.disconnect(),e==="resize"&&m4(t)}function p4(t,e,r){const n=t.canvas,s=Yy(i=>{t.ctx!==null&&r(d4(i,t))},t);return l4(n,e,s),s}class y4 extends dx{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(o4(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[po])return!1;const n=r[po].initial;["height","width"].forEach(i=>{const a=n[i];Z(a)?r.removeAttribute(i):r.setAttribute(i,a)});const s=n.style||{};return Object.keys(s).forEach(i=>{r.style[i]=s[i]}),r.width=r.width,delete r[po],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const s=e.$proxies||(e.$proxies={}),a={attach:u4,detach:h4,resize:g4}[r]||p4;s[r]=a(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),s=n[r];if(!s)return;({attach:Rc,detach:Rc,resize:Rc}[r]||c4)(e,r,s),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,s){return iC(e,r,n,s)}isAttached(e){const r=e&&wh(e);return!!(r&&r.isConnected)}}function x4(t){return!bh()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?i4:y4}class Lt{constructor(){A(this,"x");A(this,"y");A(this,"active",!1);A(this,"options");A(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Xi(this.x)&&Xi(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const s={};return e.forEach(i=>{s[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),s}}A(Lt,"defaults",{}),A(Lt,"defaultRoutes");function v4(t,e){const r=t.options.ticks,n=b4(t),s=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?k4(e):[],a=i.length,o=i[0],c=i[a-1],d=[];if(a>s)return _4(e,d,i,a/s),d;const u=w4(i,e,s);if(a>0){let h,f;const m=a>1?Math.round((c-o)/(a-1)):null;for(Ka(e,d,u,Z(m)?0:o-m,o),h=0,f=a-1;h<f;h++)Ka(e,d,u,i[h],i[h+1]);return Ka(e,d,u,c,Z(m)?e.length:c+m),d}return Ka(e,d,u),d}function b4(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),s=t._maxLength/r;return Math.floor(Math.min(n,s))}function w4(t,e,r){const n=j4(t),s=e.length/r;if(!n)return Math.max(s,1);const i=sN(n);for(let a=0,o=i.length-1;a<o;a++){const c=i[a];if(c>s)return c}return Math.max(s,1)}function k4(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function _4(t,e,r,n){let s=0,i=r[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=r[s*n])}function Ka(t,e,r,n,s){const i=H(n,0),a=Math.min(H(s,t.length),t.length);let o=0,c,d,u;for(r=Math.ceil(r),s&&(c=s-n,r=c/Math.floor(c/r)),u=i;u<0;)o++,u=Math.round(i+o*r);for(d=Math.max(i,0);d<a;d++)d===u&&(e.push(t[d]),o++,u=Math.round(i+o*r))}function j4(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const S4=t=>t==="left"?"right":t==="right"?"left":t,Xm=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,Qm=(t,e)=>Math.min(e||t,t);function Jm(t,e){const r=[],n=t.length/e,s=t.length;let i=0;for(;i<s;i+=n)r.push(t[Math.floor(i)]);return r}function N4(t,e,r){const n=t.ticks.length,s=Math.min(e,n-1),i=t._startPixel,a=t._endPixel,o=1e-6;let c=t.getPixelForTick(s),d;if(!(r&&(n===1?d=Math.max(c-i,a-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(s-1))/2,c+=s<e?d:-d,c<i-o||c>a+o)))return c}function C4(t,e){re(t,r=>{const n=r.gc,s=n.length/2;let i;if(s>e){for(i=0;i<s;++i)delete r.data[n[i]];n.splice(0,s)}})}function Gs(t){return t.drawTicks?t.tickLength:0}function Zm(t,e){if(!t.display)return 0;const r=Be(t.font,e),n=kt(t.padding);return(Ce(t.text)?t.text.length:1)*r.lineHeight+n.height}function P4(t,e){return Ln(t,{scale:e,type:"scale"})}function E4(t,e,r){return Ln(t,{tick:r,index:e,type:"tick"})}function M4(t,e,r){let n=uh(t);return(r&&e!=="right"||!r&&e==="right")&&(n=S4(n)),n}function T4(t,e,r,n){const{top:s,left:i,bottom:a,right:o,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,f,m,g;const p=a-s,b=o-i;if(t.isHorizontal()){if(m=Fe(n,i,o),J(r)){const y=Object.keys(r)[0],x=r[y];g=u[y].getPixelForValue(x)+p-e}else r==="center"?g=(d.bottom+d.top)/2+p-e:g=Xm(t,r,e);f=o-i}else{if(J(r)){const y=Object.keys(r)[0],x=r[y];m=u[y].getPixelForValue(x)-b+e}else r==="center"?m=(d.left+d.right)/2-b+e:m=Xm(t,r,e);g=Fe(n,a,s),h=r==="left"?-Ee:Ee}return{titleX:m,titleY:g,maxWidth:f,rotation:h}}class Ls extends Lt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:s}=this;return e=At(e,Number.POSITIVE_INFINITY),r=At(r,Number.NEGATIVE_INFINITY),n=At(n,Number.POSITIVE_INFINITY),s=At(s,Number.NEGATIVE_INFINITY),{min:At(e,n),max:At(r,s),minDefined:wt(e),maxDefined:wt(r)}}getMinMax(e){let{min:r,max:n,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let c=0,d=o.length;c<d;++c)a=o[c].controller.getMinMax(this,e),s||(r=Math.min(r,a.min)),i||(n=Math.max(n,a.max));return r=i&&r>n?n:r,n=s&&r>n?r:n,{min:At(r,At(n,r)),max:At(n,At(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:s,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=IN(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?Jm(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=v4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ce(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,s,i;for(n=0,s=e.length;n<s;n++)i=e[n],i.label=ce(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=Qm(this.ticks.length,e.ticks.maxTicksLimit),s=r.minRotation||0,i=r.maxRotation;let a=s,o,c,d;if(!this._isVisible()||!r.display||s>=i||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,m=ze(this.chart.width-h,0,this.maxWidth);o=e.offset?this.maxWidth/n:m/(n-1),h+6>o&&(o=m/(n-(e.offset?.5:1)),c=this.maxHeight-Gs(e.grid)-r.padding-Zm(e.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),a=lN(Math.min(Math.asin(ze((u.highest.height+6)/o,-1,1)),Math.asin(ze(c/d,-1,1))-Math.asin(ze(f/d,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:s,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const c=Zm(s,r.options.font);if(o?(e.width=this.maxWidth,e.height=Gs(i)+c):(e.height=this.maxHeight,e.width=Gs(i)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),m=n.padding*2,g=nr(this.labelRotation),p=Math.cos(g),b=Math.sin(g);if(o){const y=n.mirror?0:b*h.width+p*f.height;e.height=Math.min(this.maxHeight,e.height+y+m)}else{const y=n.mirror?0:p*h.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+y+m)}this._calculatePadding(d,u,b,p)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,s){const{ticks:{align:i,padding:a},position:o}=this.options,c=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;c?d?(f=s*e.width,m=n*r.height):(f=n*e.height,m=s*r.width):i==="start"?m=r.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,m=r.width/2),this.paddingLeft=Math.max((f-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-h+a)*this.width/(this.width-h),0)}else{let u=r.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=r.height,h=0),this.paddingTop=u+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)Z(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=Jm(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:s,_longestTextCache:i}=this,a=[],o=[],c=Math.floor(r/Qm(r,n));let d=0,u=0,h,f,m,g,p,b,y,x,v,w,k;for(h=0;h<r;h+=c){if(g=e[h].label,p=this._resolveTickFontOptions(h),s.font=b=p.string,y=i[b]=i[b]||{data:{},gc:[]},x=p.lineHeight,v=w=0,!Z(g)&&!Ce(g))v=Nm(s,y.data,y.gc,v,g),w=x;else if(Ce(g))for(f=0,m=g.length;f<m;++f)k=g[f],!Z(k)&&!Ce(k)&&(v=Nm(s,y.data,y.gc,v,k),w+=x);a.push(v),o.push(w),d=Math.max(v,d),u=Math.max(w,u)}C4(i,r);const j=a.indexOf(d),S=o.indexOf(u),N=P=>({width:a[P]||0,height:o[P]||0});return{first:N(0),last:N(r-1),widest:N(j),highest:N(S),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return dN(this._alignToPixels?tn(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=E4(this.getContext(),e,n))}return this.$context||(this.$context=P4(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=nr(this.labelRotation),n=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*n>o*s?o/n:c/s:c*s<o*n?c/n:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,s=this.options,{grid:i,position:a,border:o}=s,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Gs(i),m=[],g=o.setContext(this.getContext()),p=g.display?g.width:0,b=p/2,y=function(q){return tn(n,q,p)};let x,v,w,k,j,S,N,P,C,E,L,K;if(a==="top")x=y(this.bottom),S=this.bottom-f,P=x-b,E=y(e.top)+b,K=e.bottom;else if(a==="bottom")x=y(this.top),E=e.top,K=y(e.bottom)-b,S=x+b,P=this.top+f;else if(a==="left")x=y(this.right),j=this.right-f,N=x-b,C=y(e.left)+b,L=e.right;else if(a==="right")x=y(this.left),C=e.left,L=y(e.right)-b,j=x+b,N=this.left+f;else if(r==="x"){if(a==="center")x=y((e.top+e.bottom)/2+.5);else if(J(a)){const q=Object.keys(a)[0],W=a[q];x=y(this.chart.scales[q].getPixelForValue(W))}E=e.top,K=e.bottom,S=x+b,P=S+f}else if(r==="y"){if(a==="center")x=y((e.left+e.right)/2);else if(J(a)){const q=Object.keys(a)[0],W=a[q];x=y(this.chart.scales[q].getPixelForValue(W))}j=x-b,N=j-f,C=e.left,L=e.right}const he=H(s.ticks.maxTicksLimit,h),U=Math.max(1,Math.ceil(h/he));for(v=0;v<h;v+=U){const q=this.getContext(v),W=i.setContext(q),T=o.setContext(q),R=W.lineWidth,O=W.color,G=T.dash||[],X=T.dashOffset,xe=W.tickWidth,Se=W.tickColor,qt=W.tickBorderDash||[],We=W.tickBorderDashOffset;w=N4(this,v,c),w!==void 0&&(k=tn(n,w,R),d?j=N=C=L=k:S=P=E=K=k,m.push({tx1:j,ty1:S,tx2:N,ty2:P,x1:C,y1:E,x2:L,y2:K,width:R,color:O,borderDash:G,borderDashOffset:X,tickWidth:xe,tickColor:Se,tickBorderDash:qt,tickBorderDashOffset:We}))}return this._ticksLength=h,this._borderValue=x,m}_computeLabelItems(e){const r=this.axis,n=this.options,{position:s,ticks:i}=n,a=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,f=Gs(n.grid),m=f+u,g=h?-u:m,p=-nr(this.labelRotation),b=[];let y,x,v,w,k,j,S,N,P,C,E,L,K="middle";if(s==="top")j=this.bottom-g,S=this._getXAxisLabelAlignment();else if(s==="bottom")j=this.top+g,S=this._getXAxisLabelAlignment();else if(s==="left"){const U=this._getYAxisLabelAlignment(f);S=U.textAlign,k=U.x}else if(s==="right"){const U=this._getYAxisLabelAlignment(f);S=U.textAlign,k=U.x}else if(r==="x"){if(s==="center")j=(e.top+e.bottom)/2+m;else if(J(s)){const U=Object.keys(s)[0],q=s[U];j=this.chart.scales[U].getPixelForValue(q)+m}S=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")k=(e.left+e.right)/2-m;else if(J(s)){const U=Object.keys(s)[0],q=s[U];k=this.chart.scales[U].getPixelForValue(q)}S=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(c==="start"?K="top":c==="end"&&(K="bottom"));const he=this._getLabelSizes();for(y=0,x=o.length;y<x;++y){v=o[y],w=v.label;const U=i.setContext(this.getContext(y));N=this.getPixelForTick(y)+i.labelOffset,P=this._resolveTickFontOptions(y),C=P.lineHeight,E=Ce(w)?w.length:1;const q=E/2,W=U.color,T=U.textStrokeColor,R=U.textStrokeWidth;let O=S;a?(k=N,S==="inner"&&(y===x-1?O=this.options.reverse?"left":"right":y===0?O=this.options.reverse?"right":"left":O="center"),s==="top"?d==="near"||p!==0?L=-E*C+C/2:d==="center"?L=-he.highest.height/2-q*C+C:L=-he.highest.height+C/2:d==="near"||p!==0?L=C/2:d==="center"?L=he.highest.height/2-q*C:L=he.highest.height-E*C,h&&(L*=-1),p!==0&&!U.showLabelBackdrop&&(k+=C/2*Math.sin(p))):(j=N,L=(1-E)*C/2);let G;if(U.showLabelBackdrop){const X=kt(U.backdropPadding),xe=he.heights[y],Se=he.widths[y];let qt=L-X.top,We=0-X.left;switch(K){case"middle":qt-=xe/2;break;case"bottom":qt-=xe;break}switch(S){case"center":We-=Se/2;break;case"right":We-=Se;break;case"inner":y===x-1?We-=Se:y>0&&(We-=Se/2);break}G={left:We,top:qt,width:Se+X.width,height:xe+X.height,color:U.backdropColor}}b.push({label:w,font:P,textOffset:L,options:{rotation:p,color:W,strokeColor:T,strokeWidth:R,textAlign:O,textBaseline:K,translation:[k,j],backdrop:G}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-nr(this.labelRotation))return e==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),o=e+i,c=a.widest.width;let d,u;return r==="left"?s?(u=this.right+i,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-o,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):r==="right"?s?(u=this.left+i,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+o,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:s,width:i,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,s,i,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(r.display)for(i=0,a=s.length;i<a;++i){const c=s[i];r.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:s}}=this,i=n.setContext(this.getContext()),a=n.display?i.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=tn(e,this.left,a)-a/2,u=tn(e,this.right,o)+o/2,h=f=c):(h=tn(e,this.top,a)-a/2,f=tn(e,this.bottom,o)+o/2,d=u=c),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(d,h),r.lineTo(u,f),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&mh(n,s);const i=this.getLabelItems(e);for(const a of i){const o=a.options,c=a.font,d=a.label,u=a.textOffset;Zi(n,d,0,u,c,o)}s&&gh(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:s}}=this;if(!n.display)return;const i=Be(n.font),a=kt(n.padding),o=n.align;let c=i.lineHeight/2;r==="bottom"||r==="center"||J(r)?(c+=a.bottom,Ce(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=a.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=T4(this,c,r,o);Zi(e,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:M4(o,r,s),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=H(e.grid&&e.grid.z,-1),s=H(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ls.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let i,a;for(i=0,a=r.length;i<a;++i){const o=r[i];o[n]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Be(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ga{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;L4(r)&&(n=this.register(r));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,O4(e,a,n),this.override&&_e.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,s=this.scope;n in r&&delete r[n],s&&n in _e[s]&&(delete _e[s][n],this.override&&delete Pn[n])}}function O4(t,e,r){const n=Ki(Object.create(null),[r?_e.get(r):{},_e.get(e),t.defaults]);_e.set(e,n),t.defaultRoutes&&D4(e,t.defaultRoutes),t.descriptors&&_e.describe(e,t.descriptors)}function D4(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),s=n.pop(),i=[t].concat(n).join("."),a=e[r].split("."),o=a.pop(),c=a.join(".");_e.route(i,s,c,o)})}function L4(t){return"id"in t&&"defaults"in t}class R4{constructor(){this.controllers=new Ga(bn,"datasets",!0),this.elements=new Ga(Lt,"elements"),this.plugins=new Ga(Object,"plugins"),this.scales=new Ga(Ls,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(s=>{const i=n||this._getRegistryForType(s);n||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):re(s,a=>{const o=n||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,r,n){const s=ch(e);ce(n["before"+s],[],n),r[e](n),ce(n["after"+s],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const s=r.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var zt=new R4;class A4{constructor(){this._init=[]}notify(e,r,n,s){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,r,n,s){s=s||{};for(const i of e){const a=i.plugin,o=a[n],c=[r,s,i.options];if(ce(o,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Z(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,s=H(n.options&&n.options.plugins,{}),i=I4(n);return s===!1&&!r?[]:$4(e,i,s,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,s=(i,a)=>i.filter(o=>!a.some(c=>o.plugin.id===c.plugin.id));this._notify(s(r,n),e,"stop"),this._notify(s(n,r),e,"start")}}function I4(t){const e={},r=[],n=Object.keys(zt.plugins.items);for(let i=0;i<n.length;i++)r.push(zt.getPlugin(n[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function F4(t,e){return!e&&t===!1?null:t===!0?{}:t}function $4(t,{plugins:e,localIds:r},n,s){const i=[],a=t.getContext();for(const o of e){const c=o.id,d=F4(n[c],s);d!==null&&i.push({plugin:o,options:z4(t.config,{plugin:o,local:r[c]},d,a)})}return i}function z4(t,{plugin:e,local:r},n,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(n,i);return r&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Jd(t,e){const r=_e.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function B4(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function U4(t,e){return t===e?"_index_":"_value_"}function eg(t){if(t==="x"||t==="y"||t==="r")return t}function W4(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Zd(t,...e){if(eg(t))return t;for(const r of e){const n=r.axis||W4(r.position)||t.length>1&&eg(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function tg(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function H4(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return tg(t,"x",r[0])||tg(t,"y",r[0])}return{}}function V4(t,e){const r=Pn[t.type]||{scales:{}},n=e.scales||{},s=Jd(t.type,e),i=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!J(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Zd(a,o,H4(a,t),_e.scales[o.type]),d=U4(c,s),u=r.scales||{};i[a]=wi(Object.create(null),[{axis:c},o,u[c],u[d]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,c=a.indexAxis||Jd(o,e),u=(Pn[o]||{}).scales||{};Object.keys(u).forEach(h=>{const f=B4(h,c),m=a[f+"AxisID"]||f;i[m]=i[m]||Object.create(null),wi(i[m],[{axis:f},n[m],u[h]])})}),Object.keys(i).forEach(a=>{const o=i[a];wi(o,[_e.scales[o.type],_e.scale])}),i}function fx(t){const e=t.options||(t.options={});e.plugins=H(e.plugins,{}),e.scales=V4(t,e)}function mx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function q4(t){return t=t||{},t.data=mx(t.data),fx(t),t}const rg=new Map,gx=new Set;function Xa(t,e){let r=rg.get(t);return r||(r=e(),rg.set(t,r),gx.add(r)),r}const Xs=(t,e,r)=>{const n=Cn(e,r);n!==void 0&&t.add(n)};class Y4{constructor(e){this._config=q4(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=mx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),fx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Xa(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Xa(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Xa(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Xa(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let s=n.get(e);return(!s||r)&&(s=new Map,n.set(e,s)),s}getOptionScopes(e,r,n){const{options:s,type:i}=this,a=this._cachedScopes(e,n),o=a.get(r);if(o)return o;const c=new Set;r.forEach(u=>{e&&(c.add(e),u.forEach(h=>Xs(c,e,h))),u.forEach(h=>Xs(c,s,h)),u.forEach(h=>Xs(c,Pn[i]||{},h)),u.forEach(h=>Xs(c,_e,h)),u.forEach(h=>Xs(c,Xd,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),gx.has(r)&&a.set(r,d),d}chartOptionScopes(){const{options:e,type:r}=this;return[e,Pn[r]||{},_e.datasets[r]||{},{type:r},_e,Xd]}resolveNamedOptions(e,r,n,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=ng(this._resolverCache,e,s);let c=a;if(G4(a,r)){i.$shared=!1,n=qr(n)?n():n;const d=this.createResolver(e,n,o);c=js(a,n,d)}for(const d of r)i[d]=c[d];return i}createResolver(e,r,n=[""],s){const{resolver:i}=ng(this._resolverCache,e,n);return J(r)?js(i,r,void 0,s):i}}function ng(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const s=r.join();let i=n.get(s);return i||(i={resolver:yh(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(s,i)),i}const K4=t=>J(t)&&Object.getOwnPropertyNames(t).some(e=>qr(t[e]));function G4(t,e){const{isScriptable:r,isIndexable:n}=Qy(t);for(const s of e){const i=r(s),a=n(s),o=(a||i)&&t[s];if(i&&(qr(o)||K4(o))||a&&Ce(o))return!0}return!1}var X4="4.4.9";const Q4=["top","bottom","left","right","chartArea"];function sg(t,e){return t==="top"||t==="bottom"||Q4.indexOf(t)===-1&&e==="x"}function ig(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function ag(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),ce(r&&r.onComplete,[t],e)}function J4(t){const e=t.chart,r=e.options.animation;ce(r&&r.onProgress,[t],e)}function px(t){return bh()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const yo={},og=t=>{const e=px(t);return Object.values(yo).filter(r=>r.canvas===e).pop()};function Z4(t,e,r){const n=Object.keys(t);for(const s of n){const i=+s;if(i>=e){const a=t[s];delete t[s],(r>0||i>e)&&(t[i+r]=a)}}}function eP(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}var pr;let zl=(pr=class{static register(...e){zt.add(...e),lg()}static unregister(...e){zt.remove(...e),lg()}constructor(e,r){const n=this.config=new Y4(r),s=px(e),i=og(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||x4(s)),this.platform.updateConfig(n);const o=this.platform.acquireContext(s,a.aspectRatio),c=o&&o.canvas,d=c&&c.height,u=c&&c.width;if(this.id=GS(),this.ctx=o,this.canvas=c,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new A4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mN(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],yo[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Gt.listen(this,"complete",ag),Gt.listen(this,"progress",J4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:s,_aspectRatio:i}=this;return Z(e)?r&&i?i:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return zt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Mm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Cm(this.canvas,this.ctx),this}stop(){return Gt.stop(this),this}resize(e,r){Gt.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,s=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,r,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Mm(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),ce(n.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};re(r,(n,s)=>{n.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,s=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let i=[];r&&(i=i.concat(Object.keys(r).map(a=>{const o=r[a],c=Zd(a,o),d=c==="r",u=c==="x";return{options:o,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),re(i,a=>{const o=a.options,c=o.id,d=Zd(c,o),u=H(o.type,a.dtype);(o.position===void 0||sg(o.position,d)!==sg(a.dposition))&&(o.position=a.dposition),s[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const f=zt.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(o,e)}),re(s,(a,o)=>{a||delete n[o]}),re(n,a=>{pt.configure(this,a,a.options),pt.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((s,i)=>s.index-i.index),n>r){for(let s=r;s<n;++s)this._destroyDatasetMeta(s);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(ig("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,s)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=r.length;n<s;n++){const i=r[n];let a=this.getDatasetMeta(n);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=i.indexAxis||Jd(o,this.options),a.order=i.order||0,a.index=n,a.label=""+i.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const c=zt.getController(o),{datasetElementType:d,dataElementType:u}=_e.datasets[o];Object.assign(c,{dataElementType:zt.getElement(u),datasetElementType:d&&zt.getElement(d)}),a.controller=new c(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){re(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),s||re(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ig("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){re(this.scales,e=>{pt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!ym(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:i}of r){const a=n==="_removeElements"?-i:i;Z4(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),s=n(0);for(let i=1;i<r;i++)if(!ym(s,n(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;pt.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],re(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,qr(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Gt.has(this)?this.attached&&!Gt.running(this)&&Gt.start(this):(this.draw(),ag({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let s,i;for(s=0,i=r.length;s<i;++s){const a=r[s];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},s=bC(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&mh(r,s),e.controller.draw(),s&&gh(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Ji(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,s){const i=QC.modes[r];return typeof i=="function"?i(this,e,n,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let s=n.filter(i=>i&&i._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Ln(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const s=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);Gi(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Gt.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Cm(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete yo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,a)=>{r.addEventListener(this,i,a),e[i]=a},s=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};re(this.options.events,i=>n(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,d)=>{r.addEventListener(this,c,d),e[c]=d},s=(c,d)=>{e[c]&&(r.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():a()}unbindEvents(){re(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},re(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const s=n?"set":"remove";let i,a,o,c;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),o=0,c=e.length;o<c;++o){a=e[o];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!Jo(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const s=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=i(r,e),o=n?e:i(e,r);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:s=[],options:i}=this,a=r,o=this._getActiveElements(e,s,n,a),c=tN(e),d=eP(e,this._lastEvent,n,c);n&&(this._lastEvent=null,ce(i.onHover,[e,o,this],this),c&&ce(i.onClick,[e,o,this],this));const u=!Jo(o,s);return(u||r)&&(this._active=o,this._updateHoverStyles(o,s,r)),this._lastEvent=d,u}_getActiveElements(e,r,n,s){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},A(pr,"defaults",_e),A(pr,"instances",yo),A(pr,"overrides",Pn),A(pr,"registry",zt),A(pr,"version",X4),A(pr,"getChart",og),pr);function lg(){return re(zl.instances,t=>t._plugins.invalidate())}function tP(t,e,r){const{startAngle:n,pixelMargin:s,x:i,y:a,outerRadius:o,innerRadius:c}=e;let d=s/o;t.beginPath(),t.arc(i,a,o,n-d,r+d),c>s?(d=s/c,t.arc(i,a,c,r+d,n-d,!0)):t.arc(i,a,s,r+Ee,n-Ee),t.closePath(),t.clip()}function rP(t){return ph(t,["outerStart","outerEnd","innerStart","innerEnd"])}function nP(t,e,r,n){const s=rP(t.options.borderRadius),i=(r-e)/2,a=Math.min(i,n*e/2),o=c=>{const d=(r-Math.min(i,c))*n/2;return ze(c,0,Math.min(i,d))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:ze(s.innerStart,0,a),innerEnd:ze(s.innerEnd,0,a)}}function Bn(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function sl(t,e,r,n,s,i){const{x:a,y:o,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+n+r-d,0),f=u>0?u+n+r+d:0;let m=0;const g=s-c;if(n){const U=u>0?u-n:0,q=h>0?h-n:0,W=(U+q)/2,T=W!==0?g*W/(W+n):g;m=(g-T)/2}const p=Math.max(.001,g*h-r/we)/h,b=(g-p)/2,y=c+b+m,x=s-b-m,{outerStart:v,outerEnd:w,innerStart:k,innerEnd:j}=nP(e,f,h,x-y),S=h-v,N=h-w,P=y+v/S,C=x-w/N,E=f+k,L=f+j,K=y+k/E,he=x-j/L;if(t.beginPath(),i){const U=(P+C)/2;if(t.arc(a,o,h,P,U),t.arc(a,o,h,U,C),w>0){const R=Bn(N,C,a,o);t.arc(R.x,R.y,w,C,x+Ee)}const q=Bn(L,x,a,o);if(t.lineTo(q.x,q.y),j>0){const R=Bn(L,he,a,o);t.arc(R.x,R.y,j,x+Ee,he+Math.PI)}const W=(x-j/f+(y+k/f))/2;if(t.arc(a,o,f,x-j/f,W,!0),t.arc(a,o,f,W,y+k/f,!0),k>0){const R=Bn(E,K,a,o);t.arc(R.x,R.y,k,K+Math.PI,y-Ee)}const T=Bn(S,y,a,o);if(t.lineTo(T.x,T.y),v>0){const R=Bn(S,P,a,o);t.arc(R.x,R.y,v,y-Ee,P)}}else{t.moveTo(a,o);const U=Math.cos(P)*h+a,q=Math.sin(P)*h+o;t.lineTo(U,q);const W=Math.cos(C)*h+a,T=Math.sin(C)*h+o;t.lineTo(W,T)}t.closePath()}function sP(t,e,r,n,s){const{fullCircles:i,startAngle:a,circumference:o}=e;let c=e.endAngle;if(i){sl(t,e,r,n,c,s);for(let d=0;d<i;++d)t.fill();isNaN(o)||(c=a+(o%be||be))}return sl(t,e,r,n,c,s),t.fill(),c}function iP(t,e,r,n,s){const{fullCircles:i,startAngle:a,circumference:o,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=c,m=c.borderAlign==="inner";if(!d)return;t.setLineDash(h||[]),t.lineDashOffset=f,m?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let g=e.endAngle;if(i){sl(t,e,r,n,g,s);for(let p=0;p<i;++p)t.stroke();isNaN(o)||(g=a+(o%be||be))}m&&tP(t,e,g),i||(sl(t,e,r,n,g,s),t.stroke())}class ii extends Lt{constructor(r){super();A(this,"circumference");A(this,"endAngle");A(this,"fullCircles");A(this,"innerRadius");A(this,"outerRadius");A(this,"pixelMargin");A(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.getProps(["x","y"],s),{angle:a,distance:o}=Wy(i,{x:r,y:n}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,g=H(f,d-c),p=Qi(a,c,d)&&c!==d,b=g>=be||p,y=Tr(o,u+m,h+m);return b&&y}getCenterPoint(r){const{x:n,y:s,startAngle:i,endAngle:a,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:d,spacing:u}=this.options,h=(i+a)/2,f=(o+c+u+d)/2;return{x:n+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:s}=this,i=(n.offset||0)/4,a=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>be?Math.floor(s/be):0,s===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*i,Math.sin(c)*i);const d=1-Math.sin(Math.min(we,s||0)),u=i*d;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,sP(r,this,u,a,o),iP(r,this,u,a,o),r.restore()}}A(ii,"id","arc"),A(ii,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),A(ii,"defaultRoutes",{backgroundColor:"backgroundColor"}),A(ii,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function yx(t,e,r=e){t.lineCap=H(r.borderCapStyle,e.borderCapStyle),t.setLineDash(H(r.borderDash,e.borderDash)),t.lineDashOffset=H(r.borderDashOffset,e.borderDashOffset),t.lineJoin=H(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=H(r.borderWidth,e.borderWidth),t.strokeStyle=H(r.borderColor,e.borderColor)}function aP(t,e,r){t.lineTo(r.x,r.y)}function oP(t){return t.stepped?PN:t.tension||t.cubicInterpolationMode==="monotone"?EN:aP}function xx(t,e,r={}){const n=t.length,{start:s=0,end:i=n-1}=r,{start:a,end:o}=e,c=Math.max(s,a),d=Math.min(i,o),u=s<a&&i<a||s>o&&i>o;return{count:n,start:c,loop:e.loop,ilen:d<c&&!u?n+d-c:d-c}}function lP(t,e,r,n){const{points:s,options:i}=e,{count:a,start:o,loop:c,ilen:d}=xx(s,r,n),u=oP(i);let{move:h=!0,reverse:f}=n||{},m,g,p;for(m=0;m<=d;++m)g=s[(o+(f?d-m:m))%a],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):u(t,p,g,f,i.stepped),p=g);return c&&(g=s[(o+(f?d:0))%a],u(t,p,g,f,i.stepped)),!!c}function cP(t,e,r,n){const s=e.points,{count:i,start:a,ilen:o}=xx(s,r,n),{move:c=!0,reverse:d}=n||{};let u=0,h=0,f,m,g,p,b,y;const x=w=>(a+(d?o-w:w))%i,v=()=>{p!==b&&(t.lineTo(u,b),t.lineTo(u,p),t.lineTo(u,y))};for(c&&(m=s[x(0)],t.moveTo(m.x,m.y)),f=0;f<=o;++f){if(m=s[x(f)],m.skip)continue;const w=m.x,k=m.y,j=w|0;j===g?(k<p?p=k:k>b&&(b=k),u=(h*u+w)/++h):(v(),t.lineTo(w,k),g=j,h=0,p=b=k),y=k}v()}function eu(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?cP:lP}function dP(t){return t.stepped?oC:t.tension||t.cubicInterpolationMode==="monotone"?lC:cn}function uP(t,e,r,n){let s=e._path;s||(s=e._path=new Path2D,e.path(s,r,n)&&s.closePath()),yx(t,e.options),t.stroke(s)}function hP(t,e,r,n){const{segments:s,options:i}=e,a=eu(e);for(const o of s)yx(t,i,o.style),t.beginPath(),a(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const fP=typeof Path2D=="function";function mP(t,e,r,n){fP&&!e.options.segment?uP(t,e,r,n):hP(t,e,r,n)}class ai extends Lt{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;ZN(this._points,n,e,s,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=pC(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,s=e[r],i=this.points,a=fC(this,{property:r,start:s,end:s});if(!a.length)return;const o=[],c=dP(n);let d,u;for(d=0,u=a.length;d<u;++d){const{start:h,end:f}=a[d],m=i[h],g=i[f];if(m===g){o.push(m);continue}const p=Math.abs((s-m[r])/(g[r]-m[r])),b=c(m,g,p,n.stepped);b[r]=e[r],o.push(b)}return o.length===1?o[0]:o}pathSegment(e,r,n){return eu(this)(e,this,r,n)}path(e,r,n){const s=this.segments,i=eu(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const o of s)a&=i(e,this,o,{start:r,end:r+n-1});return!!a}draw(e,r,n,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),mP(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}A(ai,"id","line"),A(ai,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),A(ai,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),A(ai,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function cg(t,e,r,n){const s=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<s.radius+s.hitRadius}class xo extends Lt{constructor(r){super();A(this,"parsed");A(this,"skip");A(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.options,{x:a,y:o}=this.getProps(["x","y"],s);return Math.pow(r-a,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return cg(this,r,"x",n)}inYRange(r,n){return cg(this,r,"y",n)}getCenterPoint(r){const{x:n,y:s}=this.getProps(["x","y"],r);return{x:n,y:s}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const s=n&&r.borderWidth||0;return(n+s)*2}draw(r,n){const s=this.options;this.skip||s.radius<.1||!Ji(this,n,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,Qd(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}A(xo,"id","point"),A(xo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),A(xo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function vx(t,e){const{x:r,y:n,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let o,c,d,u,h;return t.horizontal?(h=a/2,o=Math.min(r,s),c=Math.max(r,s),d=n-h,u=n+h):(h=i/2,o=r-h,c=r+h,d=Math.min(n,s),u=Math.max(n,s)),{left:o,top:d,right:c,bottom:u}}function Or(t,e,r,n){return t?0:ze(e,r,n)}function gP(t,e,r){const n=t.options.borderWidth,s=t.borderSkipped,i=Xy(n);return{t:Or(s.top,i.top,0,r),r:Or(s.right,i.right,0,e),b:Or(s.bottom,i.bottom,0,r),l:Or(s.left,i.left,0,e)}}function pP(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=cs(s),a=Math.min(e,r),o=t.borderSkipped,c=n||J(s);return{topLeft:Or(!c||o.top||o.left,i.topLeft,0,a),topRight:Or(!c||o.top||o.right,i.topRight,0,a),bottomLeft:Or(!c||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:Or(!c||o.bottom||o.right,i.bottomRight,0,a)}}function yP(t){const e=vx(t),r=e.right-e.left,n=e.bottom-e.top,s=gP(t,r/2,n/2),i=pP(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Ac(t,e,r,n){const s=e===null,i=r===null,o=t&&!(s&&i)&&vx(t,n);return o&&(s||Tr(e,o.left,o.right))&&(i||Tr(r,o.top,o.bottom))}function xP(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function vP(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ic(t,e,r={}){const n=t.x!==r.x?-e:0,s=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,a=(t.y+t.h!==r.y+r.h?e:0)-s;return{x:t.x+n,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class vo extends Lt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:s}}=this,{inner:i,outer:a}=yP(this),o=xP(a.radius)?tl:vP;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),o(e,Ic(a,r,i)),e.clip(),o(e,Ic(i,-r,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,Ic(i,r)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,r,n){return Ac(this,e,r,n)}inXRange(e,r){return Ac(this,e,null,r)}inYRange(e,r){return Ac(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+s)/2:r,y:i?n:(n+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}A(vo,"id","bar"),A(vo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),A(vo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const dg=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},bP=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class ug extends Lt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=ce(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,s)=>e.sort(n,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,s=Be(n.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=dg(n,i);let d,u;r.font=s.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(a,i,o,c)+10):(u=this.maxHeight,d=this._fitCols(a,s,o,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,s){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=s+o;let h=e;i.textAlign="left",i.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((g,p)=>{const b=n+r/2+i.measureText(g.text).width;(p===0||d[d.length-1]+b+2*o>a)&&(h+=u,d[d.length-(p>0?0:1)]=0,m+=u,f++),c[p]={left:0,top:m,row:f,width:b,height:s},d[d.length-1]+=b+o}),h}_fitCols(e,r,n,s){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=a-e;let h=o,f=0,m=0,g=0,p=0;return this.legendItems.forEach((b,y)=>{const{itemWidth:x,itemHeight:v}=wP(n,r,i,b,s);y>0&&m+v+2*o>u&&(h+=f+o,d.push({width:f,height:m}),g+=f+o,p++,f=m=0),c[y]={left:g,top:m,col:p,width:x,height:v},f=Math.max(f,x),m+=v+o}),h+=f,d.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:s},rtl:i}}=this,a=ds(i,this.left,this.width);if(this.isHorizontal()){let o=0,c=Fe(n,this.left+s,this.right-this.lineWidths[o]);for(const d of r)o!==d.row&&(o=d.row,c=Fe(n,this.left+s,this.right-this.lineWidths[o])),d.top+=this.top+e+s,d.left=a.leftForLtr(a.x(c),d.width),c+=d.width+s}else{let o=0,c=Fe(n,this.top+e+s,this.bottom-this.columnSizes[o].height);for(const d of r)d.col!==o&&(o=d.col,c=Fe(n,this.top+e+s,this.bottom-this.columnSizes[o].height)),d.top=c,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),c+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;mh(e,this),this._draw(),gh(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:s}=this,{align:i,labels:a}=e,o=_e.color,c=ds(e.rtl,this.left,this.width),d=Be(a.font),{padding:u}=a,h=d.size,f=h/2;let m;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:g,boxHeight:p,itemHeight:b}=dg(a,h),y=function(j,S,N){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;s.save();const P=H(N.lineWidth,1);if(s.fillStyle=H(N.fillStyle,o),s.lineCap=H(N.lineCap,"butt"),s.lineDashOffset=H(N.lineDashOffset,0),s.lineJoin=H(N.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=H(N.strokeStyle,o),s.setLineDash(H(N.lineDash,[])),a.usePointStyle){const C={radius:p*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:P},E=c.xPlus(j,g/2),L=S+f;Gy(s,C,E,L,a.pointStyleWidth&&g)}else{const C=S+Math.max((h-p)/2,0),E=c.leftForLtr(j,g),L=cs(N.borderRadius);s.beginPath(),Object.values(L).some(K=>K!==0)?tl(s,{x:E,y:C,w:g,h:p,radius:L}):s.rect(E,C,g,p),s.fill(),P!==0&&s.stroke()}s.restore()},x=function(j,S,N){Zi(s,N.text,j,S+b/2,d,{strikethrough:N.hidden,textAlign:c.textAlign(N.textAlign)})},v=this.isHorizontal(),w=this._computeTitleHeight();v?m={x:Fe(i,this.left+u,this.right-n[0]),y:this.top+u+w,line:0}:m={x:this.left+u,y:Fe(i,this.top+w+u,this.bottom-r[0].height),line:0},rx(this.ctx,e.textDirection);const k=b+u;this.legendItems.forEach((j,S)=>{s.strokeStyle=j.fontColor,s.fillStyle=j.fontColor;const N=s.measureText(j.text).width,P=c.textAlign(j.textAlign||(j.textAlign=a.textAlign)),C=g+f+N;let E=m.x,L=m.y;c.setWidth(this.width),v?S>0&&E+C+u>this.right&&(L=m.y+=k,m.line++,E=m.x=Fe(i,this.left+u,this.right-n[m.line])):S>0&&L+k>this.bottom&&(E=m.x=E+r[m.line].width+u,m.line++,L=m.y=Fe(i,this.top+w+u,this.bottom-r[m.line].height));const K=c.x(E);if(y(K,L,j),E=gN(P,E+g+f,v?E+C:this.right,e.rtl),x(c.x(E),L,j),v)m.x+=C+u;else if(typeof j.text!="string"){const he=d.lineHeight;m.y+=bx(j,he)+u}else m.y+=k}),nx(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=Be(r.font),s=kt(r.padding);if(!r.display)return;const i=ds(e.rtl,this.left,this.width),a=this.ctx,o=r.position,c=n.size/2,d=s.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=Fe(e.align,h,this.right-f);else{const g=this.columnSizes.reduce((p,b)=>Math.max(p,b.height),0);u=d+Fe(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const m=Fe(o,h,h+f);a.textAlign=i.textAlign(uh(o)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,Zi(a,r.text,m,u,n)}_computeTitleHeight(){const e=this.options.title,r=Be(e.font),n=kt(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,s,i;if(Tr(e,this.left,this.right)&&Tr(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(s=i[n],Tr(e,s.left,s.left+s.width)&&Tr(r,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!jP(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=bP(s,n);s&&!i&&ce(r.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!i&&ce(r.onHover,[e,n,this],this)}else n&&ce(r.onClick,[e,n,this],this)}}function wP(t,e,r,n,s){const i=kP(n,t,e,r),a=_P(s,n,e.lineHeight);return{itemWidth:i,itemHeight:a}}function kP(t,e,r,n){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+r.size/2+n.measureText(s).width}function _P(t,e,r){let n=t;return typeof e.text!="string"&&(n=bx(e,r)),n}function bx(t,e){const r=t.text?t.text.length:0;return e*r}function jP(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var SP={id:"legend",_element:ug,start(t,e,r){const n=t.legend=new ug({ctx:t.ctx,options:r,chart:t});pt.configure(t,n,r),pt.addBox(t,n)},stop(t){pt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;pt.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),e.hidden=!0):(s.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(r?0:void 0),u=kt(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:a&&(o||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class wx extends Lt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const s=Ce(n.text)?n.text.length:1;this._padding=kt(n.padding);const i=s*Be(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:s,right:i,options:a}=this,o=a.align;let c=0,d,u,h;return this.isHorizontal()?(u=Fe(o,n,i),h=r+e,d=i-n):(a.position==="left"?(u=n+e,h=Fe(o,s,r),c=we*-.5):(u=i-e,h=Fe(o,r,s),c=we*.5),d=s-r),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=Be(r.font),i=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:c,rotation:d}=this._drawArgs(i);Zi(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:d,textAlign:uh(r.align),textBaseline:"middle",translation:[a,o]})}}function NP(t,e){const r=new wx({ctx:t.ctx,options:e,chart:t});pt.configure(t,r,e),pt.addBox(t,r),t.titleBlock=r}var CP={id:"title",_element:wx,start(t,e,r){NP(t,r)},stop(t){const e=t.titleBlock;pt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;pt.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const oi={average(t){if(!t.length)return!1;let e,r,n=new Set,s=0,i=0;for(e=0,r=t.length;e<r;++e){const o=t[e].element;if(o&&o.hasValue()){const c=o.tooltipPosition();n.add(c.x),s+=c.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((o,c)=>o+c)/n.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,s=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=t.length;i<a;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Gd(e,d);u<s&&(s=u,o=c)}}if(o){const c=o.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function Ft(t,e){return e&&(Ce(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Xt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function PP(t,e){const{element:r,datasetIndex:n,index:s}=e,i=t.getDatasetMeta(n).controller,{label:a,value:o}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[n].data[s],formattedValue:o,dataset:i.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function hg(t,e){const r=t.chart.ctx,{body:n,footer:s,title:i}=t,{boxWidth:a,boxHeight:o}=e,c=Be(e.bodyFont),d=Be(e.titleFont),u=Be(e.footerFont),h=i.length,f=s.length,m=n.length,g=kt(e.padding);let p=g.height,b=0,y=n.reduce((w,k)=>w+k.before.length+k.lines.length+k.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(p+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const w=e.displayColors?Math.max(o,c.lineHeight):c.lineHeight;p+=m*w+(y-m)*c.lineHeight+(y-1)*e.bodySpacing}f&&(p+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let x=0;const v=function(w){b=Math.max(b,r.measureText(w).width+x)};return r.save(),r.font=d.string,re(t.title,v),r.font=c.string,re(t.beforeBody.concat(t.afterBody),v),x=e.displayColors?a+2+e.boxPadding:0,re(n,w=>{re(w.before,v),re(w.lines,v),re(w.after,v)}),x=0,r.font=u.string,re(t.footer,v),r.restore(),b+=g.width,{width:b,height:p}}function EP(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function MP(t,e,r,n){const{x:s,width:i}=n,a=r.caretSize+r.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function TP(t,e,r,n){const{x:s,width:i}=r,{width:a,chartArea:{left:o,right:c}}=t;let d="center";return n==="center"?d=s<=(o+c)/2?"left":"right":s<=i/2?d="left":s>=a-i/2&&(d="right"),MP(d,t,e,r)&&(d="center"),d}function fg(t,e,r){const n=r.yAlign||e.yAlign||EP(t,r);return{xAlign:r.xAlign||e.xAlign||TP(t,e,r,n),yAlign:n}}function OP(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function DP(t,e,r){let{y:n,height:s}=t;return e==="top"?n+=r:e==="bottom"?n-=s+r:n-=s/2,n}function mg(t,e,r,n){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:o,yAlign:c}=r,d=s+i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=cs(a);let g=OP(e,o);const p=DP(e,c,d);return c==="center"?o==="left"?g+=d:o==="right"&&(g-=d):o==="left"?g-=Math.max(u,f)+s:o==="right"&&(g+=Math.max(h,m)+s),{x:ze(g,0,n.width-e.width),y:ze(p,0,n.height-e.height)}}function Qa(t,e,r){const n=kt(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function gg(t){return Ft([],Xt(t))}function LP(t,e,r){return Ln(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function pg(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const kx={beforeTitle:Kt,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Kt,beforeBody:Kt,beforeLabel:Kt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return Z(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Kt,afterBody:Kt,beforeFooter:Kt,footer:Kt,afterFooter:Kt};function Qe(t,e,r,n){const s=t[e].call(r,n);return typeof s>"u"?kx[e].call(r,n):s}class tu extends Lt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&r.options.animation&&n.animations,i=new ix(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=LP(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,s=Qe(n,"beforeTitle",this,e),i=Qe(n,"title",this,e),a=Qe(n,"afterTitle",this,e);let o=[];return o=Ft(o,Xt(s)),o=Ft(o,Xt(i)),o=Ft(o,Xt(a)),o}getBeforeBody(e,r){return gg(Qe(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,s=[];return re(e,i=>{const a={before:[],lines:[],after:[]},o=pg(n,i);Ft(a.before,Xt(Qe(o,"beforeLabel",this,i))),Ft(a.lines,Qe(o,"label",this,i)),Ft(a.after,Xt(Qe(o,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,r){return gg(Qe(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,s=Qe(n,"beforeFooter",this,e),i=Qe(n,"footer",this,e),a=Qe(n,"afterFooter",this,e);let o=[];return o=Ft(o,Xt(s)),o=Ft(o,Xt(i)),o=Ft(o,Xt(a)),o}_createItems(e){const r=this._active,n=this.chart.data,s=[],i=[],a=[];let o=[],c,d;for(c=0,d=r.length;c<d;++c)o.push(PP(this.chart,r[c]));return e.filter&&(o=o.filter((u,h,f)=>e.filter(u,h,f,n))),e.itemSort&&(o=o.sort((u,h)=>e.itemSort(u,h,n))),re(o,u=>{const h=pg(e.callbacks,u);s.push(Qe(h,"labelColor",this,u)),i.push(Qe(h,"labelPointStyle",this,u)),a.push(Qe(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(e,r){const n=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const o=oi[n.position].call(this,s,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const c=this._size=hg(this,n),d=Object.assign({},o,c),u=fg(this.chart,n,d),h=mg(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,s){const i=this.getCaretPosition(e,n,s);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=cs(o),{x:f,y:m}=e,{width:g,height:p}=r;let b,y,x,v,w,k;return i==="center"?(w=m+p/2,s==="left"?(b=f,y=b-a,v=w+a,k=w-a):(b=f+g,y=b+a,v=w-a,k=w+a),x=b):(s==="left"?y=f+Math.max(c,u)+a:s==="right"?y=f+g-Math.max(d,h)-a:y=this.caretX,i==="top"?(v=m,w=v-a,b=y-a,x=y+a):(v=m+p,w=v+a,b=y+a,x=y-a),k=v),{x1:b,x2:y,x3:x,y1:v,y2:w,y3:k}}drawTitle(e,r,n){const s=this.title,i=s.length;let a,o,c;if(i){const d=ds(n.rtl,this.x,this.width);for(e.x=Qa(this,n.titleAlign,n),r.textAlign=d.textAlign(n.titleAlign),r.textBaseline="middle",a=Be(n.titleFont),o=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,c=0;c<i;++c)r.fillText(s[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,c+1===i&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,r,n,s,i){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=i,u=Be(i.bodyFont),h=Qa(this,"left",i),f=s.x(h),m=c<u.lineHeight?(u.lineHeight-c)/2:0,g=r.y+m;if(i.usePointStyle){const p={radius:Math.min(d,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=s.leftForLtr(f,d)+d/2,y=g+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Qd(e,p,b,y),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Qd(e,p,b,y)}else{e.lineWidth=J(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const p=s.leftForLtr(f,d),b=s.leftForLtr(s.xPlus(f,1),d-2),y=cs(a.borderRadius);Object.values(y).some(x=>x!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,tl(e,{x:p,y:g,w:d,h:c,radius:y}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),tl(e,{x:b,y:g+1,w:d-2,h:c-2,radius:y}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(p,g,d,c),e.strokeRect(p,g,d,c),e.fillStyle=a.backgroundColor,e.fillRect(b,g+1,d-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=Be(n.bodyFont);let f=h.lineHeight,m=0;const g=ds(n.rtl,this.x,this.width),p=function(N){r.fillText(N,g.x(e.x+m),e.y+f/2),e.y+=f+i},b=g.textAlign(a);let y,x,v,w,k,j,S;for(r.textAlign=a,r.textBaseline="middle",r.font=h.string,e.x=Qa(this,b,n),r.fillStyle=n.bodyColor,re(this.beforeBody,p),m=o&&b!=="right"?a==="center"?d/2+u:d+2+u:0,w=0,j=s.length;w<j;++w){for(y=s[w],x=this.labelTextColors[w],r.fillStyle=x,re(y.before,p),v=y.lines,o&&v.length&&(this._drawColorBox(r,e,w,g,n),f=Math.max(h.lineHeight,c)),k=0,S=v.length;k<S;++k)p(v[k]),f=h.lineHeight;re(y.after,p)}m=0,f=h.lineHeight,re(this.afterBody,p),e.y-=i}drawFooter(e,r,n){const s=this.footer,i=s.length;let a,o;if(i){const c=ds(n.rtl,this.x,this.width);for(e.x=Qa(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",a=Be(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,o=0;o<i;++o)r.fillText(s[o],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,r,n,s){const{xAlign:i,yAlign:a}=this,{x:o,y:c}=e,{width:d,height:u}=n,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:g}=cs(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(o+h,c),a==="top"&&this.drawCaret(e,r,n,s),r.lineTo(o+d-f,c),r.quadraticCurveTo(o+d,c,o+d,c+f),a==="center"&&i==="right"&&this.drawCaret(e,r,n,s),r.lineTo(o+d,c+u-g),r.quadraticCurveTo(o+d,c+u,o+d-g,c+u),a==="bottom"&&this.drawCaret(e,r,n,s),r.lineTo(o+m,c+u),r.quadraticCurveTo(o,c+u,o,c+u-m),a==="center"&&i==="left"&&this.drawCaret(e,r,n,s),r.lineTo(o,c+h),r.quadraticCurveTo(o,c,o+h,c),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,s=n&&n.x,i=n&&n.y;if(s||i){const a=oi[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=hg(this,e),c=Object.assign({},a,this._size),d=fg(r,e,c),u=mg(e,c,d,r);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=kt(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,s,r),rx(e,r.textDirection),i.y+=a.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),nx(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,s=e.map(({datasetIndex:o,index:c})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[c],index:c}}),i=!Jo(n,s),a=this._positionChanged(s,r);(i||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,r,n),o=this._positionChanged(a,e),c=r||!Jo(a,i)||o;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return r.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:n,caretY:s,options:i}=this,a=oi[i.position].call(this,e,r);return a!==!1&&(n!==a.x||s!==a.y)}}A(tu,"positioners",oi);var RP={id:"tooltip",_element:tu,positioners:oi,afterInit(t,e,r){r&&(t.tooltip=new tu({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:kx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const AP=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function IP(t,e,r,n){const s=t.indexOf(e);if(s===-1)return AP(t,e,r,n);const i=t.lastIndexOf(e);return s!==i?r:s}const FP=(t,e)=>t===null?null:ze(Math.round(t),0,e);function yg(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ru extends Ls{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:s,label:i}of r)n[s]===i&&n.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(Z(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:IP(n,e,H(r,e),this._addedLabels),FP(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,s=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=r;a++)s.push({value:a});return s}getLabelForValue(e){return yg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}A(ru,"id","category"),A(ru,"defaults",{ticks:{callback:yg}});function $P(t,e){const r=[],{bounds:s,step:i,min:a,max:o,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=t,m=i||1,g=u-1,{min:p,max:b}=e,y=!Z(a),x=!Z(o),v=!Z(d),w=(b-p)/(h+1);let k=vm((b-p)/g/m)*m,j,S,N,P;if(k<1e-14&&!y&&!x)return[{value:p},{value:b}];P=Math.ceil(b/k)-Math.floor(p/k),P>g&&(k=vm(P*k/g/m)*m),Z(c)||(j=Math.pow(10,c),k=Math.ceil(k*j)/j),s==="ticks"?(S=Math.floor(p/k)*k,N=Math.ceil(b/k)*k):(S=p,N=b),y&&x&&i&&aN((o-a)/i,k/1e3)?(P=Math.round(Math.min((o-a)/k,u)),k=(o-a)/P,S=a,N=o):v?(S=y?a:S,N=x?o:N,P=d-1,k=(N-S)/P):(P=(N-S)/k,ki(P,Math.round(P),k/1e3)?P=Math.round(P):P=Math.ceil(P));const C=Math.max(bm(k),bm(S));j=Math.pow(10,Z(c)?C:c),S=Math.round(S*j)/j,N=Math.round(N*j)/j;let E=0;for(y&&(f&&S!==a?(r.push({value:a}),S<a&&E++,ki(Math.round((S+E*k)*j)/j,a,xg(a,w,t))&&E++):S<a&&E++);E<P;++E){const L=Math.round((S+E*k)*j)/j;if(x&&L>o)break;r.push({value:L})}return x&&f&&N!==o?r.length&&ki(r[r.length-1].value,o,xg(o,w,t))?r[r.length-1].value=o:r.push({value:o}):(!x||N===o)&&r.push({value:N}),r}function xg(t,e,{horizontal:r,minRotation:n}){const s=nr(n),i=(r?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class zP extends Ls{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return Z(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this;const a=c=>s=r?s:c,o=c=>i=n?i:c;if(e){const c=Ht(s),d=Ht(i);c<0&&d<0?o(0):c>0&&d>0&&a(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);o(i+c),e||a(s-c)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,a=$P(s,i);return e.bounds==="ticks"&&oN(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-r)/Math.max(e.length-1,1)/2;r-=s,n+=s}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return fh(e,this.chart.options.locale,this.options.ticks.format)}}class nu extends zP{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=wt(e)?e:0,this.max=wt(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=nr(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}A(nu,"id","linear"),A(nu,"defaults",{ticks:{callback:Ky.formatters.numeric}});const Bl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},et=Object.keys(Bl);function vg(t,e){return t-e}function bg(t,e){if(Z(e))return null;const r=t._adapter,{parser:n,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),wt(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(s&&(a=s==="week"&&(Xi(i)||i===!0)?r.startOf(a,"isoWeek",i):r.startOf(a,s)),+a)}function wg(t,e,r,n){const s=et.length;for(let i=et.indexOf(t);i<s-1;++i){const a=Bl[et[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(o*a.size))<=n)return et[i]}return et[s-1]}function BP(t,e,r,n,s){for(let i=et.length-1;i>=et.indexOf(r);i--){const a=et[i];if(Bl[a].common&&t._adapter.diff(s,n,a)>=e-1)return a}return et[r?et.indexOf(r):0]}function UP(t){for(let e=et.indexOf(t)+1,r=et.length;e<r;++e)if(Bl[et[e]].common)return et[e]}function kg(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:s}=dh(r,e),i=r[n]>=e?r[n]:r[s];t[i]=!0}}function WP(t,e,r,n){const s=t._adapter,i=+s.startOf(e[0].value,n),a=e[e.length-1].value;let o,c;for(o=i;o<=a;o=+s.add(o,1,n))c=r[o],c>=0&&(e[c].major=!0);return e}function _g(t,e,r){const n=[],s={},i=e.length;let a,o;for(a=0;a<i;++a)o=e[a],s[o]=a,n.push({value:o,major:!1});return i===0||!r?n:WP(t,n,s,r)}class il extends Ls{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),s=this._adapter=new qC._date(e.adapters.date);s.init(r),wi(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:bg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!o&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!a||!o)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=wt(s)&&!isNaN(s)?s:+r.startOf(Date.now(),n),i=wt(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,o=hN(s,i,a);return this._unit=r.unit||(n.autoSkip?wg(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):BP(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:UP(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),_g(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?r=1-s:r=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=ze(r,0,a),n=ze(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,s=this.options,i=s.time,a=i.unit||wg(i.minUnit,r,n,this._getLabelCapacity(r)),o=H(s.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,d=Xi(c)||c===!0,u={};let h=r,f,m;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":a),e.diff(n,r,a)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+a);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<n;f=+e.add(f,o,a),m++)kg(u,f,g);return(f===n||s.bounds==="ticks"||m===1)&&kg(u,f,g),Object.keys(u).sort(vg).map(p=>+p)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const s=this.options.time.displayFormats,i=this._unit,a=r||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,r,n,s){const i=this.options,a=i.ticks.callback;if(a)return ce(a,[e,r,n],this);const o=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&o[c],h=d&&o[d],f=n[r],m=d&&h&&f&&f.major;return this._adapter.format(e,s||(m?h:u))}generateTickLabels(e){let r,n,s;for(r=0,n=e.length;r<n;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,s=nr(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*a,h:n*a+o*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,s=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,_g(this,[e],this._majorUnit),s),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,n=s.length;r<n;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const s=this.getLabels();for(r=0,n=s.length;r<n;++r)e.push(bg(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Vy(e.sort(vg))}}A(il,"id","time"),A(il,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ja(t,e,r){let n=0,s=t.length-1,i,a,o,c;r?(e>=t[n].pos&&e<=t[s].pos&&({lo:n,hi:s}=gn(t,"pos",e)),{pos:i,time:o}=t[n],{pos:a,time:c}=t[s]):(e>=t[n].time&&e<=t[s].time&&({lo:n,hi:s}=gn(t,"time",e)),{time:i,pos:o}=t[n],{time:a,pos:c}=t[s]);const d=a-i;return d?o+(c-o)*(e-i)/d:o}class jg extends il{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Ja(r,this.min),this._tableRange=Ja(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,s=[],i=[];let a,o,c,d,u;for(a=0,o=e.length;a<o;++a)d=e[a],d>=r&&d<=n&&s.push(d);if(s.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,o=s.length;a<o;++a)u=s[a+1],c=s[a-1],d=s[a],Math.round((u+c)/2)!==d&&i.push({time:d,pos:a/(o-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Ja(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Ja(this._table,n*this._tableRange+this._minPos,!0)}}A(jg,"id","timeseries"),A(jg,"defaults",il.defaults);const _x="label";function Sg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function HP(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function jx(t,e){t.labels=e}function Sx(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_x;const n=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[r]===s[r]);return!i||!s.data||n.includes(i)?{...s}:(n.push(i),Object.assign(i,s),i)})}function VP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_x;const r={labels:[],datasets:[]};return jx(r,t.labels),Sx(r,t.datasets,e),r}function qP(t,e){const{height:r=150,width:n=300,redraw:s=!1,datasetIdKey:i,type:a,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=t,m=_.useRef(null),g=_.useRef(null),p=()=>{m.current&&(g.current=new zl(m.current,{type:a,data:VP(o,i),options:c&&{...c},plugins:d}),Sg(e,g.current))},b=()=>{Sg(e,null),g.current&&(g.current.destroy(),g.current=null)};return _.useEffect(()=>{!s&&g.current&&c&&HP(g.current,c)},[s,c]),_.useEffect(()=>{!s&&g.current&&jx(g.current.config.data,o.labels)},[s,o.labels]),_.useEffect(()=>{!s&&g.current&&o.datasets&&Sx(g.current.config.data,o.datasets,i)},[s,o.datasets]),_.useEffect(()=>{g.current&&(s?(b(),setTimeout(p)):g.current.update(h))},[s,c,o.labels,o.datasets,h]),_.useEffect(()=>{g.current&&(b(),setTimeout(p))},[a]),_.useEffect(()=>(p(),()=>b()),[]),Pt.createElement("canvas",{ref:m,role:"img",height:r,width:n,...f},u)}const YP=_.forwardRef(qP);function _h(t,e){return zl.register(e),_.forwardRef((r,n)=>Pt.createElement(YP,{...r,ref:n,type:t}))}const KP=_h("line",go),GP=_h("bar",mo),XP=_h("doughnut",ni);function QP(t="30days"){const{user:e}=se(),[r,n]=_.useState(!0),[s,i]=_.useState(null),[a,o]=_.useState({revenueData:{labels:[],datasets:[]},salesByProductData:{labels:[],datasets:[]},customerData:{labels:[],datasets:[]},metrics:{totalRevenue:0,totalSales:0,customers:0,avgOrderValue:0,conversionRate:0,repeatCustomers:0,refundRate:0,emailOpenRate:0}});_.useEffect(()=>{if(!e){n(!1);return}async function h(){try{n(!0),console.log("Fetching analytics data for date range:",t);const f=new Date;let m=new Date;switch(t){case"7days":m.setDate(f.getDate()-7);break;case"30days":m.setDate(f.getDate()-30);break;case"90days":m.setDate(f.getDate()-90);break;case"year":m.setFullYear(f.getFullYear()-1);break;default:m.setDate(f.getDate()-30)}m=m.toISOString(),console.log("Date range:",m,"to",f.toISOString());const g=c(m,f.toISOString()),p=g.map(O=>O.toLocaleDateString("en-US",{month:"short",day:"numeric"}));let b={labels:p,datasets:[{label:"Daily Revenue",data:Array(p.length).fill(0),borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)",tension:.3},{label:"Cumulative Revenue",data:Array(p.length).fill(0),borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)",tension:.3}]},y={labels:[],datasets:[{label:"Sales by Product",data:[],backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)"],borderWidth:1}]},x={labels:p,datasets:[{label:"New Customers",data:Array(p.length).fill(0),backgroundColor:"rgba(153, 102, 255, 0.7)"}]},v={totalRevenue:0,totalSales:0,customers:0,avgOrderValue:0,conversionRate:0,repeatCustomers:0,refundRate:0,emailOpenRate:0};const{data:w,error:k}=await I.from("memberships").select("created_at, price").eq("user_id",e.id).eq("status","active").gte("created_at",m).order("created_at",{ascending:!0});if(k)throw console.error("Error fetching revenue data:",k),new Error(`Failed to fetch revenue data: ${k.message}`);if(console.log("Revenue data fetched:",(w==null?void 0:w.length)||0,"records"),w&&w.length>0){const O=d(w,g,"price"),G=u(O);b.datasets[0].data=O,b.datasets[1].data=G,v.totalRevenue=w.reduce((X,xe)=>X+(parseFloat(xe.price)||0),0),v.totalSales=w.length,v.avgOrderValue=v.totalSales>0?v.totalRevenue/v.totalSales:0}const{data:j,error:S}=await I.from("memberships").select(`
            price,
            product:product_id(id, name)
          `).eq("user_id",e.id).eq("status","active").gte("created_at",m);if(S)console.error("Error fetching product sales data:",S);else if(j&&j.length>0){console.log("Product sales data fetched:",j.length,"records");const O={};j.forEach(xe=>{if(xe.product&&xe.product.name){const Se=xe.product.name;O[Se]||(O[Se]=0),O[Se]+=1}});const G=Object.keys(O),X=G.map(xe=>O[xe]);G.length>0&&(y.labels=G,y.datasets[0].data=X)}const{data:N,error:P}=await I.from("customers").select("created_at").eq("user_id",e.id).gte("created_at",m).order("created_at",{ascending:!0});if(P)console.error("Error fetching customer data:",P);else if(N&&N.length>0){console.log("Customer data fetched:",N.length,"records");const O=d(N,g,"count");x.datasets[0].data=O}const{count:C,error:E}=await I.from("customers").select("id",{count:"exact",head:!0}).eq("user_id",e.id);E||(v.customers=C||0);const{data:L,error:K}=await I.from("page_views").select("id",{count:"exact",head:!0}).eq("user_id",e.id).gte("created_at",m);if(!K&&L&&v.totalSales>0){const O=L.length||0;v.conversionRate=O>0?v.totalSales/O*100:0}const{data:he,error:U}=await I.from("customers").select("id, purchase_count").eq("user_id",e.id).gt("purchase_count",1);!U&&he&&(v.repeatCustomers=v.customers>0?he.length/v.customers*100:0);const{data:q,error:W}=await I.from("memberships").select("id",{count:"exact",head:!0}).eq("user_id",e.id).eq("status","refunded").gte("created_at",m);if(!W&&q){const O=q.length||0;v.refundRate=v.totalSales>0?O/(v.totalSales+O)*100:0}const{data:T,error:R}=await I.from("email_campaigns").select("sent_count, open_count").eq("user_id",e.id).gte("created_at",m);if(!R&&T&&T.length>0){const O=T.reduce((X,xe)=>X+(xe.sent_count||0),0),G=T.reduce((X,xe)=>X+(xe.open_count||0),0);v.emailOpenRate=O>0?G/O*100:0}console.log("Setting real analytics data"),o({revenueData:b,salesByProductData:y,customerData:x,metrics:v})}catch(f){console.error("Error fetching analytics data:",f),i(f),o({revenueData:{labels:[],datasets:[{label:"Daily Revenue",data:[],borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)",tension:.3},{label:"Cumulative Revenue",data:[],borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)",tension:.3}]},salesByProductData:{labels:[],datasets:[{label:"Sales by Product",data:[],backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)"],borderWidth:1}]},customerData:{labels:[],datasets:[{label:"New Customers",data:[],backgroundColor:"rgba(153, 102, 255, 0.7)"}]},metrics:{totalRevenue:0,totalSales:0,customers:0,avgOrderValue:0,conversionRate:0,repeatCustomers:0,refundRate:0,emailOpenRate:0}})}finally{n(!1)}}h()},[e,t]);function c(h,f){const m=new Date(h),g=new Date(f),p=[];m.setHours(0,0,0,0);const b=new Date(m);for(;b<=g;)p.push(new Date(b)),b.setDate(b.getDate()+1);return p}function d(h,f,m){const g=Array(f.length).fill(0);return h.forEach(p=>{const b=new Date(p.created_at);b.setHours(0,0,0,0);const y=f.findIndex(x=>x.getFullYear()===b.getFullYear()&&x.getMonth()===b.getMonth()&&x.getDate()===b.getDate());y!==-1&&(m==="count"?g[y]+=1:g[y]+=parseFloat(p[m])||0)}),g}function u(h){return h.reduce((f,m,g)=>g===0?[m]:[...f,f[g-1]+m],[])}return{analyticsData:a,loading:r,error:s}}zl.register(ru,nu,xo,ai,vo,ii,CP,RP,SP);function JP(){const{user:t}=se(),[e,r]=_.useState("30days"),{analyticsData:n,loading:s,error:i}=QP(e);_.useEffect(()=>{console.log("Analytics component rendered with date range:",e),console.log("Current analytics data:",n)},[n,e]);const a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}};if(i)return l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(im,{className:"mr-2",size:20}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:"Error loading analytics data"}),l.jsx("p",{children:i.message})]})]})});const o=n.revenueData.labels.length>0||n.salesByProductData.labels.length>0||n.customerData.labels.length>0;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Analytics"}),l.jsxs("select",{className:"mt-2 sm:mt-0 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",value:e,onChange:c=>r(c.target.value),children:[l.jsx("option",{value:"7days",children:"Last 7 Days"}),l.jsx("option",{value:"30days",children:"Last 30 Days"}),l.jsx("option",{value:"90days",children:"Last 90 Days"}),l.jsx("option",{value:"year",children:"Last Year"})]})]}),s?l.jsxs("div",{className:"flex items-center justify-center p-12",children:[l.jsx(w2,{className:"animate-spin text-primary-500 mr-2",size:24}),l.jsx("span",{children:"Loading analytics data..."})]}):o?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Revenue"}),l.jsx(Dt,{className:"text-primary-500"})]}),l.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:qi(n.metrics.totalRevenue)}),n.metrics.totalRevenue>0&&l.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 flex items-center mt-1",children:[l.jsx(Ia,{className:"mr-1"}),"For selected period"]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Sales"}),l.jsx(Dl,{className:"text-primary-500"})]}),l.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n.metrics.totalSales}),n.metrics.totalSales>0&&l.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 flex items-center mt-1",children:[l.jsx(Ia,{className:"mr-1"}),"For selected period"]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Customers"}),l.jsx(da,{className:"text-primary-500"})]}),l.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n.metrics.customers}),n.metrics.customers>0&&l.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 flex items-center mt-1",children:[l.jsx(Ia,{className:"mr-1"}),"Total customers"]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Avg. Order Value"}),l.jsx(ur,{className:"text-primary-500"})]}),l.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:qi(n.metrics.avgOrderValue)}),n.metrics.avgOrderValue>0&&l.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 flex items-center mt-1",children:[l.jsx(Ia,{className:"mr-1"}),"For selected period"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Revenue Over Time"}),n.revenueData.labels.length>0?l.jsx("div",{className:"h-64",children:l.jsx(KP,{data:n.revenueData,options:a})}):l.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No revenue data available for this period"})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"New Customers"}),n.customerData.labels.length>0?l.jsx("div",{className:"h-64",children:l.jsx(GP,{data:n.customerData,options:a})}):l.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No customer data available for this period"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Sales by Product"}),n.salesByProductData.labels.length>0?l.jsx("div",{className:"h-64",children:l.jsx(XP,{data:n.salesByProductData,options:a})}):l.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No product sales data available for this period"})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Key Metrics"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Conversion Rate"}),l.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[n.metrics.conversionRate.toFixed(1),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:l.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${Math.min(n.metrics.conversionRate,100)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Repeat Customers"}),l.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[n.metrics.repeatCustomers.toFixed(1),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:l.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${Math.min(n.metrics.repeatCustomers,100)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Refund Rate"}),l.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[n.metrics.refundRate.toFixed(1),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:l.jsx("div",{className:"bg-red-600 h-2.5 rounded-full",style:{width:`${Math.min(n.metrics.refundRate,100)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Open Rate"}),l.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[n.metrics.emailOpenRate.toFixed(1),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:l.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${Math.min(n.metrics.emailOpenRate,100)}%`}})})]})]})]})]})]}):l.jsx("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded relative",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(im,{className:"mr-2",size:20}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:"No analytics data available"}),l.jsx("p",{children:"There is no data available for the selected time period. Try a different date range or add some products and sales to see analytics."})]})]})})]})}function ZP(){const{user:t}=se(),[e,r]=_.useState(null),[n,s]=_.useState(!0),[i,a]=_.useState(null);return _.useEffect(()=>{if(!t){r(null),s(!1);return}async function c(){try{s(!0);const{data:d,error:u}=await I.from("profiles").select("*").eq("id",t.id).single();if(u)if(u.code==="PGRST116"){const h={id:t.id,email:t.email},{data:f,error:m}=await I.from("profiles").insert([h]).select();if(m)throw console.error("Error creating profile:",m),m;r(f[0])}else throw console.error("Error fetching profile:",u),u;else r(d)}catch(d){console.error("Error in fetchProfile:",d),a(d)}finally{s(!1)}}c()},[t]),{profile:e,loading:n,error:i,updateProfile:async c=>{try{if(!t)throw new Error("User not authenticated");s(!0);const{data:d,error:u}=await I.from("profiles").update(c).eq("id",t.id).select();if(u)throw console.error("Supabase update error:",u),u;return r(d[0]),{success:!0,data:d[0]}}catch(d){return console.error("Error updating profile:",d),a(d),{success:!1,error:{message:d.message||"Unknown error occurred while updating profile"}}}finally{s(!1)}}}}function e3(){const{user:t}=se(),[e,r]=_.useState(null),[n,s]=_.useState(!0),[i,a]=_.useState(null);return _.useEffect(()=>{if(!t){r(null),s(!1);return}async function c(){try{s(!0);const{data:d,error:u}=await I.from("payment_settings").select("*").eq("user_id",t.id).single();if(u&&u.code!=="PGRST116")throw u;if(d)r(d);else{const h={user_id:t.id,paypal_email:"",stripe_connected:!1,payout_schedule:"instant",minimum_payout_amount:0},{data:f,error:m}=await I.from("payment_settings").insert([h]).select().single();if(m)throw m;r(f)}}catch(d){console.error("Error fetching payment settings:",d),a(d)}finally{s(!1)}}c()},[t]),{paymentSettings:e,loading:n,error:i,updatePaymentSettings:async c=>{try{if(!t)throw new Error("User not authenticated");s(!0);const d={...c,updated_at:new Date().toISOString()},{data:u,error:h}=await I.from("payment_settings").update(d).eq("user_id",t.id).select().single();if(h)throw h;return r(u),{success:!0,data:u}}catch(d){return console.error("Error updating payment settings:",d),a(d),{success:!1,error:d}}finally{s(!1)}}}}function t3(){const{user:t}=se(),{profile:e,loading:r,updateProfile:n}=ZP(),{paymentSettings:s,loading:i,updatePaymentSettings:a}=e3(),[o,c]=_.useState("profile"),[d,u]=_.useState(!1),[h,f]=_.useState({name:"",email:"",company:"",website:""}),[m,g]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[p,b]=_.useState({paypal_email:"",payout_schedule:"instant",minimum_payout_amount:0});_.useEffect(()=>{e&&f({name:e.name||"",email:e.email||(t==null?void 0:t.email)||"",company:e.company||"",website:e.website||""})},[e,t]),_.useEffect(()=>{s&&b({paypal_email:s.paypal_email||"",payout_schedule:s.payout_schedule||"instant",minimum_payout_amount:s.minimum_payout_amount||0})},[s]);const y=P=>{const{name:C,value:E}=P.target;f(L=>({...L,[C]:E}))},x=P=>{const{name:C,value:E}=P.target;g(L=>({...L,[C]:E}))},v=P=>{const{name:C,value:E}=P.target;b(L=>({...L,[C]:E}))},w=async P=>{P.preventDefault();try{u(!0),console.log("Updating profile with data:",{name:h.name,company:h.company,website:h.website});const{success:C,error:E,data:L}=await n({name:h.name,company:h.company,website:h.website});if(console.log("Update profile response:",{success:C,error:E,data:L}),!C)throw E||new Error("Failed to update profile");F.success("Profile updated successfully!")}catch(C){console.error("Error updating profile:",C),F.error(`Failed to update profile: ${C.message||"Unknown error"}`)}finally{u(!1)}},k=async P=>{if(P.preventDefault(),m.newPassword!==m.confirmPassword){F.error("New passwords do not match");return}try{u(!0);const{error:C}=await I.auth.updateUser({password:m.newPassword});if(C)throw C;F.success("Password updated successfully!"),g({currentPassword:"",newPassword:"",confirmPassword:""})}catch(C){console.error("Error updating password:",C),F.error("Failed to update password: "+C.message)}finally{u(!1)}},j=async P=>{P.preventDefault();try{u(!0);const{success:C,error:E}=await a({paypal_email:p.paypal_email,payout_schedule:p.payout_schedule,minimum_payout_amount:parseFloat(p.minimum_payout_amount)||0});if(!C)throw E||new Error("Failed to update payment settings");F.success("Payment settings updated successfully!")}catch(C){console.error("Error updating payment settings:",C),F.error(`Failed to update payment settings: ${C.message||"Unknown error"}`)}finally{u(!1)}},S=P=>{b(C=>({...C,payout_schedule:P.target.value}))},N=P=>{b(C=>({...C,minimum_payout_amount:parseFloat(P.target.value)||0}))};return r||i?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h1",{className:"text-2xl font-bold",children:"Settings"})}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[l.jsx("button",{className:`px-4 py-3 font-medium text-sm ${o==="profile"?"border-b-2 border-primary-600 text-primary-600":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>c("profile"),children:"Profile"}),l.jsx("button",{className:`px-4 py-3 font-medium text-sm ${o==="password"?"border-b-2 border-primary-600 text-primary-600":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>c("password"),children:"Password"}),l.jsx("button",{className:`px-4 py-3 font-medium text-sm ${o==="payment"?"border-b-2 border-primary-600 text-primary-600":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>c("payment"),children:"Payment Methods"})]}),l.jsxs("div",{className:"p-6",children:[o==="profile"&&l.jsxs("form",{onSubmit:w,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),l.jsx("input",{type:"text",name:"name",value:h.name,onChange:y,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Ko,{className:"text-gray-400"})}),l.jsx("input",{type:"email",name:"email",value:h.email,onChange:y,className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",disabled:!0})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Email cannot be changed"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company Name"}),l.jsx("input",{type:"text",name:"company",value:h.company,onChange:y,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Website"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Cy,{className:"text-gray-400"})}),l.jsx("input",{type:"url",name:"website",value:h.website,onChange:y,placeholder:"https://example.com",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):l.jsxs("span",{className:"flex items-center",children:[l.jsx(ir,{className:"mr-2"}),"Save Changes"]})})})]}),o==="password"&&l.jsxs("form",{onSubmit:k,children:[l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ls,{className:"text-gray-400"})}),l.jsx("input",{type:"password",name:"currentPassword",value:m.currentPassword,onChange:x,className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ls,{className:"text-gray-400"})}),l.jsx("input",{type:"password",name:"newPassword",value:m.newPassword,onChange:x,className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Password must be at least 8 characters long"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ls,{className:"text-gray-400"})}),l.jsx("input",{type:"password",name:"confirmPassword",value:m.confirmPassword,onChange:x,className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):l.jsxs("span",{className:"flex items-center",children:[l.jsx(ir,{className:"mr-2"}),"Update Password"]})})})]}),o==="payment"&&l.jsxs("form",{onSubmit:j,children:[l.jsxs("div",{className:"space-y-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Payment Processors"}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-white p-2 rounded-md mr-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-6 w-6 text-[#00457C]",children:l.jsx("path",{fill:"currentColor",d:"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944 3.72a.775.775 0 0 1 .768-.681h4.268c1.875 0 3.214.407 3.98 1.214.723.775.999 1.788.822 3.032-.06.424-.194.912-.379 1.486-.197.619-.448 1.177-.752 1.659-.317.505-.73.933-1.225 1.273-.483.33-1.075.601-1.763.809-.67.196-1.472.296-2.386.296h-.755c-.517 0-.605.245-.681.546l-.176.676c-.101.375-.202.757-.379 1.273-.172.508-.518.82-1.028.82l-.301.011zm2.347-11.354l-.339 1.617c-.049.23.012.345.185.345h.857c.585 0 1.066-.074 1.439-.223.373-.149.675-.395.905-.74.137-.229.271-.553.396-.973a3.389 3.389 0 0 0 .052-1.85c-.156-.424-.436-.716-.839-.875-.403-.159-.941-.238-1.613-.238h-1.207c-.143 0-.267.099-.301.238l.465 2.699zm14.049-3.048c-.089-.58-.252-1.066-.489-1.459-.249-.406-.587-.731-1.01-.975-.423-.244-.981-.406-1.659-.487-.677-.075-1.438-.075-2.274-.075h-4.167c-.195 0-.363.137-.394.33l-2.329 14.8a.382.382 0 0 0 .378.437h2.902c.193 0 .362-.137.393-.33l.564-3.592c.03-.194.199-.331.394-.331h1.316c.883 0 1.66-.08 2.333-.243.687-.175 1.304-.437 1.834-.784.543-.362 1.001-.817 1.364-1.362.362-.545.638-1.206.827-1.978.112-.435.191-.848.236-1.236.045-.387.06-.736.045-1.046-.016-.308-.071-.607-.164-.887l-.1.218zm-3.478 3.602c-.137.435-.335.783-.593 1.04-.258.257-.57.445-.933.563-.364.119-.803.178-1.316.178h-1.048c-.145 0-.266.099-.3.238l-.6 3.816c-.022.142.078.271.222.271h2.082c.185 0 .345-.134.375-.317l.9-5.713c.022-.142-.078-.271-.222-.271h-.504c-.145 0-.266.099-.3.238l.237-.043z"})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"PayPal"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Accept payments via PayPal"})]})]}),l.jsx("div",{children:l.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!p.paypal_email,onChange:P=>{P.target.checked||b(C=>({...C,paypal_email:""}))}}),l.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"})]})})]}),p.paypal_email||p.paypal_email===""?l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"PayPal Email"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Ko,{className:"text-gray-400"})}),l.jsx("input",{type:"email",name:"paypal_email",value:p.paypal_email,onChange:v,placeholder:"your-paypal-email@example.com",className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}):null]}),l.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-white p-2 rounded-md mr-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-6 w-6 text-[#635BFF]",children:l.jsx("path",{fill:"currentColor",d:"M13.479 9.883c-1.626-.604-2.512-.931-2.512-1.618 0-.558.504-.93 1.256-.93 1.107 0 2.16.434 2.663.558l.399-2.43c-.651-.28-1.609-.604-2.765-.604-2.368 0-4.025 1.255-4.025 3.059 0 1.5 1.19 2.38 3.105 3.059 1.244.465 1.653.791 1.653 1.302 0 .605-.532.977-1.518.977-1.244 0-2.44-.419-3.06-.744l-.392 2.464c.672.326 1.909.651 3.2.651 2.6 0 4.304-1.19 4.304-3.152.014-1.58-1.339-2.427-3.308-3.092zm-5.478 6.522H4.923L7.03 5.5H10.2l-2.199 10.905zm14.954-10.8l-1.02 6.344c-.112.326-.392.512-.784.512h-2.88l-2.072 4.05h-2.795l3.308-1.618c-.028 0 .84-3.92.84-3.92s.168-.93.98-.93h.588l.784-4.438H16.8l-.42 2.38h-1.667l.42-2.38h-2.905l-1.4 7.87c-.112.605.14 1.06.392 1.34.252.28.672.512 1.244.512h2.905l.56-3.21h2.765c.868 0 1.639-.326 1.909-1.34l1.371-8.172h-2.6z"})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Stripe"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Accept credit card payments via Stripe"})]})]}),l.jsx("div",{children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline",children:"Connect"})})]})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Payout Settings"}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payout Schedule"}),l.jsxs("select",{className:"w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2",value:p.payout_schedule,onChange:S,children:[l.jsx("option",{value:"instant",children:"Instant (after each sale)"}),l.jsx("option",{value:"daily",children:"Daily"}),l.jsx("option",{value:"weekly",children:"Weekly"}),l.jsx("option",{value:"monthly",children:"Monthly"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Minimum Payout Amount"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Dt,{className:"text-gray-400"})}),l.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"50.00",value:p.minimum_payout_amount,onChange:N,className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Minimum amount required before a payout is processed"})]})]})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):l.jsxs("span",{className:"flex items-center",children:[l.jsx(ir,{className:"mr-2"}),"Save Payment Settings"]})})})]})]})]})]})}function r3(){return l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-4 text-center",children:[l.jsx("div",{className:"mb-8",children:l.jsx("h1",{className:"text-9xl font-bold text-primary-600 dark:text-primary-400",children:"404"})}),l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Page Not Found"}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-md mb-8",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),l.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4",children:[l.jsxs($,{to:"/",className:"btn btn-primary",children:[l.jsx(Py,{className:"mr-2"}),"Go to Home"]}),l.jsxs("button",{onClick:()=>window.history.back(),className:"btn btn-outline",children:[l.jsx(bs,{className:"mr-2"}),"Go Back"]})]}),l.jsxs("div",{className:"mt-12 p-6 bg-gray-50 dark:bg-gray-800 rounded-lg max-w-lg",children:[l.jsx("h3",{className:"text-lg font-medium mb-3",children:"Looking for something?"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Try navigating to one of these popular destinations:"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx($,{to:"/dashboard",className:"p-3 bg-white dark:bg-gray-700 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:"Dashboard"}),l.jsx($,{to:"/products",className:"p-3 bg-white dark:bg-gray-700 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:"Products"}),l.jsx($,{to:"/memberships",className:"p-3 bg-white dark:bg-gray-700 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:"Memberships"}),l.jsx($,{to:"/customers",className:"p-3 bg-white dark:bg-gray-700 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:"Customers"})]})]})]})}function n3(){return l.jsxs(l.Fragment,{children:[l.jsx(Z0,{position:"top-right"}),l.jsx(Gw,{children:l.jsxs(ee,{path:"/",element:l.jsx(Qj,{}),children:[l.jsx(ee,{index:!0,element:l.jsx(Zj,{})}),l.jsx(ee,{path:"login",element:l.jsx(eS,{})}),l.jsx(ee,{path:"register",element:l.jsx(tS,{})}),l.jsx(ee,{path:"dashboard",element:l.jsx(Zr,{}),children:l.jsx(ee,{index:!0,element:l.jsx(hS,{})})}),l.jsxs(ee,{path:"products",element:l.jsx(Zr,{}),children:[l.jsx(ee,{index:!0,element:l.jsx(fS,{})}),l.jsx(ee,{path:"new",element:l.jsx(mS,{})}),l.jsx(ee,{path:":id",element:l.jsx(gS,{})}),l.jsx(ee,{path:"edit/:id",element:l.jsx(pS,{})})]}),l.jsxs(ee,{path:"memberships",element:l.jsx(Zr,{}),children:[l.jsx(ee,{index:!0,element:l.jsx(yS,{})}),l.jsx(ee,{path:"new",element:l.jsx(xS,{})}),l.jsx(ee,{path:":id",element:l.jsx(vS,{})}),l.jsx(ee,{path:"edit/:id",element:l.jsx(bS,{})})]}),l.jsxs(ee,{path:"customers",element:l.jsx(Zr,{}),children:[l.jsx(ee,{index:!0,element:l.jsx(wS,{})}),l.jsx(ee,{path:"new",element:l.jsx(kS,{})}),l.jsx(ee,{path:":id",element:l.jsx(_S,{})}),l.jsx(ee,{path:"edit/:id",element:l.jsx(jS,{})})]}),l.jsx(ee,{path:"sales",element:l.jsx(Zr,{}),children:l.jsx(ee,{index:!0,element:l.jsx(NS,{})})}),l.jsx(ee,{path:"analytics",element:l.jsx(Zr,{}),children:l.jsx(ee,{index:!0,element:l.jsx(JP,{})})}),l.jsx(ee,{path:"settings",element:l.jsx(Zr,{}),children:l.jsx(ee,{index:!0,element:l.jsx(t3,{})})}),l.jsx(ee,{path:"*",element:l.jsx(r3,{})})]})})]})}Fc.createRoot(document.getElementById("root")).render(l.jsx(Pt.StrictMode,{children:l.jsx(n1,{children:l.jsx(m2,{children:l.jsx(n3,{})})})}));
